(this.webpackJsonpsistema=this.webpackJsonpsistema||[]).push([[0],{21:function(e,t,a){},40:function(e,t,a){e.exports=a(50)},47:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(20),r=a.n(i),c=a(2),l=a(1),s=a(4),u=a(3),d=a(7),m=a(5),h=a(57),p=a(52),f=(a(21),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="",e.state={show:!1,msj:""},window.info=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{centered:!0,show:this.state.show,size:"lg",onHide:this.hide.bind(this),className:"in level4"},o.a.createElement(h.a.Header,{closeButton:!0},o.a.createElement(h.a.Title,null,this.title)),o.a.createElement(h.a.Body,null,this.state.msj),o.a.createElement(h.a.Footer,null,o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"primary"},"Close")))}},{key:"show",value:function(e){this.setState({show:!0,msj:e})}},{key:"hide",value:function(){this.setState({show:!1})}}]),t}(o.a.Component)),E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={show:!1,msj:""},window.danger=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{centered:!0,show:this.state.show,size:"lg",onHide:this.hide.bind(this),className:"in level4"},o.a.createElement(h.a.Header,{style:{backgroundColor:"#D33724",color:"#FFFFFF"}},o.a.createElement(h.a.Title,null,"Error")),o.a.createElement(h.a.Body,{style:{backgroundColor:"#DD4B39",color:"#FFFFFF"}},this.state.msj),o.a.createElement(h.a.Footer,{style:{backgroundColor:"#D33724"}},o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"danger"},"Close")))}},{key:"show",value:function(e){this.setState({show:!0,msj:e})}},{key:"hide",value:function(){this.setState({show:!1})}}]),t}(o.a.Component),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={show:!1,msj:""},window.success=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{centered:!0,show:this.state.show,size:"lg",onHide:this.hide.bind(this),className:"in level4"},o.a.createElement(h.a.Header,{closeButton:!0,style:{backgroundColor:"#008D4C",color:"#FFFFFF"}},o.a.createElement(h.a.Title,null,"Operacion Exitosa")),o.a.createElement(h.a.Body,{style:{backgroundColor:"#00A65A",color:"#FFFFFF"}},this.state.msj),o.a.createElement(h.a.Footer,{style:{backgroundColor:"#008D4C"}},o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"success"},"Close")))}},{key:"show",value:function(e){this.setState({show:!0,msj:e})}},{key:"hide",value:function(){this.setState({show:!1})}}]),t}(o.a.Component),g=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={show:!1,msj:""},window.warning=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{centered:!0,show:this.state.show,size:"lg",onHide:this.hide.bind(this),className:"in level4"},o.a.createElement(h.a.Header,{closeButton:!0,style:{backgroundColor:"#DB8B0B",color:"#FFFFFF"}},o.a.createElement(h.a.Title,null,"Cuidado")),o.a.createElement(h.a.Body,{style:{backgroundColor:"#F39C12",color:"#FFFFFF"}},this.state.msj),o.a.createElement(h.a.Footer,{style:{backgroundColor:"#DB8B0B"}},o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"warning"},"Close")))}},{key:"show",value:function(e){this.setState({show:!0,msj:e})}},{key:"hide",value:function(){this.setState({show:!1})}}]),t}(o.a.Component),b=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={show:!1,msj:"",funcion:function(){}},window.warningOption=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{centered:!0,show:this.state.show,size:"lg",onHide:this.hide.bind(this),className:"in level4"},o.a.createElement(h.a.Header,{closeButton:!0,style:{backgroundColor:"#DB8B0B",color:"#FFFFFF"}},o.a.createElement(h.a.Title,null,"Cuidado")),o.a.createElement(h.a.Body,{style:{backgroundColor:"#F39C12",color:"#FFFFFF"}},this.state.msj),o.a.createElement(h.a.Footer,{style:{backgroundColor:"#DB8B0B"}},o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"warning"},"Close"),o.a.createElement(p.a,{onClick:this.success.bind(this),variant:"danger"},"proseguir")))}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"show",value:function(e,t){this.setState({show:!0,msj:e,funcion:t})}},{key:"success",value:function(){this.hide(),this.state.funcion()}}]),t}(o.a.Component),w=a(53),y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={show:!1,msj:"",funcion:function(){}},window.option=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{centered:!0,show:this.state.show,size:"lg",onHide:this.hide.bind(this),className:"in level4"},o.a.createElement(h.a.Header,{closeButton:!0,style:{backgroundColor:"#00a7d0",color:"#FFFFFF"}},o.a.createElement(h.a.Title,null,"Operacion Exitosa")),o.a.createElement(h.a.Body,{style:{backgroundColor:"#00c0ef",color:"#FFFFFF"}},this.state.msj),o.a.createElement(h.a.Footer,{className:"d-flex flex-column",style:{backgroundColor:"#00a7d0"}},o.a.createElement(w.a,null,o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"danger"},"Cancelar"),o.a.createElement(p.a,{onClick:this.success.bind(this),variant:"success"},"proseguir"))))}},{key:"show",value:function(e,t){this.setState({show:!0,msj:e,funcion:t})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"success",value:function(){this.hide(),this.state.funcion()}}]),t}(o.a.Component),k=(a(47),a(36)),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,null,o.a.createElement("h1",null,"Error Pagina no Encontrada"),o.a.createElement("br",null),o.a.createElement("p",null,"Busque verifique si la url es correcta e intente de nuevo"))}}]),t}(o.a.Component),j=a(10),C=a(58),N=a(59),z=a(55),P=a(56),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={cantidad:1,precio:0},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data,t=this.props.data.costo+this.props.data.costo*this.props.data.precio2/100;return o.a.createElement("tr",{key:"pro"+e.index},o.a.createElement("td",null,e.codigo),o.a.createElement("td",null,e.descripcion),o.a.createElement("td",{className:"col-xs-1"},o.a.createElement("div",{className:"pull-right"},o.a.createElement("input",{type:"text",className:"form-control text-right",onKeyUp:this.cantidad.bind(this),onFocus:this.focus.bind(this),defaultValue:1}))),o.a.createElement("td",{className:"col-xs-2"},o.a.createElement("div",{className:"pull-right"},o.a.createElement("input",{type:"text",defaultValue:t,onKeyUp:this.precio.bind(this),onFocus:this.focus.bind(this),className:"form-control text-right"}))),o.a.createElement("td",{className:"text-center"},o.a.createElement("button",{onClick:this.addProducto.bind(this,e),className:"btn btn-info"},o.a.createElement("i",{className:"glyphicon glyphicon-plus"}))))}},{key:"focus",value:function(e){e.target.value=""}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"cantidad",value:function(e){this.actualizar("cantidad",e.target.value)}},{key:"precio",value:function(e){this.actualizar("precio",e.target.value)}},{key:"componentWillMount",value:function(){var e=this.props.data.costo+this.props.data.costo*this.props.data.precio2/100;this.actualizar("precio",e)}},{key:"addProducto",value:function(e){e.unidades=this.state.cantidad,e.precio=this.state.precio,this.props.add(e)}}]),t}(o.a.Component),x=a(54),S=a(60),_=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="",e.size="lg",e.state={show:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return!1}}]),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{show:this.state.show,onHide:this.hide.bind(this),size:this.size,className:"in"},o.a.createElement(h.a.Header,{closeButton:!0},o.a.createElement(h.a.Title,null,this.title)),o.a.createElement(h.a.Body,null,o.a.createElement(k.a,null,this.conten())),o.a.createElement(h.a.Footer,null,o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"outline-dark"},"Close")))}},{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}}]),t}(o.a.Component),I=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).itens=8,e.colspan=5,e.state={page:1,length:0,itens:8},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,{hover:!0,responsive:!0,striped:!0},o.a.createElement("thead",null,this.titles()),o.a.createElement("tbody",null,this.body()),o.a.createElement("tfoot",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:this.colspan},o.a.createElement(S.a,{className:"pull-right"},this.paginacion())))))}},{key:"titles",value:function(){return!1}},{key:"body",value:function(){var e=this,t=(this.state.page-1)*this.itens,a=t+this.itens,n=this.props.itens;return this.state.length!==n.length&&(this.actualizar("length",n.length),this.setpage(1)),(n=n.filter((function(e,n){return n>=t&&n<a}))).map((function(t){return e.row(t)}))}},{key:"row",value:function(){return!1}},{key:"paginacion",value:function(){var e=Math.ceil(this.state.length/this.itens),t=this.state.page,a=[];1===t?a.push(o.a.createElement(S.a.Item,{active:!0},"1")):a.push(o.a.createElement(S.a.Item,{onClick:this.setpage.bind(this,1)},"1"));for(var n=3;n>0;n--)t-n>1&&(3===n?a.push(o.a.createElement(S.a.Ellipsis,null)):a.push(o.a.createElement(S.a.Item,{onClick:this.setpage.bind(this,t-n)},t-n)));for(e>t&&t>1&&a.push(o.a.createElement(S.a.Item,{active:!0},t)),n=1;n<4;n++)t+n<e&&(3===n?a.push(o.a.createElement(S.a.Ellipsis,null)):a.push(o.a.createElement(S.a.Item,{onClick:this.setpage.bind(this,t+n)},t+n)));return t===e?1!==e&&a.push(o.a.createElement(S.a.Item,{active:!0},e)):a.push(o.a.createElement(S.a.Item,{onClick:this.setpage.bind(this,e)},e)),a}},{key:"setpage",value:function(e){this.setState({page:e})}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{className:"info"},o.a.createElement("th",null,"C\xf3digo"),o.a.createElement("th",null,"Producto"),o.a.createElement("th",null,o.a.createElement("span",{className:"pull-right"},"Cant.")),o.a.createElement("th",null,o.a.createElement("span",{className:"pull-right"},"Precio")),o.a.createElement("th",{className:"text-center",style:{width:"36px"}},"Agregar"))}},{key:"row",value:function(e){return o.a.createElement(F,{key:e.codigo,add:this.props.add,data:e})}}]),t}(I),q=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Buscar productos",e.state={dpt:"td",buscar:"",departamentos:[],productos:[],show:!1},window.productos=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(C.a,{as:k.a,sm:12},o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(P.a.Prepend,null,this.departamentos()),o.a.createElement(C.a.Control,{onKeyUp:this.setBuscar.bind(this),placeholder:"Buscar productos"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"})," Buscar"))))),o.a.createElement(U,{add:this.props.add,itens:this.filtros()}))}},{key:"departamentos",value:function(){var e=this.state.departamentos.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo},e.descripcion)}));return o.a.createElement(C.a.Control,{as:"select",onChange:this.setdepartamentos.bind(this)},o.a.createElement("option",{key:"td",value:"td"},"TODOS LOS DEPARTAMENTOS"),e)}},{key:"filtros",value:function(){var e=this,t=this.state.productos.filter((function(t){return t.departamento===e.state.dpt||"td"===e.state.dpt}));return t=t.filter((function(t){return t.descripcion.indexOf(e.state.buscar)>-1||t.codigo.indexOf(e.state.buscar)>-1}))}},{key:"setdepartamentos",value:function(e){this.actualizar("dpt",e.target.value)}},{key:"setBuscar",value:function(e){this.actualizar("buscar",e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="",e.size="lg",e.state={show:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return!1}}]),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{show:this.state.show,onHide:this.hide.bind(this),size:this.size,className:"in"},o.a.createElement(h.a.Header,{closeButton:!0},o.a.createElement(h.a.Title,null,this.title)),o.a.createElement(h.a.Body,null,this.conten()),o.a.createElement(h.a.Footer,null,o.a.createElement(p.a,{onClick:this.hide.bind(this),variant:"outline-dark"},"Close"),o.a.createElement(p.a,{onClick:this.submit.bind(this),variant:"primary"},"guardar")))}},{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"submit",value:function(){return!1}}]),t}(o.a.Component),D=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Nuevo Prducto",e.size="",e.state={nuevo:{departamento:"",descripcion:"",costo_producto:0,porcentaje1:0,porcentaje2:0,porcentaje3:0,cantidad:0,unidad:"",tipo:""},departamentos:[],unidad:[],tipo:[],show:!1},e.ingresar=e.ingresar.bind(Object(d.a)(e)),e.precios=e.precios.bind(Object(d.a)(e)),e.numero=e.numero.bind(Object(d.a)(e)),window.nuevoProducto=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(C.a,{as:z.a},o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Departamento"),o.a.createElement(k.a,{sm:"9"},this.departamentos())),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Descripci\xf3n"),o.a.createElement(k.a,{sm:"9"},o.a.createElement(C.a.Control,{name:"descripcion",onKeyUp:this.descripcion.bind(this)}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Tipo"),o.a.createElement(k.a,{sm:"9"},this.tipos())),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Unidad"),o.a.createElement(k.a,{sm:"9"},this.unidades())),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Costo"),o.a.createElement(k.a,{sm:"9"},o.a.createElement(C.a.Control,{onKeyUp:this.numero,placeholder:"Costo del producto",step:"0.01",pattern:"^[0-9]{12, 2}(\\.[0-9]{0, 2})?$",title:"Ingresa s\xf3lo n\xfameros con 0 \xf3 2 decimales",maxLength:"11",name:"costo_producto",type:"number"}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Porcentaje 1"),o.a.createElement(k.a,{sm:"2"},o.a.createElement(C.a.Control,{onKeyUp:this.numero,placeholder:"%",pattern:"^[0-9]{12, 2}(\\.[0-9]{0, 2})?$",name:"porcentaje1",type:"number"})),o.a.createElement(C.a.Label,{column:!0,md:"3"},"Precio 1"),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{value:this.precios(1),readOnly:!0}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Porcentaje 2"),o.a.createElement(k.a,{sm:"2"},o.a.createElement(C.a.Control,{onKeyUp:this.numero,placeholder:"%",pattern:"^[0-9]{12, 2}(\\.[0-9]{0, 2})?$",name:"porcentaje2",type:"number"})),o.a.createElement(C.a.Label,{column:!0,md:"3"},"Precio 2"),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{value:this.precios(2),readOnly:!0}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Porcentaje 3"),o.a.createElement(k.a,{sm:"2"},o.a.createElement(C.a.Control,{onKeyUp:this.numero,placeholder:"%",pattern:"^[0-9]{12, 2}(\\.[0-9]{0, 2})?$",name:"porcentaje3",type:"number"})),o.a.createElement(C.a.Label,{column:!0,md:"3"},"Precio 3"),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{value:this.precios(3),readOnly:!0}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"3"},"Estado"),o.a.createElement(k.a,{sm:"9"},o.a.createElement(C.a.Control,{as:"select",onChange:this.ingresar,name:"estado",defaultValue:this.state.estado},o.a.createElement("option",{value:"1"},"Activo"),o.a.createElement("option",{value:"0"},"Inactivo")))))}},{key:"departamentos",value:function(){var e=this.state.departamentos.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo},e.descripcion)}));return o.a.createElement(C.a.Control,{onChange:this.ingresar,name:"departamento",as:"select"},o.a.createElement("option",{value:"td"},"SELECCIONE UN DEPARTAMENTO"),e)}},{key:"unidades",value:function(){var e=this.state.unidad.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo},e.descripcion)}));return o.a.createElement(C.a.Control,{onChange:this.ingresar,name:"unidad",as:"select"},o.a.createElement("option",{value:"-1"},"SELECCIONE UNA UNIDAD DE MEDIDA"),e)}},{key:"tipos",value:function(){var e=this.state.tipo.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo},e.descripcion)}));return o.a.createElement(C.a.Control,{onChange:this.ingresar,name:"tipo",as:"select"},o.a.createElement("option",{value:"-1"},"SELECCIONE UN TIPO DE PRODUCTO"),e)}},{key:"ingresar",value:function(e){this.actualizarProducto(e.target.name,e.target.value)}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"actualizarProducto",value:function(e,t){var a=this.state.nuevo;a[e]=t,this.setState({nuevo:a})}},{key:"submit",value:function(){window.post("http://sistema.test/ajax/producto/nuevo_producto.php",this.state.nuevo,(function(e){console.log(e)}),(function(e){window.danger.show(e.toString())}))}},{key:"numero",value:function(e){this.actualizarProducto(e.target.name,parseFloat(e.target.value))}},{key:"descripcion",value:function(e){e.target.value=e.target.value.toUpperCase(),this.actualizarProducto(e.target.name,e.target.value.toUpperCase())}},{key:"precios",value:function(e){var t=this.state.nuevo,a=t["porcentaje"+e]/100,n=t.costo_producto+t.costo_producto*a;return 0!==t["porcentaje"+e]?window.numberFormat(n):0}}]),t}(T),B=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Editar Facturacion",e.state={iten:{codigo:"0000",departamento:"",descripcion:"",costo:0,precio1:0,precio2:0,precio3:0,cantidad:0},cantidad:0,precio:0,show:!1},window.editar=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){var e=this.state.iten.costo+this.state.iten.costo*this.state.iten.precio1/100,t=this.state.iten.costo+this.state.iten.costo*this.state.iten.precio2/100,a=this.state.iten.costo+this.state.iten.costo*this.state.iten.precio3/100;return o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",{className:"warning"},o.a.createElement("th",null,"C\xf3digo"),o.a.createElement("th",null,"Producto"),o.a.createElement("th",null,o.a.createElement("span",{className:"pull-right"},"Cant.")),o.a.createElement("th",null,o.a.createElement("span",{className:"pull-right"},"Precio")),o.a.createElement("th",{className:"text-center",style:{width:"36px"}},"Agregar"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,this.state.iten.codigo),o.a.createElement("td",null,this.state.iten.descripcion),o.a.createElement("td",{className:"col-xs-1"},o.a.createElement("div",{className:"pull-right"},o.a.createElement("input",{type:"text",className:"form-control text-right",onKeyUp:this.cantidad.bind(this),onFocus:this.focus.bind(this),defaultValue:this.state.cantidad}))),o.a.createElement("td",{className:"col-xs-2"},o.a.createElement("div",{className:"pull-right"},o.a.createElement("input",{type:"text",defaultValue:this.state.precio,onKeyUp:this.precio.bind(this),onFocus:this.focus.bind(this),className:"form-control text-right",list:"edit"}),o.a.createElement("datalist",{id:"edit"},o.a.createElement("option",{value:e}),o.a.createElement("option",{value:t}),o.a.createElement("option",{value:a})))),o.a.createElement("td",{className:"text-center"},o.a.createElement(p.a,{onClick:this.editarIten.bind(this,this.state.iten)},o.a.createElement("i",{className:"glyphicon glyphicon-plus"}))))))}},{key:"focus",value:function(e){e.target.value=""}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"cantidad",value:function(e){this.actualizar("cantidad",e.target.value)}},{key:"precio",value:function(e){this.actualizar("precio",e.target.value)}},{key:"show",value:function(e){this.setState({show:!0,iten:e,cantidad:e.unidades,precio:e.precio})}},{key:"editarIten",value:function(e){e.unidades=this.state.cantidad,e.precio=this.state.precio,this.props.edit(e),this.hide()}}]),t}(_),A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=window.location.protocol+"//"+document.domain,t=window.screen.height-300;return o.a.createElement("iframe",{src:e+"/"+this.props.document,width:"100%",height:t,alt:"pdf",style:{border:"none"}})}}]),t}(o.a.Component),K=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{className:"info"},o.a.createElement("th",null,"Numero"),o.a.createElement("th",null,"Proveedor"),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Total"),o.a.createElement("th",{className:"text-center",style:{width:"36px"}},"Agregar"))}},{key:"row",value:function(e){return o.a.createElement("tr",{key:"pro"+e.index},o.a.createElement("td",null,e.codigo),o.a.createElement("td",null,e.nombre),o.a.createElement("td",null,e.fecha),o.a.createElement("td",null,o.a.createElement("span",{className:"pull-right"},window.numberFormat(e.monto))),o.a.createElement("td",{className:"text-center"},o.a.createElement("button",{onClick:this.cargar.bind(this,e),className:"btn btn-info"},o.a.createElement("i",{className:"glyphicon glyphicon-plus"}))))}},{key:"cargar",value:function(e){this.props.cargar(e.codigo)}}]),t}(I),G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Cargar Orden de Compra",e.state={buscar:"",ordenes:[],show:!1},window.ordenes=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(C.a,{as:k.a,sm:"12"},o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(C.a.Control,{onKeyUp:this.setBuscar.bind(this),placeholder:"Buscar ordenes por Numero o Proveedor"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"})," Buscar"))))),o.a.createElement(K,{itens:this.fintros(),cargar:this.props.cargar}))}},{key:"fintros",value:function(){var e=this,t=this.state.ordenes.filter((function(e){return 1===e.status}));return t=t.filter((function(t){return t.nombre.indexOf(e.state.buscar)>-1||t.codigo.indexOf(e.state.buscar)>-1}))}},{key:"setBuscar",value:function(e){this.actualizar("buscar",e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),R=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Nuevo Proveedor",e.size="",e.state={codigo:"",nombre:"",telefono:"",email:"",contacto:"",direccion:"",estado:"1",show:!1},e.ingresar=e.ingresar.bind(Object(d.a)(e)),window.nuevoProveedor=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(C.a,{as:z.a},o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"CI/RIF"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.setRif.bind(this),name:"codigo",defaultValue:this.state.codigo}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Nombre"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"nombre",defaultValue:this.state.nombre}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Tel\xe9fono"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"telefono",defaultValue:this.state.telefono}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Contacto"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"contacto",defaultValue:this.state.contacto}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Correo"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"email",defaultValue:this.state.email}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Direcci\xf3n"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"direccion",defaultValue:this.state.direccion}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Estado"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{as:"select",onChange:this.ingresar,name:"estado",defaultValue:this.state.estado},o.a.createElement("option",{value:"1"},"Activo"),o.a.createElement("option",{value:"0"},"Inactivo")))))}},{key:"ingresar",value:function(e){this.actualizar(e.target.name,e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"submit",value:function(){var e=this;window.data.crearProveedor(this.state,(function(t){t.error?window.danger.show(t.msn):(e.props.selec(e.state.codigo),window.success.show(t.msn))}))}},{key:"componentDidMount",value:function(){}},{key:"setRif",value:function(e){var t=e.target.value.toUpperCase();t=window.mask(t,"a-999999999-99"),e.target.value=t,this.actualizar(e.target.name,t)}}]),t}(T),L=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={proveedores:[]},window.proveedor=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{list:"listCodigo",autoComplete:"off",ref:"codigo",onKeyUp:this.autoCompleteCodigo.bind(this),onChange:this.autoCompleteCodigo.bind(this),type:"text",placeholder:"Ingresa el rif o cedula",required:!0}),o.a.createElement("datalist",{id:"listCodigo"},this.codigo())),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{list:"listNombre",autoComplete:"off",ref:"nombre",onKeyUp:this.autoCompleteCodigo.bind(this),onChange:this.autoCompleteNombre.bind(this),type:"text",placeholder:"Nombre o Razon social",required:!0}),o.a.createElement("datalist",{id:"listNombre"},this.nombres())),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{ref:"telefono",placeholder:"Tel\xe9fono",readOnly:!0,required:!0}))),o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"12"},o.a.createElement(C.a.Control,{ref:"direccion",placeholder:"Direcci\xf3n",readOnly:!0,required:!0}))))}},{key:"nombres",value:function(){return this.state.proveedores.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.nombre})}))}},{key:"codigo",value:function(){return this.state.proveedores.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo})}))}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"autoCompleteNombre",value:function(e){var t=this;8===e.keyCode&&this.limpiar(),this.state.proveedores.forEach((function(a){a.nombre===e.target.value&&(t.refs.codigo.value=a.codigo,t.refs.nombre.value=a.nombre,t.refs.direccion.value=a.direccion,t.refs.telefono.value=a.telefono,t.props.selec(a.codigo))}))}},{key:"autoCompleteCodigo",value:function(e){var t=this;8===e.keyCode&&this.limpiar(),this.state.proveedores.forEach((function(a){a.codigo===e.target.value&&(t.refs.codigo.value=a.codigo,t.refs.nombre.value=a.nombre,t.refs.direccion.value=a.direccion,t.refs.telefono.value=a.telefono,t.props.selec(a.codigo))}))}},{key:"limpiar",value:function(){this.refs.codigo.value="",this.refs.nombre.value="",this.refs.direccion.value="",this.refs.telefono.value=""}},{key:"ingresar",value:function(e){this.actualizar(e.target.name,e.target.value.toUpperCase())}}]),t}(o.a.Component),V=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={total:0,iva:0},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,{hover:!0,responsive:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"text-center"},"CODIGO"),o.a.createElement("th",{className:"text-center"},"CANT."),o.a.createElement("th",null,"DESCRIPCION"),o.a.createElement("th",{className:"text-right"},"PRECIO UNIT."),o.a.createElement("th",{className:"text-right"},"PRECIO TOTAL"),o.a.createElement("th",null))),o.a.createElement("tbody",null,this.getItens(),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"SUBTOTAL BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total)),o.a.createElement("td",{className:"text-right"})),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"IVA ",this.props.impuesto,"% BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total*(this.props.impuesto/100))),o.a.createElement("td",{className:"text-right"})),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"TOTAL BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total+this.state.total*(this.props.impuesto/100))),o.a.createElement("td",{className:"text-right"}))))}},{key:"getItens",value:function(){var e=this,t=0,a=this.props.itens.map((function(a){return t+=a.precio*a.unidades,o.a.createElement("tr",null,o.a.createElement("td",{className:"text-center"},a.codigo),o.a.createElement("td",{className:"text-center"},a.unidades),o.a.createElement("td",null,a.descripcion),o.a.createElement("td",{className:"text-right"},window.numberFormat(a.precio)),o.a.createElement("td",{className:"text-right"},window.numberFormat(a.precio*a.unidades)),o.a.createElement("td",{className:"text-center"},o.a.createElement(w.a,null,o.a.createElement(p.a,{variant:"outline-primary",onClick:e.edit.bind(e,a)},o.a.createElement("i",{className:"glyphicon glyphicon-edit"})),o.a.createElement(p.a,{variant:"outline-danger",onClick:e.remove.bind(e,a)},o.a.createElement("i",{className:"glyphicon glyphicon-trash"})))))}));return this.state.total!==t&&this.setState({total:t}),a}},{key:"remove",value:function(e){this.props.remove(e)}},{key:"edit",value:function(e){window.editar.show(e)}}]),t}(o.a.Component),H=function(){function e(){Object(c.a)(this,e),this.proveedores=[],this.productos=[],this.departamentos=[],this.tipo=[],this.unidad=[],this.dominio="/api",window.data=this,this.actualizar(),fetch(this.dominio+"/Region/get").then((function(e){return e.json()})).then((function(e){window.principal.setimpuesto(e.impuesto)}))}return Object(l.a)(e,[{key:"actualizar",value:function(){fetch(this.dominio+"/Producto/lista").then((function(e){return e.json()})).then((function(e){window.productos.state.productos.equals(e)||window.productos.actualizar("productos",e)})),fetch(this.dominio+"/Producto/departamentos").then((function(e){return e.json()})).then((function(e){window.productos.state.departamentos.equals(e)||window.productos.actualizar("departamentos",e),window.nuevoProducto.state.departamentos.equals(e)||window.nuevoProducto.actualizar("departamentos",e)})),fetch(this.dominio+"/Producto/unidad").then((function(e){return e.json()})).then((function(e){window.nuevoProducto.state.unidad.equals(e)||window.nuevoProducto.actualizar("unidad",e)})),fetch(this.dominio+"/Producto/tipo").then((function(e){return e.json()})).then((function(e){window.nuevoProducto.state.tipo.equals(e)||window.nuevoProducto.actualizar("tipo",e)})),fetch(this.dominio+"/Proveedor/lista").then((function(e){return e.json()})).then((function(e){window.proveedor.state.proveedores.equals(e)||window.proveedor.actualizar("proveedores",e)})),fetch(this.dominio+"/Orden/lista").then((function(e){return e.json()})).then((function(e){window.ordenes.state.ordenes.equals(e)||window.ordenes.actualizar("ordenes",e)})),setTimeout((function(){window.data.actualizar()}),5e3)}},{key:"cargarOrden",value:function(e,t){fetch(this.dominio+"/Orden/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"crearProveedor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Proveedor/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"crearPrducto",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Producto/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"Prosesar",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Compra/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}}]),e}(),M=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={act:0,itens:[],id_proveedor:"",nota:"",fecha_doc:"",cod_doc:"",num_con:"",id_orden:"",impuesto:0},window.principal=Object(d.a)(e),new H,e.actualizar=e.actualizar.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),o.a.createElement(G,{ref:"",cargar:this.cargarOrden.bind(this)}),o.a.createElement(q,{add:this.addIten.bind(this)}),o.a.createElement(B,{ref:"",edit:this.addIten.bind(this)}),o.a.createElement(R,{ref:"",selec:this.selecProveedor.bind(this)}),o.a.createElement(D,{ref:"",add:this.addIten.bind(this)}),o.a.createElement("div",{className:"panel panel-info"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("h4",null,o.a.createElement(p.a,{variant:"outline-primary",onClick:this.administrar},o.a.createElement("i",{className:"glyphicon glyphicon-chevron-left"})," Volver")," ",o.a.createElement("i",{className:"glyphicon glyphicon-edit"})," Nueva Compra ")),o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a,{id:"notaEntrada"},o.a.createElement(p.a,{block:!0,variant:"outline-dark",eventKey:"0"},o.a.createElement("strong",null,"Datos del Proveedor")),o.a.createElement("div",{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(L,{proveedor:this.state.id_proveedor,selec:this.selecProveedor.bind(this)})))),o.a.createElement("br",null),o.a.createElement(N.a,null,o.a.createElement(N.a.Toggle,{as:p.a,block:!0,variant:"outline-dark",eventKey:"0"},o.a.createElement("strong",null,"Datos de la Factura")),o.a.createElement(N.a.Collapse,{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"cod_doc",placeholder:"Nuemro de Factura",required:""===this.state.fecha_doc&&""===this.state.num_con})),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"num_con",placeholder:"Nuemro de Control",required:""===this.state.fecha_doc&&""===this.state.cod_doc})),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,onChange:this.actualizar,placeholder:"Fecha del Documento",name:"fecha_doc",type:"date",required:""===this.state.cod_doc&&""===this.state.num_con}))))))),o.a.createElement("br",null),o.a.createElement(N.a,null,o.a.createElement(N.a.Toggle,{as:p.a,block:!0,variant:"outline-dark",eventKey:"0"},o.a.createElement("strong",null,"Nota")),o.a.createElement(N.a.Collapse,{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"12"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"nota",as:"textarea",placeholder:"nota",required:!0}))))))),o.a.createElement("br",null),o.a.createElement(k.a,{md:"12"},o.a.createElement(p.a,{onClick:this.openOrdenes,variant:"outline-dark",title:"Cargar orden de compra"},o.a.createElement("span",{className:"glyphicon glyphicon-folder-open"})),o.a.createElement("div",{className:"pull-right"},o.a.createElement(w.a,null,o.a.createElement(p.a,{onClick:this.openNuevoProveedor,variant:"outline-dark",title:"Nuevo Proveedor"},o.a.createElement("span",{className:"glyphicon glyphicon-user"})),o.a.createElement(p.a,{onClick:this.openNuevoProducto,variant:"outline-dark",title:"Nuevo Producto"},o.a.createElement("span",{className:"glyphicon glyphicon-shopping-cart"})),o.a.createElement(p.a,{onClick:this.openProductos,variant:"outline-dark",title:"Buscar Producto"},o.a.createElement("span",{className:"glyphicon glyphicon-search"}))),o.a.createElement("span",{className:"btn"}),o.a.createElement(p.a,{onClick:this.prosesar.bind(this),variant:"outline-dark",title:"Procesar",disabled:!this.isProsesable()},o.a.createElement("span",{className:"glyphicon glyphicon-print"}))))),o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),o.a.createElement(V,{impuesto:this.state.impuesto,itens:this.state.itens,remove:this.removeIten.bind(this)})))))}},{key:"atc",value:function(){this.setState({atc:this.state.act+1})}},{key:"selecProveedor",value:function(e){this.setState({id_proveedor:e})}},{key:"addIten",value:function(e){if(e.unidades>0){var t=[],a=!0;this.state.itens.forEach((function(n){n.codigo===e.codigo?(t.push(e),a=!1):t.push(n)})),a&&t.push(e),this.setState({itens:t})}else window.warning.show("debe introducir una cantidad")}},{key:"removeIten",value:function(e){var t=this.state.itens.filter((function(t){return t!==e}));this.setState({itens:t})}},{key:"openOrdenes",value:function(){window.ordenes.show()}},{key:"openProductos",value:function(){window.productos.show()}},{key:"openNuevoProveedor",value:function(){window.nuevoProveedor.show()}},{key:"openNuevoProducto",value:function(){window.nuevoProducto.show()}},{key:"cargarOrden",value:function(e){window.data.cargarOrden(e,(function(e){window.ordenes.hide(),window.principal.setState({id_proveedor:e.cod_proveedor,itens:e.detalles})}))}},{key:"prosesar",value:function(){var e,t=this.state,a=0;t.itens.forEach((function(e){a+=e.unidades*e.precio})),e=a+a*(t.impuesto/100),t.subtotal=a,t.total=e,t.impuesto=a*(t.impuesto/100),window.data.Prosesar(this.state,(function(e){window.success.show(o.a.createElement(A,{document:"/api/Compra/PDF/"+e}))})),this.setState({act:0,itens:[],id_proveedor:"",nota:"",fecha_doc:"",cod_doc:"",num_con:"",id_orden:"",impuesto:0}),window.proveedor.setState({nombre:"",codigo:""})}},{key:"isProsesable",value:function(){var e=this.state.itens.length>0&&""!==this.state.id_proveedor,t=!0,a=""!==this.state.cod_doc,n=""!==this.state.fecha_doc,o=""!==this.state.num_con;return(a||n||o)&&(t=a&&n&&o),e&&t}},{key:"setimpuesto",value:function(e){this.setState({impuesto:e})}},{key:"actualizar",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"administrar",value:function(){window.location.href="/ver_compras"}},{key:"ingresar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(o.a.Component),$=function(){function e(t){Object(c.a)(this,e),this.productos=[],this.departamentos=[],this.compras=[],this.usuarios=[],this.administrar={},this.dominio="/api",window.data=this,this.administrar=t,this.actualizar()}return Object(l.a)(e,[{key:"actualizar",value:function(){fetch(this.dominio+"/Producto/lista").then((function(e){return e.json()})).then((function(e){window.productos.state.productos.equals(e)||window.productos.actualizar("productos",e)})),fetch(this.dominio+"/Producto/departamentos").then((function(e){return e.json()})).then((function(e){window.productos.state.departamentos.equals(e)||window.productos.actualizar("departamentos",e)})),fetch(this.dominio+"/Usuario/lista").then((function(e){return e.json()})).then((function(e){window.principal.state.usuarios.equals(e)||window.principal.ingresar("usuarios",e)})),fetch(this.dominio+"/Compra/lista").then((function(e){return e.json()})).then((function(e){window.principal.state.compras.equals(e)||window.principal.ingresar("compras",e)})),setTimeout((function(){window.data.actualizar()}),5e3)}},{key:"detalles",value:function(e,t){fetch(this.dominio+"/Compra/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"cancelar",value:function(e,t){fetch(this.dominio+"/Compra/cancelar/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"facturar",value:function(e,t,a){window.post(this.dominio+"/Compra/facturar/"+e.codigo,e,(function(e){t(e)}),(function(e){a(e)}))}}]),e}(),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=10,a.colspan=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{class:"info"},o.a.createElement("th",null,"Nro."),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Proveedor"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",{class:"text-right"},"Total"),o.a.createElement("th",{class:"text-right"},"Acciones"))}},{key:"row",value:function(e){return o.a.createElement("tr",{key:e.codigo},o.a.createElement("td",null,e.codigo),o.a.createElement("td",null,window.formatoFecha(e.fecha)),o.a.createElement("td",null,e.nombre),o.a.createElement("td",null,this.estado(e.status)),o.a.createElement("td",{className:"text-right"},window.numberFormat(e.monto)),o.a.createElement("td",{className:"text-right"},this.botones(e)))}},{key:"botones",value:function(e){var t=[];return 1===e.status&&t.push(o.a.createElement(p.a,{onClick:this.facturar.bind(this,e.codigo),variant:"outline-dark",title:"Agregar facturacion"},o.a.createElement("i",{className:"glyphicon glyphicon-edit"}))),t.push(o.a.createElement(p.a,{onClick:this.detalles.bind(this,e.codigo),variant:"outline-dark",title:"detalles compra"},o.a.createElement("i",{className:"glyphicon glyphicon-search"}))),t.push(o.a.createElement(p.a,{onClick:this.imprimir.bind(this,e.codigo),variant:"outline-dark",title:"Descargar compra"},o.a.createElement("i",{className:"glyphicon glyphicon-download"}))),0!==e.status&&t.push(o.a.createElement(p.a,{onClick:this.cancelar.bind(this,e.codigo),variant:"outline-dark",title:"Cancelar compra"},o.a.createElement("i",{className:"glyphicon glyphicon-ban-circle"}))),o.a.createElement(w.a,null,t)}},{key:"estado",value:function(e){switch(e){case 2:return o.a.createElement("span",{className:"label label-success"},"Procesada");case 1:return o.a.createElement("span",{className:"label label-warning"},"Sin Factura");case 0:return o.a.createElement("span",{className:"label label-danger"},"Cancelada")}}},{key:"detalles",value:function(e){window.data.detalles(e,(function(e){window.detalles.show(e)}))}},{key:"cancelar",value:function(e){var t=this.props.actualizar;window.warningOption.show("Esta seguro que desea eliminar la Compra Numero:"+e,(function(){window.data.cancelar(e,(function(a){1===a&&(t(0),window.success.show("Compra Numero:"+e+" eliminada exitosamente"))}))}))}},{key:"imprimir",value:function(e){window.info.title="Compra Numero:"+e,window.info.show(o.a.createElement(A,{document:"/api/Compra/PDF/"+e}))}},{key:"facturar",value:function(e){window.facturar.show(e)}}]),t}(I),W=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={total:0,iva:0},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,{hover:!0,responsive:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"text-center"},"CODIGO"),o.a.createElement("th",{className:"text-center"},"CANT."),o.a.createElement("th",null,"DESCRIPCION"),o.a.createElement("th",{className:"text-right"},"PRECIO UNIT."),o.a.createElement("th",{className:"text-right"},"PRECIO TOTAL"))),o.a.createElement("tbody",null,this.getItens(),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"SUBTOTAL BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total)),o.a.createElement("td",{className:"text-right"})),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"IVA ",this.props.impuesto,"% BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total*(this.props.impuesto/100))),o.a.createElement("td",{className:"text-right"})),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"TOTAL BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total+this.state.total*(this.props.impuesto/100))),o.a.createElement("td",{className:"text-right"}))))}},{key:"getItens",value:function(){var e=0,t=this.props.itens.map((function(t){return e+=t.precio*t.unidades,o.a.createElement("tr",null,o.a.createElement("td",{className:"text-center"},t.codigo),o.a.createElement("td",{className:"text-center"},t.unidades),o.a.createElement("td",null,t.descripcion),o.a.createElement("td",{className:"text-right"},window.numberFormat(t.precio)),o.a.createElement("td",{className:"text-right"},window.numberFormat(t.precio*t.unidades)))}));return this.state.total!==e&&this.setState({total:e}),t}}]),t}(o.a.Component),Z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Detalles de la Compra",e.state={data:{id_proveedor:"",nombre:"",telefono:"",correo:"",contacto:"",direccion:"",estado:"1",cod_documento:"",fecha:"",fecha_documento:"",user:"",nota:""},show:!1},window.detalles=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Usuario que Registro la Compra:")," ",this.state.data.user),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Nota puesta al momento de registrarla:")," ",this.state.data.nota),o.a.createElement("br",null),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Razon Social:"),this.state.data.nombre),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"CI/RIF:")," ",this.state.data.id_proveedor),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Persona de Contacto:")," ",this.state.data.contacto),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Correo Electronico:")," ",this.state.data.correo),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Telefono:")," ",this.state.data.telefono),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Direccion:")," ",this.state.data.direccion),o.a.createElement("br",null),o.a.createElement(k.a,{sm:"4"},o.a.createElement("strong",null,"Factura:")," ",this.state.data.cod_documento),o.a.createElement(k.a,{sm:"4"},o.a.createElement("strong",null,"Fecha de Registrio:")," ",this.state.data.fecha),o.a.createElement(k.a,{sm:"4"},o.a.createElement("strong",null,"Fecha de Documento:")," ",this.state.data.cod_documento),o.a.createElement(W,{impuesto:this.state.data.impuesto,itens:this.state.data.detalles}))}},{key:"show",value:function(e){this.setState({data:e,show:!0})}}]),t}(_),Q=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="",e.state={codigo:"",cod_doc:"",num_con:"",fecha_doc:"",show:!1},window.facturar=Object(d.a)(e),e.actualizar=e.actualizar.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{placeholder:"Codigo de Documento",onKeyUp:this.actualizar,name:"cod_doc"})),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{placeholder:"Numero de Comtrol",onKeyUp:this.actualizar,name:"num_con"})),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{placeholder:"Fecha de Documento",onKeyUp:this.actualizar,onChange:this.actualizar,name:"fecha_doc"})))}},{key:"show",value:function(e){this.title="Registrar Factura de Compra Numero:"+e,this.setState({codigo:e,show:!0})}},{key:"actualizar",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"isProsesable",value:function(){var e=""!==this.state.cod_doc,t=""!==this.state.fecha_doc,a=""!==this.state.num_con;return e&&t&&a}},{key:"submit",value:function(){var e=this,t=this,a=this.props.actualizar;window.data.facturar(this.state,(function(n){t.hide(),a(0),window.success.show("Compra Numero:"+e.state.codigo+" se registro Factura exitosamente")}))}}]),t}(T),X=a(38),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{className:"info"},o.a.createElement("th",null,"C\xf3digo"),o.a.createElement("th",null,"Producto"),o.a.createElement("th",{className:"text-center",style:{width:"36px"}},"Selecionar"))}},{key:"row",value:function(e){return o.a.createElement("tr",{key:"pro"+e.index},o.a.createElement("td",null,e.codigo),o.a.createElement("td",null,e.descripcion),o.a.createElement("td",{className:"text-center"},o.a.createElement(p.a,{onClick:this.addProducto.bind(this,e),variant:"outline-primary"},o.a.createElement("i",{className:"glyphicon glyphicon-plus"}))))}},{key:"addProducto",value:function(e){this.props.add(e)}}]),t}(I),ee=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Buscar productos",e.state={dpt:"td",buscar:"",productos:[],departamentos:[],show:!1},window.productos=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(C.a,{as:k.a,sm:12},o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(P.a.Prepend,null,this.departamentos()),o.a.createElement(C.a.Control,{onKeyUp:this.setBuscar.bind(this),placeholder:"Buscar productos"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"})," Buscar"))))),o.a.createElement(Y,{add:this.props.add,itens:this.filtros()}))}},{key:"departamentos",value:function(){var e=this.state.departamentos.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo},e.descripcion)}));return o.a.createElement(C.a.Control,{as:"select",onChange:this.setdepartamentos.bind(this)},o.a.createElement("option",{key:"td",value:"td"},"TODOS LOS DEPARTAMENTOS"),e)}},{key:"filtros",value:function(){var e=this,t=this.state.productos.filter((function(t){return t.departamento===e.state.dpt||"td"===e.state.dpt}));return t=t.filter((function(t){return t.descripcion.indexOf(e.state.buscar)>-1||t.codigo.indexOf(e.state.buscar)>-1}))}},{key:"setdepartamentos",value:function(e){this.actualizar("dpt",e.target.value)}},{key:"setBuscar",value:function(e){this.actualizar("buscar",e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),te=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,{hover:!0,responsive:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{width:"10%",className:"text-center"},"CODIGO"),o.a.createElement("th",{width:"80%"},"DESCRIPCION"),o.a.createElement("th",{width:"10%"},"Quitar"))),o.a.createElement("tbody",null,this.getItens()))}},{key:"getItens",value:function(){var e=this;return this.props.itens.map((function(t){return o.a.createElement("tr",null,o.a.createElement("td",{className:"text-center"},t.codigo),o.a.createElement("td",null,t.descripcion),o.a.createElement("td",{className:"text-center"},o.a.createElement(p.a,{variant:"outline-danger",onClick:e.remove.bind(e,t)},o.a.createElement("i",{className:"glyphicon glyphicon-ban-circle"}))))}))}},{key:"remove",value:function(e){this.props.remove(e)}}]),t}(o.a.Component),ae=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).placeholder="",e.title="",e.nuevo="",e.state={act:0,fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa",user:"0",buscar:"",usuarios:[],itens:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),this.modales(),o.a.createElement(ee,{add:this.additen.bind(this)}),o.a.createElement("div",{className:"panel panel-info"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("h4",null,o.a.createElement("i",{className:"glyphicon glyphicon-search"})," ",this.title," ",o.a.createElement(p.a,{className:"pull-right",variant:"primary",onClick:this.nueva},o.a.createElement("i",{className:"glyphicon glyphicon-plus"})," ",this.nuevo))),o.a.createElement("div",{className:"panel-body"},o.a.createElement(N.a,null,o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"buscar",placeholder:this.placeholder}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"})," Buscar"),o.a.createElement(N.a.Toggle,{title:"Busqueda Avansada",as:p.a,variant:"outline-dark",eventKey:"0"},o.a.createElement("span",{className:"glyphicon glyphicon-wrench"})," Avanzado")))),o.a.createElement(N.a.Collapse,{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"6"},o.a.createElement(P.a,null,o.a.createElement(P.a.Prepend,null,o.a.createElement(P.a.Text,{id:"basic-addon1"},"Rango de fechas")),o.a.createElement(C.a.Control,{value:this.state.fecha_ini,onKeyUp:this.actualizar,onChange:this.actualizar,name:"fecha_ini",type:"date"}),o.a.createElement(C.a.Control,{value:this.state.fecha_fin,onKeyUp:this.actualizar,onChange:this.actualizar,name:"fecha_fin",type:"date"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-danger",onClick:this.limpiar.bind(this)},o.a.createElement("i",{className:"glyphicon glyphicon-ban-circle"}))))),o.a.createElement(k.a,{sm:"3"},this.Usuarios()),o.a.createElement(k.a,{sm:"3"},o.a.createElement(p.a,{onClick:this.showProductor,variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"}),"Articulos a Buscar"))),o.a.createElement(k.a,{sm:"12"},o.a.createElement(te,{remove:this.removeIten.bind(this),itens:this.state.itens})))))),this.conten())))}},{key:"modales",value:function(){return!1}},{key:"conten",value:function(){return!1}},{key:"atc",value:function(){this.setState({atc:this.state.act+1})}},{key:"actualizar",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"additen",value:function(e){this.setState({itens:[].concat(Object(X.a)(this.state.itens),[e])})}},{key:"removeIten",value:function(e){var t=this.state.itens.filter((function(t){return t!==e}));this.setState({itens:t})}},{key:"showProductor",value:function(){window.productos.show()}},{key:"limpiar",value:function(){this.setState({fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa"})}},{key:"Usuarios",value:function(){var e=this.state.usuarios.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo},e.nombre)}));return o.a.createElement(C.a.Control,{onChange:this.actualizar,name:"user",as:"select"},o.a.createElement("option",{value:"0"},"Todos los Usuarios"),e)}},{key:"filtro",value:function(){return!1}},{key:"busquedaItens",value:function(e){return this.state.itens.map((function(e){return e.codigo})).forEach((function(t){e=e.filter((function(e){for(var a=0;a<e.detalles.length;a++)if(e.detalles[a]===t)return!0;return!1}))})),e}},{key:"busquedaFechas",value:function(e){if("dd/mm/aaaa"!==this.state.fecha_ini&&"dd/mm/aaaa"!==this.state.fecha_fin){var t=window.datetonomber(this.state.fecha_ini),a=window.datetonomber(this.state.fecha_fin);return e.filter((function(e){var n=window.datetonomber(e.fecha);return t<=n&&a>=n}))}return e}},{key:"busquedaUser",value:function(e){var t=parseInt(this.state.user);return 0!==t?e.filter((function(e){return e.usuario===t})):e}},{key:"busquedaTexto",value:function(e){var t=this.state.buscar.toUpperCase();return e.filter((function(e){return e.codigo.indexOf(t)>-1||(e.nombre.indexOf(t)>-1||e.nota.indexOf(t)>-1)}))}},{key:"nueva",value:function(){return!1}},{key:"ingresar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(o.a.Component),ne=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).placeholder="Buscar por Numero, Proveedor o Nota",e.title="Administrar Compras",e.nuevo="Nueva Compra",e.state={act:0,fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa",user:"0",buscar:"",compras:[],usuarios:[],itens:[]},window.principal=Object(d.a)(e),e.actualizar=e.actualizar.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){new $(this)}},{key:"modales",value:function(){var e=[];return e.push(o.a.createElement(Z,null)),e.push(o.a.createElement(Q,{actualizar:this.atc.bind(this)})),e}},{key:"conten",value:function(){return o.a.createElement(J,{actualizar:this.atc.bind(this),itens:this.filtro()})}},{key:"filtro",value:function(){var e=this.busquedaItens(this.state.compras);return e=this.busquedaFechas(e),e=this.busquedaUser(e),e=this.busquedaTexto(e)}},{key:"nueva",value:function(){window.location.href="/nueva_compra"}}]),t}(ae),oe=function(){function e(t){Object(c.a)(this,e),this.productos=[],this.departamentos=[],this.compras=[],this.usuarios=[],this.dominio="/api",window.data=this,this.actualizar()}return Object(l.a)(e,[{key:"actualizar",value:function(){fetch(this.dominio+"/Producto/lista").then((function(e){return e.json()})).then((function(e){window.productos.state.productos.equals(e)||window.productos.actualizar("productos",e)})),fetch(this.dominio+"/Producto/departamentos").then((function(e){return e.json()})).then((function(e){window.productos.state.departamentos.equals(e)||window.productos.actualizar("departamentos",e)})),fetch(this.dominio+"/Usuario/lista").then((function(e){return e.json()})).then((function(e){window.principal.state.usuarios.equals(e)||window.principal.ingresar("usuarios",e)})),fetch(this.dominio+"/Orden/lista").then((function(e){return e.json()})).then((function(e){window.principal.state.ordenes.equals(e)||window.principal.ingresar("ordenes",e)})),setTimeout((function(){window.data.actualizar()}),5e3)}},{key:"detalles",value:function(e,t){fetch(this.dominio+"/Orden/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"cancelar",value:function(e,t){fetch(this.dominio+"/Orden/cancelar/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}}]),e}(),ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=10,a.colspan=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{class:"info"},o.a.createElement("th",null,"Nro."),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Proveedor"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",{class:"text-right"},"Total"),o.a.createElement("th",{class:"text-right"},"Acciones"))}},{key:"row",value:function(e){return o.a.createElement("tr",{key:e.codigo},o.a.createElement("td",null,e.codigo),o.a.createElement("td",null,window.formatoFecha(e.fecha)),o.a.createElement("td",null,e.nombre),o.a.createElement("td",null,this.estado(e.status)),o.a.createElement("td",{className:"text-right"},window.numberFormat(e.monto)),o.a.createElement("td",{className:"text-right"},this.botones(e)))}},{key:"botones",value:function(e){var t=[];return t.push(o.a.createElement(p.a,{onClick:this.detalles.bind(this,e.codigo),variant:"outline-dark",title:"detalles compra"},o.a.createElement("i",{className:"glyphicon glyphicon-search"}))),t.push(o.a.createElement(p.a,{onClick:this.imprimir.bind(this,e.codigo),variant:"outline-dark",title:"Descargar compra"},o.a.createElement("i",{className:"glyphicon glyphicon-download"}))),0!==e.status&&t.push(o.a.createElement(p.a,{onClick:this.cancelar.bind(this,e.codigo),variant:"outline-dark",title:"Cancelar compra"},o.a.createElement("i",{className:"glyphicon glyphicon-ban-circle"}))),o.a.createElement(w.a,null,t)}},{key:"estado",value:function(e){switch(e){case 2:return o.a.createElement("span",{className:"label label-success"},"Procesada");case 1:return o.a.createElement("span",{className:"label label-warning"},"En Espera");case 0:return o.a.createElement("span",{className:"label label-danger"},"Cancelada")}}},{key:"detalles",value:function(e){window.data.detalles(e,(function(e){window.detalles.show(e)}))}},{key:"cancelar",value:function(e){window.warningOption.show("Esta seguro que desea eliminar la Orden de Compra Numero:"+e,(function(){window.data.cancelar(e,(function(t){1===t&&window.success.show("Compra Numero:"+e+" eliminada exitosamente")}))}))}},{key:"imprimir",value:function(e){window.info.title="Orden Numero:"+e,window.info.show(o.a.createElement(A,{document:"/api/Orden/PDF/"+e}))}},{key:"facturar",value:function(e){window.facturar.show(e)}}]),t}(I),re=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Detalles de la Compra",e.state={data:{id_proveedor:"",nombre:"",telefono:"",correo:"",contacto:"",direccion:"",estado:"1",cod_documento:"",fecha:"",fecha_documento:"",user:"",nota:""},show:!1},window.detalles=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Usuario que Registro la Compra:")," ",this.state.data.user),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Fecha de Registrio:")," ",this.state.data.fecha),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Nota puesta al momento de registrarla:")," ",this.state.data.nota),o.a.createElement("br",null),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Razon Social:"),this.state.data.nombre),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"CI/RIF:")," ",this.state.data.id_proveedor),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Persona de Contacto:")," ",this.state.data.contacto),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Correo Electronico:")," ",this.state.data.correo),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Telefono:")," ",this.state.data.telefono),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Direccion:")," ",this.state.data.direccion),o.a.createElement("br",null),o.a.createElement(W,{impuesto:this.state.data.impuesto,itens:this.state.data.detalles}))}},{key:"show",value:function(e){this.setState({data:e,show:!0})}}]),t}(_),ce=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).placeholder="Buscar por Numero, Proveedor o Nota",e.title="Administrar Ordenes de Compra",e.nuevo="Nueva Orden de Compra",e.state={act:0,fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa",user:"0",buscar:"",ordenes:[],usuarios:[],itens:[]},window.principal=Object(d.a)(e),e.actualizar=e.actualizar.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){new oe(this)}},{key:"modales",value:function(){return o.a.createElement(re,null)}},{key:"conten",value:function(){return o.a.createElement(ie,{actualizar:this.atc.bind(this),itens:this.filtro()})}},{key:"filtro",value:function(){var e=this.busquedaItens(this.state.ordenes);return e=this.busquedaFechas(e),e=this.busquedaUser(e),e=this.busquedaTexto(e)}},{key:"nueva",value:function(){window.location.href="/nueva_orden"}}]),t}(ae),le=function(){function e(){Object(c.a)(this,e),this.proveedores=[],this.productos=[],this.departamentos=[],this.tipo=[],this.unidad=[],this.dominio="/api",window.data=this,this.actualizar(),fetch(this.dominio+"/Region/get").then((function(e){return e.json()})).then((function(e){window.principal.setimpuesto(e.impuesto)}))}return Object(l.a)(e,[{key:"actualizar",value:function(){fetch(this.dominio+"/Producto/lista").then((function(e){return e.json()})).then((function(e){window.productos.state.productos.equals(e)||window.productos.actualizar("productos",e)})),fetch(this.dominio+"/Producto/departamentos").then((function(e){return e.json()})).then((function(e){window.productos.state.departamentos.equals(e)||window.productos.actualizar("departamentos",e),window.nuevoProducto.state.departamentos.equals(e)||window.nuevoProducto.actualizar("departamentos",e)})),fetch(this.dominio+"/Producto/unidad").then((function(e){return e.json()})).then((function(e){window.nuevoProducto.state.unidad.equals(e)||window.nuevoProducto.actualizar("unidad",e)})),fetch(this.dominio+"/Producto/tipo").then((function(e){return e.json()})).then((function(e){window.nuevoProducto.state.tipo.equals(e)||window.nuevoProducto.actualizar("tipo",e)})),fetch(this.dominio+"/Proveedor/lista").then((function(e){return e.json()})).then((function(e){window.proveedor.state.proveedores.equals(e)||window.proveedor.actualizar("proveedores",e)})),fetch(this.dominio+"/Orden/lista").then((function(e){return e.json()})).then((function(e){window.ordenes.state.ordenes.equals(e)||window.ordenes.actualizar("ordenes",e)})),setTimeout((function(){window.data.actualizar()}),5e3)}},{key:"cargarOrden",value:function(e,t){fetch(this.dominio+"/Orden/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"crearProveedor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Proveedor/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"crearPrducto",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Producto/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"Prosesar",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Orden/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}}]),e}(),se=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={act:0,itens:[],id_proveedor:"",forma_pago:"",tiempo_entrega:"",validez:"",nota:"",impuesto:0},window.principal=Object(d.a)(e),new le,e.actualizar=e.actualizar.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),o.a.createElement(G,{ref:"",cargar:this.cargarOrden.bind(this)}),o.a.createElement(q,{add:this.addIten.bind(this)}),o.a.createElement(B,{ref:"",edit:this.addIten.bind(this)}),o.a.createElement(R,{ref:"",selec:this.selecProveedor.bind(this)}),o.a.createElement(D,{ref:"",add:this.addIten.bind(this)}),o.a.createElement("div",{className:"panel panel-info"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("h4",null,o.a.createElement(p.a,{variant:"outline-primary",onClick:this.administrar},o.a.createElement("i",{className:"glyphicon glyphicon-chevron-left"})," Volver")," ",o.a.createElement("i",{className:"glyphicon glyphicon-edit"})," Nueva Orden de Compra ")),o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a,{id:"notaEntrada"},o.a.createElement(N.a,{defaultActiveKey:"0"},o.a.createElement(N.a.Toggle,{as:p.a,block:!0,variant:"outline-dark",eventKey:"0"},o.a.createElement("strong",null,"Datos del Proveedor")),o.a.createElement(N.a.Collapse,{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(L,{proveedor:this.state.id_proveedor,selec:this.selecProveedor.bind(this)}))))),o.a.createElement("br",null),o.a.createElement(N.a,null,o.a.createElement(N.a.Toggle,{as:p.a,block:!0,variant:"outline-dark",eventKey:"0"},o.a.createElement("strong",null,"Condiciones")),o.a.createElement(N.a.Collapse,{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"6"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"validez",placeholder:"Valides de la oferta",required:!0})),o.a.createElement(k.a,{sm:"6"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"tiempo_entrega",placeholder:"Tiempo de entrega",required:!0}))),o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"6"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"forma_pago",as:"textarea",placeholder:"Forma de Pago",required:!0})),o.a.createElement(k.a,{sm:"6"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,name:"nota",as:"textarea",placeholder:"nota",required:!0}))))))),o.a.createElement("br",null),o.a.createElement(k.a,{md:"12"},o.a.createElement(p.a,{onClick:this.openOrdenes,variant:"outline-dark",title:"Cargar orden de compra"},o.a.createElement("span",{className:"glyphicon glyphicon-folder-open"})),o.a.createElement("div",{className:"pull-right"},o.a.createElement(w.a,null,o.a.createElement(p.a,{onClick:this.openNuevoProveedor,variant:"outline-dark",title:"Nuevo Proveedor"},o.a.createElement("span",{className:"glyphicon glyphicon-user"})),o.a.createElement(p.a,{onClick:this.openNuevoProducto,variant:"outline-dark",title:"Nuevo Producto"},o.a.createElement("span",{className:"glyphicon glyphicon-shopping-cart"})),o.a.createElement(p.a,{onClick:this.openProductos,variant:"outline-dark",title:"Buscar Producto"},o.a.createElement("span",{className:"glyphicon glyphicon-search"}))),o.a.createElement("span",{className:"btn"}),o.a.createElement(p.a,{onClick:this.prosesar.bind(this),variant:"outline-dark",title:"Procesar",disabled:!this.isProsesable()},o.a.createElement("span",{className:"glyphicon glyphicon-print"}))))),o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),o.a.createElement(V,{impuesto:this.state.impuesto,itens:this.state.itens,remove:this.removeIten.bind(this)})))))}},{key:"atc",value:function(){this.setState({atc:this.state.act+1})}},{key:"selecProveedor",value:function(e){this.setState({id_proveedor:e})}},{key:"addIten",value:function(e){if(e.unidades>0){var t=[],a=!0;this.state.itens.forEach((function(n){n.codigo===e.codigo?(t.push(e),a=!1):t.push(n)})),a&&t.push(e),this.setState({itens:t})}else window.warning.show("debe introducir una cantidad")}},{key:"removeIten",value:function(e){var t=this.state.itens.filter((function(t){return t!==e}));this.setState({itens:t})}},{key:"openOrdenes",value:function(){window.ordenes.show()}},{key:"openProductos",value:function(){window.productos.show()}},{key:"openNuevoProveedor",value:function(){window.nuevoProveedor.show()}},{key:"openNuevoProducto",value:function(){window.nuevoProducto.show()}},{key:"cargarOrden",value:function(e){window.data.cargarOrden(e,(function(e){window.ordenes.hide(),window.principal.setState({itens:e.detalles})}))}},{key:"prosesar",value:function(){var e,t=this.state,a=0;t.itens.forEach((function(e){a+=e.unidades*e.precio})),e=a+a*(t.impuesto/100),t.subtotal=a,t.total=e,t.impuesto=a*(t.impuesto/100),window.data.Prosesar(this.state,(function(e){window.success.show(o.a.createElement(A,{document:"/api/Orden/PDF/"+e}))})),this.setState({act:0,itens:[],id_proveedor:"",forma_pago:"",tiempo_entrega:"",validez:"",nota:"",impuesto:0}),window.proveedor.setState({nombre:"",codigo:""})}},{key:"isProsesable",value:function(){return this.state.itens.length>0&&""!==this.state.id_proveedor}},{key:"setimpuesto",value:function(e){this.setState({impuesto:e})}},{key:"actualizar",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"administrar",value:function(){window.location.href="/ver_ordenes"}},{key:"ingresar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(o.a.Component),ue=function(){function e(t){Object(c.a)(this,e),this.dominio="/api",window.data=this,this.administrar=t,this.actualizar()}return Object(l.a)(e,[{key:"actualizar",value:function(){fetch(this.dominio+"/Producto/lista").then((function(e){return e.json()})).then((function(e){window.productos.state.productos.equals(e)||window.productos.actualizar("productos",e)})),fetch(this.dominio+"/Producto/departamentos").then((function(e){return e.json()})).then((function(e){window.productos.state.departamentos.equals(e)||window.productos.actualizar("departamentos",e)})),fetch(this.dominio+"/Usuario/lista").then((function(e){return e.json()})).then((function(e){window.principal.state.usuarios.equals(e)||window.principal.ingresar("usuarios",e)})),fetch(this.dominio+"/Cotizacion/lista").then((function(e){return e.json()})).then((function(e){window.principal.state.cotizaciones.equals(e)||window.principal.ingresar("cotizaciones",e)})),setTimeout((function(){window.data.actualizar()}),5e3)}},{key:"detalles",value:function(e,t){fetch(this.dominio+"/Cotizacion/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"seguimiento_nuevo",value:function(e,t,a){window.post(this.dominio+"/Cotizacion/seguimiento_nuevo/"+e.cod_cotizacion,e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"seguimiento",value:function(){fetch(this.dominio+"/Cotizacion/seguimiento/"+window.seguimiento.state.id).then((function(e){return e.json()})).then((function(e){window.seguimiento.ingresar("seguimiento",e)})),1==window.seguimiento.state.show&&setTimeout((function(){window.data.seguimiento()}),500)}},{key:"cancelar",value:function(e,t){fetch(this.dominio+"/Cotizacion/cancelar/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"cargarCotizacion",value:function(e,t){fetch(this.dominio+"/Cotizacion/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}}]),e}(),de=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=10,a.colspan=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{class:"info"},o.a.createElement("th",null,"Nro."),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Proveedor"),o.a.createElement("th",null,"Estado"),o.a.createElement("th",{class:"text-right"},"Total"),o.a.createElement("th",{class:"text-right"},"Acciones"))}},{key:"row",value:function(e){return o.a.createElement("tr",{key:e.codigo},o.a.createElement("td",{className:"btn-link",onClick:this.comentario.bind(this,e.codigo)},e.codigo),o.a.createElement("td",null,window.formatoFecha(e.fecha)),o.a.createElement("td",{className:"btn-link",onClick:this.detalles.bind(this,e.codigo)},e.nombre),o.a.createElement("td",null,this.estado(e.status)),o.a.createElement("td",{className:"text-right"},window.numberFormat(e.monto)),o.a.createElement("td",{className:"text-right"},this.botones(e)))}},{key:"botones",value:function(e){var t=[];return 1===e.status&&t.push(o.a.createElement(p.a,{onClick:this.segimiento.bind(this,e.codigo),variant:"outline-dark",title:"Ver Seguimiento"},o.a.createElement("i",{className:"glyphicon glyphicon-eye-open"}))),t.push(o.a.createElement(p.a,{onClick:this.imprimir.bind(this,e.codigo),variant:"outline-dark",title:"Descargar compra"},o.a.createElement("i",{className:"glyphicon glyphicon-download"}))),e.tasa>0&&t.push(o.a.createElement(p.a,{onClick:this.dolar.bind(this,e.codigo),variant:"outline-dark",title:"Cancelar compra"},"$")),0!==e.status&&t.push(o.a.createElement(p.a,{onClick:this.cancelar.bind(this,e.codigo),variant:"outline-dark",title:"Cancelar compra"},o.a.createElement("i",{className:"glyphicon glyphicon-ban-circle"}))),o.a.createElement(w.a,null,t)}},{key:"estado",value:function(e){switch(e){case 2:return o.a.createElement("span",{className:"label label-success"},"Procesada");case 1:return o.a.createElement("span",{className:"label label-warning"},"En Espera");case 0:return o.a.createElement("span",{className:"label label-danger"},"Vencida")}}},{key:"comentario",value:function(e){window.data.detalles(e,(function(e){window.Comentarios.show(e)}))}},{key:"detalles",value:function(e){window.data.detalles(e,(function(e){window.detalles.show(e)}))}},{key:"segimiento",value:function(e){window.seguimiento.show(e)}},{key:"cancelar",value:function(e){var t=this.props.actualizar;window.warningOption.show("Esta seguro que desea eliminar la Cotizacion Numero:"+e,(function(){window.data.cancelar(e,(function(a){1===a&&(t(0),window.success.show("Cotizacion Numero:"+e+" eliminada exitosamente"))}))}))}},{key:"imprimir",value:function(e){window.info.title="Cotizacion Numero:"+e,window.info.show(o.a.createElement(A,{document:"/api/Cotizacion/PDF/"+e}))}},{key:"dolar",value:function(e){window.info.title="Cotizacion Numero:"+e,window.info.show(o.a.createElement(A,{document:"/api/Cotizacion/PDFD/"+e}))}},{key:"facturar",value:function(e){window.facturar.show(e)}}]),t}(I),me=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={total:0,iva:0},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,{hover:!0,responsive:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"text-center"},"CODIGO"),o.a.createElement("th",{className:"text-center"},"CANT."),o.a.createElement("th",null,"DESCRIPCION"),o.a.createElement("th",{className:"text-right"},"PRECIO UNIT."),o.a.createElement("th",{className:"text-right"},"PRECIO TOTAL"),o.a.createElement("th",{className:"text-right"},"Comentario"))),o.a.createElement("tbody",null,this.getItens(),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"SUBTOTAL BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total)),o.a.createElement("td",{className:"text-right"})),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"IVA ",this.props.impuesto,"% BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total*(this.props.impuesto/100))),o.a.createElement("td",{className:"text-right"})),o.a.createElement("tr",null,o.a.createElement("td",{className:"text-right",colSpan:"4"},o.a.createElement("strong",null,"TOTAL BS.F.")),o.a.createElement("td",{className:"text-right"},window.numberFormat(this.state.total+this.state.total*(this.props.impuesto/100))),o.a.createElement("td",{className:"text-right"}))))}},{key:"getItens",value:function(){var e=0,t=this.props.itens.map((function(t){return e+=t.precio*t.unidades,o.a.createElement("tr",null,o.a.createElement("td",{className:"text-center"},t.codigo),o.a.createElement("td",{className:"text-center"},t.unidades),o.a.createElement("td",null,t.descripcion),o.a.createElement("td",{className:"text-right"},window.numberFormat(t.precio)),o.a.createElement("td",{className:"text-right"},window.numberFormat(t.precio*t.unidades)),o.a.createElement("td",{className:"text-center"},t.comentario))}));return this.state.total!==e&&this.setState({total:e}),t}}]),t}(o.a.Component),he=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Datos de la Cotizacion",e.state={data:Object(j.a)({codigo_cliente:"",nombre:"",telefono:"",correo:"",contacto:"",direccion:"",estado:"1",codigo:"",fecha:"",user:"",nota:"",forma_pago:"",tiempo_entrega:"",validez:""},"nota",""),show:!1},window.detalles=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Razon Social:"),this.state.data.nombre),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"CI/RIF:")," ",this.state.data.codigo_cliente),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Persona de Contacto:")," ",this.state.data.contacto),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Correo Electronico:")," ",this.state.data.correo),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Telefono:")," ",this.state.data.telefono),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Direccion:")," ",this.state.data.direccion),o.a.createElement("br",null),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Usuario que Registro la Cotizacion:")," ",this.state.data.user),o.a.createElement("br",null),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Codigo:")," ",this.state.data.codigo),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Fecha:")," ",this.state.data.fecha),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Forma de Pago:")," ",this.state.data.forma_pago),o.a.createElement(k.a,{sm:"6"},o.a.createElement("strong",null,"Validez de la oferta:")," ",this.state.data.validez),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Tiempo de Entrega:")," ",this.state.data.tiempo_entrega),o.a.createElement(k.a,{sm:"12"},o.a.createElement("strong",null,"Nota:")," ",this.state.data.nota))}},{key:"show",value:function(e){this.setState({data:e,show:!0})}}]),t}(_),pe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="segimiento a Cotizacion",e.state={id:0,seguimiento:[],comentar:"",show:!1},window.seguimiento=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(x.a,{hover:!0,responsive:!0,striped:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"text-center",style:{width:"20%"}},"Usuario"),o.a.createElement("th",{className:"text-center",style:{width:"20%"}},"Fecha"),o.a.createElement("th",{style:{width:"60%"}},"Comentario"))),o.a.createElement("tbody",null,this.getItens()),o.a.createElement("tfoot",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"3"},o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(C.a.Control,{onKeyUp:this.seguimiento.bind(this),defaultValue:this.state.comentar,placeholder:"Nuevo Seguimiento"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{onClick:this.guardar.bind(this),variant:"primary"},o.a.createElement("span",{className:"glyphicon glyphicon-plus"})," Agregar"))))))))}},{key:"getItens",value:function(){return this.state.seguimiento.map((function(e){return o.a.createElement("tr",null,o.a.createElement("td",{className:"text-center"},e.usuario),o.a.createElement("td",{className:"text-center"},window.formatoFecha(e.fecha)),o.a.createElement("td",null,e.descripcion))}))}},{key:"show",value:function(e){this.setState({id:e,show:!0}),setTimeout((function(){window.data.seguimiento()}),100)}},{key:"seguimiento",value:function(e){this.setState({comentar:e.target.value})}},{key:"guardar",value:function(){var e=this;window.data.seguimiento_nuevo({cod_cotizacion:this.state.id,descripcion:this.state.comentar},(function(){e.setState({comentar:""})}))}},{key:"ingresar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),fe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Detalles de la Cotizacion",e.state={data:{impuesto:0,detalles:[]},show:!1},window.Comentarios=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(me,{impuesto:this.state.data.impuesto,itens:this.state.data.detalles})}},{key:"show",value:function(e){this.setState({data:e,show:!0})}}]),t}(_),Ee=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).placeholder="Buscar por Numero, Cliente o Nota",e.title="Administrar Cotizaciones",e.nuevo="Nueva Cotizacion",e.state={act:0,fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa",user:"0",buscar:"",cotizaciones:[],usuarios:[],itens:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.principal=this,new ue(this)}},{key:"modales",value:function(){var e=[];return e.push(o.a.createElement(he,null)),e.push(o.a.createElement(pe,null)),e.push(o.a.createElement(fe,null)),e}},{key:"conten",value:function(){return o.a.createElement(de,{actualizar:this.atc.bind(this),itens:this.filtro()})}},{key:"filtro",value:function(){var e=this.busquedaItens(this.state.cotizaciones);return e=this.busquedaFechas(e),e=this.busquedaUser(e),e=this.busquedaTexto(e)}},{key:"nueva",value:function(){window.location.href="/nueva_cotizacion"}}]),t}(ae),ve=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Editar Facturacion",e.state={iten:{codigo:"0000",departamento:"",descripcion:"",costo:0,precio1:0,precio2:0,precio3:0,cantidad:0,comentario:""},cantidad:0,precio:0,comentario:"",show:!1},window.editar=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){var e=this.state.iten.costo+this.state.iten.costo*this.state.iten.precio1/100,t=this.state.iten.costo+this.state.iten.costo*this.state.iten.precio2/100,a=this.state.iten.costo+this.state.iten.costo*this.state.iten.precio3/100;return o.a.createElement(x.a,null,o.a.createElement("thead",null,o.a.createElement("tr",{className:"warning"},o.a.createElement("th",null,"C\xf3digo"),o.a.createElement("th",null,"Producto"),o.a.createElement("th",null,o.a.createElement("span",{className:"pull-right"},"Cant.")),o.a.createElement("th",null,o.a.createElement("span",{className:"pull-right"},"Precio")))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,this.state.iten.codigo),o.a.createElement("td",null,this.state.iten.descripcion),o.a.createElement("td",{className:"col-xs-1"},o.a.createElement("div",{className:"pull-right"},o.a.createElement("input",{type:"text",className:"form-control text-right",onKeyUp:this.cantidad.bind(this),onFocus:this.focus.bind(this),defaultValue:this.state.cantidad}))),o.a.createElement("td",{className:"col-xs-2"},o.a.createElement("div",{className:"pull-right"},o.a.createElement("input",{type:"text",defaultValue:this.state.precio,onKeyUp:this.precio.bind(this),onFocus:this.focus.bind(this),className:"form-control text-right",list:"edit"}),o.a.createElement("datalist",{id:"edit"},o.a.createElement("option",{value:e}),o.a.createElement("option",{value:t}),o.a.createElement("option",{value:a}))))),o.a.createElement("tr",null,o.a.createElement("td",null,"Comentario:"),o.a.createElement("td",{colSpan:"2"},o.a.createElement(C.a.Control,{defaultValue:this.state.comentario,placeholder:"Comentario",onKeyUp:this.comentario.bind(this)})),o.a.createElement("td",null,o.a.createElement(p.a,{block:!0,onClick:this.editarIten.bind(this,this.state.iten)},o.a.createElement("i",{className:"glyphicon glyphicon-plus"})," Editar")))))}},{key:"focus",value:function(e){e.target.value=""}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"cantidad",value:function(e){this.actualizar("cantidad",e.target.value)}},{key:"precio",value:function(e){this.actualizar("precio",e.target.value)}},{key:"comentario",value:function(e){this.actualizar("comentario",e.target.value)}},{key:"show",value:function(e){this.setState({show:!0,iten:e,cantidad:e.unidades,precio:e.precio,comentario:e.comentario})}},{key:"editarIten",value:function(e){e.unidades=this.state.cantidad,e.precio=this.state.precio,e.comentario=this.state.comentario,this.props.edit(e),this.hide()}}]),t}(_),ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).itens=6,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"titles",value:function(){return o.a.createElement("tr",{className:"info"},o.a.createElement("th",null,"Numero"),o.a.createElement("th",null,"Proveedor"),o.a.createElement("th",null,"Fecha"),o.a.createElement("th",null,"Total"),o.a.createElement("th",{className:"text-center",style:{width:"36px"}},"Agregar"))}},{key:"row",value:function(e){return o.a.createElement("tr",{key:"pro"+e.index},o.a.createElement("td",null,e.codigo),o.a.createElement("td",null,e.nombre),o.a.createElement("td",null,e.fecha),o.a.createElement("td",null,o.a.createElement("span",{className:"pull-right"},window.numberFormat(e.monto))),o.a.createElement("td",{className:"text-center"},o.a.createElement("button",{onClick:this.cargar.bind(this,e),className:"btn btn-info"},o.a.createElement("i",{className:"glyphicon glyphicon-plus"}))))}},{key:"cargar",value:function(e){this.props.cargar(e.codigo)}}]),t}(I),be=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Cargar Retomar Cotizacion",e.state={buscar:"",plantillas:[],show:!1},window.plantillas=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(C.a,{as:k.a,sm:"12"},o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(C.a.Control,{onKeyUp:this.setBuscar.bind(this),placeholder:"Buscar ordenes por Numero o Proveedor"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"})," Buscar"))))),o.a.createElement(ge,{itens:this.fintros(),cargar:this.props.cargar}))}},{key:"fintros",value:function(){var e=this,t=this.state.plantillas.filter((function(e){return 1===e.status}));return t=t.filter((function(t){return t.nombre.indexOf(e.state.buscar)>-1||t.codigo.indexOf(e.state.buscar)>-1}))}},{key:"setBuscar",value:function(e){this.actualizar("buscar",e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),we=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Copiar Cotizacion",e.state={buscar:"",cotizaciones:[],show:!1},window.cotizaciones=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(z.a,null,o.a.createElement(C.a,{as:k.a,sm:"12"},o.a.createElement(C.a.Group,null,o.a.createElement(P.a,null,o.a.createElement(C.a.Control,{onKeyUp:this.setBuscar.bind(this),placeholder:"Buscar ordenes por Numero o Proveedor"}),o.a.createElement(P.a.Append,null,o.a.createElement(p.a,{variant:"outline-dark"},o.a.createElement("span",{className:"glyphicon glyphicon-search"})," Buscar"))))),o.a.createElement(ge,{itens:this.fintros(),cargar:this.props.cargar}))}},{key:"fintros",value:function(){var e=this,t=this.state.cotizaciones.filter((function(e){return 1===e.status}));return t=t.filter((function(t){return t.nombre.indexOf(e.state.buscar)>-1||t.codigo.indexOf(e.state.buscar)>-1}))}},{key:"setBuscar",value:function(e){this.actualizar("buscar",e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}}]),t}(_),ye=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).title="Nuevo Cliente",e.size="",e.state={codigo:"",nombre:"",telefono:"",email:"",contacto:"",direccion:"",tipo_contribuyente:"",retencion:0,estado:"1",show:!1},e.ingresar=e.ingresar.bind(Object(d.a)(e)),window.nuevoCliente=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"conten",value:function(){return o.a.createElement(C.a,{as:z.a},o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"CI/RIF"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.setRif.bind(this),name:"codigo",defaultValue:this.state.codigo}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Nombre"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"nombre",defaultValue:this.state.nombre}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Tel\xe9fono"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"telefono",defaultValue:this.state.telefono}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Contacto"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"contacto",defaultValue:this.state.contacto}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Correo"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"email",defaultValue:this.state.email}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Direcci\xf3n"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"direccion",defaultValue:this.state.direccion}))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Tipo de contribuyente"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(P.a,null,o.a.createElement(C.a.Control,{as:"select",onChange:this.ingresar,name:"tipo_contribuyente",defaultValue:this.state.estado},o.a.createElement("option",{value:"ORDINARIO"},"Ordinario"),o.a.createElement("option",{value:"ESPECIAL"},"especial")),o.a.createElement(C.a.Control,{onKeyUp:this.ingresar,name:"retencion",placeholder:"Retencion %",defaultValue:this.state.direccion})))),o.a.createElement(C.a.Group,{as:k.a,sm:"12"},o.a.createElement(C.a.Label,{column:!0,md:"4"},"Estado"),o.a.createElement(k.a,{sm:"8"},o.a.createElement(C.a.Control,{as:"select",onChange:this.ingresar,name:"estado",defaultValue:this.state.estado},o.a.createElement("option",{value:"1"},"Activo"),o.a.createElement("option",{value:"0"},"Inactivo")))))}},{key:"ingresar",value:function(e){this.actualizar(e.target.name,e.target.value.toUpperCase())}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"submit",value:function(){var e=this;window.data.crearCliente(this.state,(function(t){t.error?window.danger.show(t.msn):(e.props.selec(e.state.codigo),window.success.show(t.msn))}))}},{key:"setRif",value:function(e){var t=e.target.value.toUpperCase();t=window.mask(t,"a-999999999-99"),e.target.value=t,this.actualizar(e.target.name,t)}}]),t}(T),ke=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={clientes:[]},window.cliente=Object(d.a)(e),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{list:"listCodigo",autoComplete:"off",ref:"codigo",onKeyUp:this.autoCompleteCodigo.bind(this),onChange:this.autoCompleteCodigo.bind(this),type:"text",placeholder:"Ingresa el rif o cedula",required:!0}),o.a.createElement("datalist",{id:"listCodigo"},this.codigo())),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{list:"listNombre",autoComplete:"off",ref:"nombre",onKeyUp:this.autoCompleteCodigo.bind(this),onChange:this.autoCompleteNombre.bind(this),type:"text",placeholder:"Nombre o Razon social",required:!0}),o.a.createElement("datalist",{id:"listNombre"},this.nombres())),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{ref:"telefono",placeholder:"Tel\xe9fono",readOnly:!0,required:!0}))),o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"12"},o.a.createElement(C.a.Control,{ref:"direccion",placeholder:"Direcci\xf3n",readOnly:!0,required:!0}))))}},{key:"nombres",value:function(){return this.state.clientes.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.nombre})}))}},{key:"codigo",value:function(){return this.state.clientes.map((function(e){return o.a.createElement("option",{key:e.codigo,value:e.codigo})}))}},{key:"actualizar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"autoCompleteNombre",value:function(e){var t=this;8===e.keyCode&&this.limpiar(),this.state.clientes.forEach((function(a){a.nombre===e.target.value&&(t.refs.codigo.value=a.codigo,t.refs.nombre.value=a.nombre,t.refs.direccion.value=a.direccion,t.refs.telefono.value=a.telefono,t.props.selec(a.codigo))}))}},{key:"autoCompleteCodigo",value:function(e){var t=this;8===e.keyCode&&this.limpiar(),this.state.clientes.forEach((function(a){a.codigo===e.target.value&&(t.refs.codigo.value=a.codigo,t.refs.nombre.value=a.nombre,t.refs.direccion.value=a.direccion,t.refs.telefono.value=a.telefono,t.props.selec(a.codigo))}))}},{key:"limpiar",value:function(){this.refs.codigo.value="",this.refs.nombre.value="",this.refs.direccion.value="",this.refs.telefono.value=""}},{key:"ingresar",value:function(e){this.actualizar(e.target.name,e.target.value.toUpperCase())}}]),t}(o.a.Component),Oe=function(){function e(){Object(c.a)(this,e),this.proveedores=[],this.productos=[],this.departamentos=[],this.tipo=[],this.unidad=[],this.dominio="/api",window.data=this,this.actualizar(),fetch(this.dominio+"/Region/get").then((function(e){return e.json()})).then((function(e){window.principal.setimpuesto(e.impuesto)}))}return Object(l.a)(e,[{key:"actualizar",value:function(){fetch(this.dominio+"/Producto/lista").then((function(e){return e.json()})).then((function(e){window.productos.state.productos.equals(e)||window.productos.actualizar("productos",e)})),fetch(this.dominio+"/Producto/departamentos").then((function(e){return e.json()})).then((function(e){window.productos.state.departamentos.equals(e)||window.productos.actualizar("departamentos",e),window.nuevoProducto.state.departamentos.equals(e)||window.nuevoProducto.actualizar("departamentos",e)})),fetch(this.dominio+"/Producto/unidad").then((function(e){return e.json()})).then((function(e){window.nuevoProducto.state.unidad.equals(e)||window.nuevoProducto.actualizar("unidad",e)})),fetch(this.dominio+"/Producto/tipo").then((function(e){return e.json()})).then((function(e){window.nuevoProducto.state.tipo.equals(e)||window.nuevoProducto.actualizar("tipo",e)})),fetch(this.dominio+"/Cliente/lista").then((function(e){return e.json()})).then((function(e){window.cliente.state.clientes.equals(e)||window.cliente.actualizar("clientes",e)})),fetch(this.dominio+"/Cotizacion/lista").then((function(e){return e.json()})).then((function(e){window.cotizaciones.state.cotizaciones.equals(e)||window.cotizaciones.actualizar("cotizaciones",e)})),fetch(this.dominio+"/Cotizacion/plantillas").then((function(e){return e.json()})).then((function(e){window.plantillas.state.plantillas.equals(e)||window.plantillas.actualizar("plantillas",e)})),setTimeout((function(){window.data.actualizar()}),5e3)}},{key:"cargarCotizacion",value:function(e,t){fetch(this.dominio+"/Cotizacion/detalles/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"cargarPlantilla",value:function(e,t){fetch(this.dominio+"/Cotizacion/plantilla/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}},{key:"crearCliente",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Cliente/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"crearPrducto",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Producto/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"Prosesar",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Cotizacion/nuevo",e,(function(e){t(e)}),(function(e){a(e)}))}},{key:"Guardar",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};window.post(this.dominio+"/Cotizacion/guardar",e,(function(e){t(e)}),(function(e){a(e)}))}}]),e}(),je=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={act:0,itens:[],codigo_cliente:"",forma_pago:"",tiempo_entrega:"",validez:"",nota:"",tasa:"",impuesto:0,plantilla:0},e.actualizar=e.actualizar.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.principal=this,new Oe}},{key:"render",value:function(){return o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),o.a.createElement(be,{cargar:this.cargarPlantilla.bind(this)}),o.a.createElement(we,{cargar:this.cargarCotizacion.bind(this)}),o.a.createElement(q,{add:this.addIten.bind(this)}),o.a.createElement(ve,{edit:this.addIten.bind(this)}),o.a.createElement(ye,{selec:this.selecCliente.bind(this)}),o.a.createElement(D,{add:this.addIten.bind(this)}),o.a.createElement("div",{className:"panel panel-info"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("h4",null,o.a.createElement(p.a,{variant:"outline-primary",onClick:this.administrar},o.a.createElement("i",{className:"glyphicon glyphicon-chevron-left"})," Volver")," ",o.a.createElement("i",{className:"glyphicon glyphicon-edit"})," Nueva Cotizacion ")),o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a,{id:"notaEntrada"},o.a.createElement("h5",null,o.a.createElement("strong",null,"Datos del Cliente")),o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(ke,{cliente:this.state.codigo_cliente,selec:this.selecCliente.bind(this)}))),o.a.createElement("br",null),o.a.createElement(N.a,null,o.a.createElement(N.a.Toggle,{as:p.a,variant:"primary",eventKey:"0"},o.a.createElement("span",{className:"glyphicon glyphicon-chevron-down"}),o.a.createElement("strong",null,"Condiciones")),o.a.createElement(N.a.Collapse,{eventKey:"0"},o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,defaultValue:this.state.validez,name:"validez",placeholder:"Valides de la oferta",required:!0})),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,defaultValue:this.state.tiempo_entrega,name:"tiempo_entrega",placeholder:"Tiempo de entrega",required:!0})),o.a.createElement(k.a,{sm:"4"},o.a.createElement(C.a.Control,{min:"0",type:"number",onKeyUp:this.actualizar,defaultValue:this.state.tasa,name:"tasa",placeholder:"Referencial del Dolar",required:!0}))),o.a.createElement(C.a.Group,{as:z.a},o.a.createElement(k.a,{sm:"6"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,defaultValue:this.state.forma_pago,name:"forma_pago",as:"textarea",placeholder:"Forma de Pago",required:!0})),o.a.createElement(k.a,{sm:"6"},o.a.createElement(C.a.Control,{onKeyUp:this.actualizar,defaultValue:this.state.nota,name:"nota",as:"textarea",placeholder:"nota",required:!0}))))))),o.a.createElement("br",null),o.a.createElement(k.a,{md:"12"},o.a.createElement(p.a,{onClick:this.openCotizaciones,variant:"outline-dark",title:"Cargar orden de compra"},o.a.createElement("span",{className:"glyphicon glyphicon-duplicate"})),o.a.createElement("span",{className:"btn"}),o.a.createElement(w.a,null,o.a.createElement(p.a,{onClick:this.openPlantillas,variant:"outline-dark",title:"Retomar Cotizacion"},o.a.createElement("span",{className:"glyphicon glyphicon-folder-open"})),o.a.createElement(p.a,{onClick:this.guardar.bind(this),variant:"outline-dark",title:"Guardar Cotizacion"},o.a.createElement("span",{className:"glyphicon glyphicon-floppy-disk"}))),o.a.createElement("div",{className:"pull-right"},o.a.createElement(w.a,null,o.a.createElement(p.a,{onClick:this.openNuevoCliente,variant:"outline-dark",title:"Nuevo Cliente"},o.a.createElement("span",{className:"glyphicon glyphicon-user"})),o.a.createElement(p.a,{onClick:this.openNuevoProducto,variant:"outline-dark",title:"Nuevo Producto"},o.a.createElement("span",{className:"glyphicon glyphicon-shopping-cart"})),o.a.createElement(p.a,{onClick:this.openProductos,variant:"outline-dark",title:"Buscar Producto"},o.a.createElement("span",{className:"glyphicon glyphicon-search"}))),o.a.createElement("span",{className:"btn"}),o.a.createElement(p.a,{onClick:this.prosesar.bind(this),variant:"outline-dark",title:"Procesar",disabled:!this.isProsesable()},o.a.createElement("span",{className:"glyphicon glyphicon-print"}))))),o.a.createElement(k.a,{md:"12"},o.a.createElement("br",null),o.a.createElement(V,{impuesto:this.state.impuesto,itens:this.state.itens,remove:this.removeIten.bind(this)})))))}},{key:"atc",value:function(){this.setState({atc:this.state.act+1})}},{key:"selecCliente",value:function(e){this.setState({codigo_cliente:e})}},{key:"addIten",value:function(e){if(e.unidades>0){var t=[],a=!0;this.state.itens.forEach((function(n){n.codigo===e.codigo?(t.push(e),a=!1):t.push(n)})),a&&(e.comentario="",t.push(e)),this.setState({itens:t})}else window.warning.show("debe introducir una cantidad")}},{key:"removeIten",value:function(e){var t=this.state.itens.filter((function(t){return t!==e}));this.setState({itens:t})}},{key:"openCotizaciones",value:function(){window.cotizaciones.show()}},{key:"openProductos",value:function(){window.productos.show()}},{key:"openNuevoCliente",value:function(){window.nuevoCliente.show()}},{key:"openNuevoProducto",value:function(){window.nuevoProducto.show()}},{key:"openPlantillas",value:function(){window.plantillas.show()}},{key:"cargarCotizacion",value:function(e){window.data.cargarCotizacion(e,(function(e){window.cotizaciones.hide(),window.principal.setState({itens:e.detalles})}))}},{key:"prosesar",value:function(){var e,t=this.state,a=0;t.itens.forEach((function(e){a+=e.unidades*e.precio})),e=a+a*(t.impuesto/100),t.subtotal=a,t.total=e,t.impuesto=a*(t.impuesto/100),window.data.Prosesar(t,(function(e){""!==t.tasa?window.success.show(o.a.createElement(A,{document:"/api/Cotizacion/PDFD/"+e})):window.success.show(o.a.createElement(A,{document:"/api/Cotizacion/PDF/"+e}))})),this.setState({act:0,itens:[],codigo_cliente:"",forma_pago:"",tiempo_entrega:"",validez:"",nota:"",tasa:"",impuesto:0,plantilla:0}),window.cliente.limpiar()}},{key:"isProsesable",value:function(){return this.state.itens.length>0&&""!==this.state.codigo_cliente}},{key:"setimpuesto",value:function(e){this.setState({impuesto:e})}},{key:"actualizar",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"administrar",value:function(){window.location.href="/ver_cotizaciones"}},{key:"ingresar",value:function(e,t){this.setState(Object(j.a)({},e,t))}},{key:"cargarPlantilla",value:function(e){window.data.cargarPlantilla(e,(function(t){window.plantillas.hide(),window.principal.setState({codigo_cliente:t.id_cliente,forma_pago:t.forma_pago,tiempo_entrega:t.tiempo_entrega,validez:t.validez,nota:t.nota,itens:t.detalles,plantilla:e})}))}},{key:"guardar",value:function(){var e,t=this.state,a=0;t.itens.forEach((function(e){a+=e.unidades*e.precio})),e=a+a*(t.impuesto/100),t.subtotal=a,t.total=e,t.impuesto=a*(t.impuesto/100),window.data.Guardar(this.state,(function(e){window.principal.setState({plantilla:e})}))}}]),t}(o.a.Component),Ce=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=window.location.protocol+"//"+document.domain;switch(3e3==window.location.port&&(e+=":3000"),e=window.location.href.replace(e,"")){case"/nueva_compra":return o.a.createElement(M,null);case"/ver_compras":return o.a.createElement(ne,null);case"/ver_ordenes":return o.a.createElement(ce,null);case"/nueva_orden":return o.a.createElement(se,null);case"/ver_cotizaciones":return o.a.createElement(Ee,null);case"/nueva_cotizacion":return o.a.createElement(je,null);default:return o.a.createElement(O,null)}}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.mask=function(e,t){var a=0,n="";if(e.length>0){for(var o=0;o<t.length;o++)if("a"===t[o])/[A-Za-z]/g.test(e[a])&&(n+=e[a]),a++;else if("9"===t[o])/[0-9]/g.test(e[a])&&(n+=e[a]),a++;else if("*"===t[o])/[A-Za-z0-9]/g.test(e[a])&&(n+=e[a]),a++;else{if(void 0===e[a])break;n+=t[o]}return n}return""},window.numberFormat=function(e){return"number"!=typeof e&&(e=parseFloat(e)),e.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")},window.FormDataFotmat=function(e){var t=new FormData;return Object.keys(e).forEach((function(a){switch(typeof e[a]){case"object":t.append(a,JSON.stringify(e[a]));break;default:t.append(a,e[a])}})),t},window.post=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=new XMLHttpRequest;o.responseType="json",o.open("POST",e),o.onreadystatechange=function(e){4===o.readyState&&(200===o.status?a(o.response):n(o))},o.send(window.FormDataFotmat(t))},window.formatoFecha=function(e){return e.replace(/^(\d{4})-(\d{2})-(\d{2})$/g,"$3/$2/$1")},window.datetonomber=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth();return(a*=1e4)+(n*=100)+t.getDay()},Array.prototype.equals=function(e){if(!e)return!1;if(this.length!==e.length)return!1;for(var t=0,a=this.length;t<a;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]instanceof Object&&e[t]instanceof Object)window.compare(this[t],e[t]);else if(this[t]!==e[t])return!1;return!0},window.compare=function(e,t){var a;for(a in e){if(e.hasOwnProperty(a)!==t.hasOwnProperty(a))return!1;if(typeof e[a]!==typeof t[a])return!1}for(a in t){if(e.hasOwnProperty(a)!==t.hasOwnProperty(a))return!1;if(typeof e[a]!==typeof t[a])return!1;if(e.hasOwnProperty(a))if(e[a]instanceof Array&&t[a]instanceof Array){if(!e[a].equals(t[a]))return!1}else if(e[a]instanceof Object&&t[a]instanceof Object){if(!e[a].equals(t[a]))return!1}else if(e[a]!==t[a])return!1}return!0},r.a.render(o.a.createElement("div",null,o.a.createElement(f,null),o.a.createElement(b,null),o.a.createElement(E,null),o.a.createElement(v,null),o.a.createElement(g,null),o.a.createElement(y,null),o.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.2a4d6ad0.chunk.js.map