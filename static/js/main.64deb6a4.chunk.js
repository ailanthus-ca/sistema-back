(this["webpackJsonpsisadreact-v2"]=this["webpackJsonpsisadreact-v2"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s),c=a(28),n=a.n(c),r=a(3),o=a(4),l=a(6),d=a(5),h=a(20),j=a(18),u=(a(74),a(101),a(102),a(103),a(104),a(54)),b=a(15),p=a(181),O=a(177),x=a(176),f=a(174),g=a(173),m=a(94),y=a(22),v=a(34),C=a(24),N=a(178);function S(e,t,a){return e.sort((function(e,s){if("fecha"===a){var i=D(e.fecha),c=D(s.fecha);return"desc"===t?c<i?-1:c>i?1:0:i<c?-1:i>c?1:0}return isNaN(s[a])?"desc"===t?e[a]<s[a]?-1:e[a]>s[a]?1:0:s[a]<e[a]?-1:s[a]>e[a]?1:0:"desc"===t?s[a]-e[a]:e[a]-s[a]}))}function A(e,t,a){return""!==t?e.filter((function(e){var s=t.split(" "),i=!1;return a.forEach((function(t){var a=0;s.forEach((function(s){isNaN(e[t])?e[t].toUpperCase().indexOf(s)>-1&&a++:k(e[t]).indexOf(s)>-1&&a++})),s.length===a&&(i=!0)})),i})):e}function E(e,t,a){return-1!==t?e.filter((function(e){return e[a]===t})):e}function R(e){return e.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=Math.abs(e),s=e.toString().length,i="0";return t<=s?e<0?"-"+a.toString():a.toString():e<0?"-"+i.repeat(t-s)+a.toString():i.repeat(t-s)+a.toString()}function D(e){var t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1;return(a*=1e4)+(s*=100)+(t.getDate()+1)}function w(e){var t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1;return k(t.getDate()+1,2)+"/"+k(s,2)+"/"+a}function T(e){var t=new Date(e),a=t.getHours(),s=t.getMinutes(),i=t.getSeconds(),c=" AM";return a>=12&&(c=" PM"),a>12&&(a-=12),0===a&&(a+=12),k(a,2)+":"+k(s,2)+":"+k(i,2)+c}function I(e){var t=new FormData;return Object.keys(e).forEach((function(a){switch(typeof e[a]){case"object":t.append(a,JSON.stringify(e[a]));break;default:t.append(a,e[a])}})),t}function P(e,t){var a="";return e.length>0?(t.split("").forEach((function(t,s){"a"===t?/[A-Za-z]/g.test(e[s])&&(a+=e[s]):"A"===t?/[A-Za-z]/g.test(e[s])&&(a+=e[s].toUpperCase()):"9"===t?/[0-9]/g.test(e[s])&&(a+=e[s]):"*"===t?/[A-Za-z0-9]/g.test(e[s])&&(a+=e[s]):void 0!==e[s]?a.length===s&&(a+=t):void 0===e[s]&&"a"!==t&&"A"!==t&&"9"!==t&&"*"!==t&&a.length===s&&(a+=t)})),a):""}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){},i=new XMLHttpRequest;i.responseType="json",i.open("POST",e),i.onreadystatechange=function(e){4===i.readyState&&(200===i.status?a(i.response):s(i))},i.send(I(t))}function U(e,t){var a=localStorage.getItem(e);null!==a&&t(JSON.parse(a)),fetch(e).then((function(e){return e.json()})).then((function(s){t(s),a!==JSON.stringify(s)&&localStorage.setItem(e,JSON.stringify(s))}))}var F=a(0),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).placeholder="",s.mostrar=6,s.buscarLabel=[],s.estatus=[],s.orden="desc",s.length=0,s.setState=s.setState.bind(Object(b.a)(s)),s.setBuscar=s.setBuscar.bind(Object(b.a)(s)),s.state={itens:"carro",buscar:"",page:1,ordenar:"codigo",estatus:-1},s}return Object(o.a)(a,[{key:"body",value:function(){var e=this,t=(this.state.page-1)*this.mostrar,a=t+this.mostrar;return this.filtros().filter((function(e,s){return s>=t&&s<a})).map((function(t){return e.Row(t)}))}},{key:"paginacion",value:function(){if(0===this.length)return Object(F.jsx)(F.Fragment,{});var e=Math.ceil(this.length/this.mostrar),t=this.state.page,a=[];1===t?a.push(Object(F.jsx)(p.a.Item,{active:!0,children:"1"},"active1")):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,1),children:"1"},"p1"));for(var s=3;s>0;s--)t-s>1&&(3===s?a.push(Object(F.jsx)(p.a.Ellipsis,{},"Ellipsis1")):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,t-s),children:t-s},"p"+(t-s))));for(e>t&&t>1&&a.push(Object(F.jsx)(p.a.Item,{active:!0,children:t})),s=1;s<4;s++)t+s<e&&(3===s?a.push(Object(F.jsx)(p.a.Ellipsis,{},"Ellipsis2")):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,t+s),children:t+s},"p"+(t+s))));return t===e?1!==e&&a.push(Object(F.jsx)(p.a.Item,{active:!0,children:e},"active"+e)):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,e),children:e},"p"+e)),a}},{key:"pagination",value:function(){return Object(F.jsx)(p.a,{style:{position:"relative",float:"right"},children:this.paginacion()})}},{key:"setBuscar",value:function(e){var t=e.currentTarget.value;this.setState({buscar:t.toUpperCase()}),this.setpage(1)}},{key:"setOrden",value:function(e){this.state.ordenar===e?("asc"===this.orden?this.orden="desc":this.orden="asc",this.forceUpdate()):(this.orden="desc",this.setState({ordenar:e}))}},{key:"flechas",value:function(e){return this.state.ordenar===e?"desc"===this.orden?Object(F.jsx)("i",{className:"fa fa-arrow-down pull-right"}):Object(F.jsx)("i",{className:"fa fa-arrow-up pull-right"}):Object(F.jsx)(F.Fragment,{})}},{key:"colorOrden",value:function(e){return this.state.ordenar===e?"#afd9ee":""}},{key:"filtros",value:function(){var e=this.state,t=e.itens,a=e.buscar,s=e.ordenar;return"carro"!==t?(t=E(t=S(t=A(t,a,this.buscarLabel),this.orden,s),this.state.estatus,"status"),this.length=t.length,t):[]}},{key:"render",value:function(){return Object(F.jsxs)(N.a,{show:this.props.open,onHide:this.props.close,bsSize:"lg",children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:this.title()}),Object(F.jsx)(N.a.Body,{children:Object(F.jsxs)("div",{style:{padding:"10px 10px 10px 10px"},children:[this.renderBusqueda(),Object(F.jsx)("br",{}),Object(F.jsx)(g.a,{children:Object(F.jsxs)(f.a,{children:[Object(F.jsx)("thead",{children:this.Header()}),Object(F.jsx)("tbody",{children:this.body()})]})})]})}),Object(F.jsx)(N.a.Footer,{children:this.pagination()})]})}},{key:"title",value:function(){return Object(F.jsx)(F.Fragment,{})}},{key:"renderBusqueda",value:function(){return Object(F.jsx)(g.a,{children:Object(F.jsxs)("div",{className:"input-group col-md-12",children:[Object(F.jsx)("input",{style:{position:"relative",width:"50%"},onKeyUp:this.setBuscar.bind(this),name:"buscar",placeholder:this.placeholder,className:"form-control"}),Object(F.jsxs)("select",{style:{position:"relative",width:"300px"},"data-tip":"FILTRAR POR EL ESTADO",onChange:this.setStatus.bind(this),className:"form-control",defaultValue:this.state.estatus,children:[Object(F.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),this.estatus.map((function(e){return Object(F.jsx)("option",{value:e.value,children:e.label})}))]}),Object(F.jsx)("div",{className:"input-group-append",children:Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})," Buscar"]})})]})})}},{key:"setStatus",value:function(e){var t=e.currentTarget.value,a=parseInt(t);this.setState({estatus:a})}},{key:"Header",value:function(){return Object(F.jsx)("tr",{})}},{key:"Row",value:function(e){return Object(F.jsx)(F.Fragment,{})}},{key:"setpage",value:function(e){this.setState({page:e})}},{key:"setItens",value:function(e){JSON.stringify(e)!==JSON.stringify(this.state.itens)&&this.setState({itens:e})}},{key:"componentDidMount",value:function(){this.actualizar()}},{key:"actualizar",value:function(){var e=this;this.set(),setTimeout((function(){e.actualizar()}),36e3)}},{key:"update",value:function(e){var t=this;U(e,(function(e){t.setItens(e)}))}},{key:"set",value:function(){}}]),a}(i.a.Component),_=a(10),M=a(175),V=a(31),z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).ref=i.a.createRef(),s.area=i.a.createRef(),s.state={selected:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.id,s=e.style,i=e.placeholder,c=e.listLabel,n=e.maxLength,r=e.value,o=e.rows;return"textarea"===t?Object(F.jsx)("textarea",{className:"form-control",ref:this.area,maxLength:n,rows:o||5,id:a,style:s,placeholder:i,defaultValue:r,onBlur:this.onBlur.bind(this),onKeyUp:this.keyUp.bind(this),onFocus:this.onFocus.bind(this)}):Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("input",Object(_.a)(Object(_.a)({className:"form-control",maxLength:n,id:a,list:c,placeholder:i,ref:this.ref,defaultValue:this.getValue()},this.getProps()),{},{onBlur:this.onBlur.bind(this),onKeyUp:this.keyUp.bind(this),onFocus:this.onFocus.bind(this)}))})}},{key:"stringValue",value:function(){var e=!!this.ref.current&&this.ref.current;if(e){var t=this.props,a=t.setData,s=t.update;void 0!==s&&a(Object(V.a)({},s,e.value.toUpperCase())),e.value=e.value.toUpperCase()}else{var i=!!this.area.current&&this.area.current;if(i){var c=this.props,n=c.setData,r=c.update;void 0!==r&&n(Object(V.a)({},r,i.value.toUpperCase())),i.value=i.value.toUpperCase()}}}},{key:"numberValue",value:function(){var e=this.ref.current;if(e){var t=this.props,a=t.minValue,s=t.setData,i=t.update,c=t.value,n=""===e.value?c:parseFloat(e.value);a&&n<a&&(n=a),void 0!==i&&s(Object(V.a)({},i,n))}}},{key:"onBlur",value:function(){this.setState({selected:!1}),"number"===this.props.type?this.numberValue():this.stringValue()}},{key:"keyUp",value:function(e){var t=this.props,a=t.update,s=t.setData,i=t.type,c=t.mask,n=e.currentTarget.value;if("number"!==i&&"password"!==i){var r=n.toUpperCase();c&&(8!==e.keyCode&&(r=P(r,c)),void 0!==a&&s(Object(V.a)({},a,r)))}}},{key:"onFocus",value:function(){this.setState({selected:!0});var e=this.ref.current;if(e){var t=this.props,a=t.value,s=t.type;e.value="number"!==s?a+"":""}}},{key:"getValue",value:function(){var e=this.props,t=e.value;if("number"===e.type){var a=t;return this.state.selected?a:R(a)}return t.toUpperCase()}},{key:"getProps",value:function(){var e=this.props,t=e.type,a=e.step,s=e.style;return"number"===t&&(s=Object(_.a)(Object(_.a)({},s),{},{textAlign:"right"}),this.state.selected)?{step:a,minLength:0,min:0,type:t,style:s,defaultValue:this.getValue()}:this.state.selected?{style:s,defaultValue:this.getValue()}:{style:s,value:this.getValue()}}}]),a}(i.a.Component),H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=Object(_.a)(Object(_.a)({},e.producto),{},{precio:e.producto.costo,unidades:1,comentario:""}),s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.unidades,s=t.precio,i=t.descripcion,c=t.codigo;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:i}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,step:"0.01",type:"number",setData:this.setState,value:a,update:"unidades"})}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,step:"0.01",type:"number",setData:this.setState,value:s,update:"precio"})}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:(s*a).toFixed(2)})}),Object(F.jsx)("td",{style:{textAlign:"right"},children:Object(F.jsx)(M.a,{children:Object(F.jsx)(m.a,{bsStyle:"primary",onClick:function(){e.props.add(e.state)},"data-tip":"QUITAR PRODUCTO",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-plus"})})})})]})})}}]),a}(i.a.Component),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.producto,a=t.codigo,s=t.descripcion;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:a}),Object(F.jsx)("th",{children:s}),Object(F.jsx)("th",{children:Object(F.jsx)(m.a,{"data-tip":"Agregar Producto",onClick:function(){e.props.add(Object(_.a)(Object(_.a)({},e.props.producto),{},{unidades:1,comentario:"",precio:1}))},bsStyle:"primary",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-plus"})})})]})}}]),a}(i.a.Component),Y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(r.a)(this,a),s=t.call(this,e);var i=e.producto,c=i.costo,n=i.precio1;return s.state=Object(_.a)(Object(_.a)({},e.producto),{},{unidades:1,comentario:"",precio:c*(1+n/100)}),s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.unidades,s=t.precio,i=t.descripcion,c=t.codigo,n=t.costo,r=t.precio1,o=t.precio2,l=t.precio3;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:i}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,type:"number",setData:this.setState,value:a,update:"unidades"})}),Object(F.jsxs)("td",{children:[Object(F.jsx)(z,{step:"0.01",listLabel:n+"list",minValue:n*(1+r/100),type:"number",setData:this.setState,value:parseFloat(s.toFixed(2)),update:"precio"}),Object(F.jsxs)("datalist",{id:n+"list",children:[Object(F.jsx)("option",{children:(n*(1+r/100)).toFixed(2)}),Object(F.jsx)("option",{children:(n*(1+o/100)).toFixed(2)}),Object(F.jsx)("option",{children:(n*(1+l/100)).toFixed(2)})]})]}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:(s*a).toFixed(2)})}),Object(F.jsx)("td",{style:{textAlign:"right"},children:Object(F.jsx)(M.a,{children:Object(F.jsx)(m.a,{bsStyle:"primary",onClick:function(){e.props.add(e.state)},"data-tip":"QUITAR PRODUCTO",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-plus"})})})})]})}}]),a}(i.a.Component),W=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={Departamentos:"carro"},s}return Object(o.a)(a,[{key:"setUsers",value:function(e){this.setState({Departamentos:e})}},{key:"render",value:function(){return Object(F.jsxs)("select",{style:{width:this.props.width},onChange:this.setRol.bind(this),className:"form-control",defaultValue:this.props.defaultValue,children:[Object(F.jsx)("option",{value:"",children:"SELECCIONAR UN DEPARTAMENTO"}),"carro"!==this.state.Departamentos?this.state.Departamentos.map((function(e){return Object(F.jsx)("option",{value:e.codigo,children:e.descripcion},"user"+e.codigo)})):Object(F.jsx)(F.Fragment,{})]})}},{key:"componentDidMount",value:function(){this.set()}},{key:"setRol",value:function(e){var t=e.currentTarget.value;this.props.change(t)}},{key:"set",value:function(){var e=this;U("/api/Producto/departamentos",(function(t){e.setUsers(t)}))}}]),a}(i.a.Component),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).buscarLabel=["codigo","descripcion"],e.departamento="",e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsx)("h4",{children:"BUSCAR PRODUCTOS"})}},{key:"setDepartamento",value:function(e){this.departamento=e,this.forceUpdate()}},{key:"renderBusqueda",value:function(){return Object(F.jsx)(g.a,{children:Object(F.jsx)("div",{className:"col-md-12",children:Object(F.jsxs)("div",{style:{position:"relative",width:"100%"},className:"input-group",children:[Object(F.jsx)("input",{style:{position:"relative",width:"50%"},onKeyUp:this.setBuscar.bind(this),name:"buscar",placeholder:this.placeholder,className:"form-control"}),Object(F.jsx)(W,{width:"300px",defaultValue:this.departamento,change:this.setDepartamento.bind(this)}),Object(F.jsx)("div",{className:"input-group-append",children:Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})})]})})})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{minWidth:"100px",maxWidth:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["CODIGO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{backgroundColor:this.colorOrden("descripcion")},onClick:function(){e.setOrden("descripcion")},children:["DESCRIPCION ",this.flechas("descripcion")]}),"Seleccion"!==this.props.type?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"CANTIDAD"}),Object(F.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRE/UNT"}),Object(F.jsx)("th",{style:{width:"200px",textAlign:"right"},children:"PRECIO"})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)("th",{children:"ACCIONES"})]})}},{key:"Row",value:function(e){switch(this.props.type){case"Seleccion":return Object(F.jsx)(G,{producto:e,add:this.props.add},e.codigo+e.descripcion);case"Entrada":case"Compra":case"Orden":return Object(F.jsx)(H,{producto:e,add:this.props.add},e.codigo+e.descripcion);case"Nota":case"Factura":case"Cotizacion":return Object(F.jsx)(Y,{producto:e,add:this.props.add},e.codigo+e.descripcion)}return Object(F.jsx)(F.Fragment,{})}},{key:"filtros",value:function(){var e=this.props.type,t=this.departamento,s=Object(v.a)(Object(C.a)(a.prototype),"filtros",this).call(this);return s=E(s,1,"estatus"),""!==t&&(s=s.filter((function(e){return e.departamento===t}))),"Factura"!==e&&"Nota"!==e||(s=s.filter((function(e){return e.cantidad>0}))),this.length=s.length,s}},{key:"set",value:function(){this.update("/api/Producto/lista")}}]),a}(B),Q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={usuarios:"carro"},s}return Object(o.a)(a,[{key:"setUsers",value:function(e){this.setState({usuarios:e})}},{key:"render",value:function(){return Object(F.jsxs)("select",{onChange:this.setRol.bind(this),className:"form-control",defaultValue:this.props.defaultValue,children:[Object(F.jsx)("option",{value:-1,children:"TODOS LOS USUARIOS"}),"carro"!==this.state.usuarios?this.state.usuarios.map((function(e){return Object(F.jsx)("option",{value:e.codigo,children:e.nombre},"user"+e.codigo)})):Object(F.jsx)(F.Fragment,{})]})}},{key:"componentDidMount",value:function(){this.set()}},{key:"setRol",value:function(e){var t=e.currentTarget.value,a=parseInt(t);this.props.change(a)}},{key:"set",value:function(){var e=this;U("/api/Usuario/lista",(function(t){e.setUsers(t)}))}}]),a}(i.a.Component),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).placeholder="",s.mostrar=10,s.buscarLabel=["codigo","fecha","nombre"],s.estatus=[],s.orden="desc",s.length=0,s.setState=s.setState.bind(Object(b.a)(s)),s.setBuscar=s.setBuscar.bind(Object(b.a)(s)),s.state={itens:"carro",productos:[],modalProductos:!1,buscar:"",fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa",user:-1,estatus:-1,page:1,open:!1,ordenar:"codigo"},s}return Object(o.a)(a,[{key:"close",value:function(){this.setState({open:!1})}},{key:"body",value:function(){var e=this,t=(this.state.page-1)*this.mostrar,a=t+this.mostrar;return this.filtros().filter((function(e,s){return s>=t&&s<a})).map((function(t){return e.Row(t)}))}},{key:"paginacion",value:function(){if(0===this.length)return Object(F.jsx)(F.Fragment,{});var e=Math.ceil(this.length/this.mostrar),t=this.state.page,a=[];1===t?a.push(Object(F.jsx)(p.a.Item,{active:!0,children:"1"},"active1")):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,1),children:"1"},"p1"));for(var s=3;s>0;s--)t-s>1&&(3===s?a.push(Object(F.jsx)(p.a.Ellipsis,{},"Ellipsis1")):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,t-s),children:t-s},"p"+(t-s))));for(e>t&&t>1&&a.push(Object(F.jsx)(p.a.Item,{active:!0,children:t})),s=1;s<4;s++)t+s<e&&(3===s?a.push(Object(F.jsx)(p.a.Ellipsis,{},"Ellipsis2")):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,t+s),children:t+s},"p"+(t+s))));return t===e?1!==e&&a.push(Object(F.jsx)(p.a.Item,{active:!0,children:e},"active"+e)):a.push(Object(F.jsx)(p.a.Item,{onClick:this.setpage.bind(this,e),children:e},"p"+e)),a}},{key:"pagination",value:function(){return Object(F.jsx)(p.a,{style:{position:"relative",float:"right"},children:this.paginacion()})}},{key:"setBuscar",value:function(e){var t=e.currentTarget.value;this.setState({buscar:t.toUpperCase()}),this.setpage(1)}},{key:"setOrden",value:function(e){""!==e&&(this.state.ordenar===e?("asc"===this.orden?this.orden="desc":this.orden="asc",this.forceUpdate()):(this.orden="desc",this.setState({ordenar:e})))}},{key:"flechas",value:function(e){return this.state.ordenar===e?"desc"===this.orden?Object(F.jsx)("i",{className:"fa fa-arrow-up"}):Object(F.jsx)("i",{className:"fa fa-arrow-down"}):Object(F.jsx)(F.Fragment,{})}},{key:"colorOrden",value:function(e){return this.state.ordenar===e?"#afd9ee":""}},{key:"filtros",value:function(){var e=this.state,t=e.itens,a=e.user,s=e.fecha_fin,i=e.fecha_ini,c=e.buscar,n=e.productos,r=e.estatus,o=e.ordenar;return"carro"!==t?(t=E(t=function(e,t,a){if("dd/mm/aaaa"!==a&&"dd/mm/aaaa"!==t){var s=D(t),i=D(a);return e.filter((function(e){var t=D(e.fecha);return s<=t&&i>=t}))}return e}(t=A(t,c,this.buscarLabel),i,s),a,"usuario"),t=S(t=function(e,t){return e.filter((function(e){var a=[];return t.forEach((function(t){e.detalles.forEach((function(e){t.codigo===e&&a.push(e)}))})),a.length===t.length||0===t.length}))}(t=E(t,r,"status"),n),this.orden,o),this.length=t.length,t):[]}},{key:"render",value:function(){var e=Math.random();return Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(O.a.Heading,{children:this.title()}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(O.a.Body,{style:{paddingTop:0},children:this.renderBusqueda()}),Object(F.jsx)(O.a.Collapse,{children:Object(F.jsx)(O.a,{children:Object(F.jsx)(O.a.Body,{children:this.Avansado()})})}),Object(F.jsxs)(x.a,{md:12,children:[Object(F.jsxs)(f.a,{striped:!0,condensed:!0,hover:!0,children:[Object(F.jsx)("thead",{children:this.Header()}),Object(F.jsx)("tbody",{children:this.body()})]}),this.pagination()]})]})]},e+"tabla")}},{key:"title",value:function(){return Object(F.jsx)(F.Fragment,{})}},{key:"renderBusqueda",value:function(){var e=this;return Object(F.jsxs)(g.a,{children:[Object(F.jsx)(y.a,{}),Object(F.jsxs)("div",{className:"input-group col-md-12",children:[Object(F.jsx)("input",{style:{position:"relative",width:"50%"},onKeyUp:this.setBuscar.bind(this),name:"buscar",placeholder:this.placeholder,className:"form-control"}),Object(F.jsxs)("div",{className:"input-group-append",children:[Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderRadius:0},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})," Buscar"]}),Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},"data-tip":"BUSQUEDA AVANSADA",onClick:function(){e.setState({open:!e.state.open})},children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-wrench"})," Avanzado"]})]})]})]})}},{key:"Avansado",value:function(){var e=this;return Object(F.jsxs)(g.a,{className:"form",children:[Object(F.jsx)(J,{type:"Seleccion",open:this.state.modalProductos,add:this.addProducto.bind(this),close:function(){e.setState({modalProductos:!1})}}),Object(F.jsx)(x.a,{style:{width:"525px",paddingLeft:10},md:6,children:Object(F.jsxs)("div",{className:"input-group",children:[Object(F.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"Rango de fechas"}),Object(F.jsx)("input",{style:{width:"160px",position:"relative"},className:"form-control",onChange:this.setFechaInicio.bind(this),value:this.state.fecha_ini,name:"fecha_ini",type:"date"}),Object(F.jsx)("input",{style:{width:"160px",position:"relative"},className:"form-control",onChange:this.setFechaFin.bind(this),value:this.state.fecha_fin,name:"fecha_fin",type:"date"}),Object(F.jsx)(m.a,{onClick:this.limpiarFechas.bind(this),"data-tip":"LIMPIAR FECHAS",style:{width:"40px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},bsStyle:"danger",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})})]})}),Object(F.jsx)(x.a,{style:{width:"230px",paddingLeft:0},md:2,children:Object(F.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:this.setStatus.bind(this),className:"form-control",defaultValue:this.props.defaultValue,children:[Object(F.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),this.estatus.map((function(e){return Object(F.jsx)("option",{value:e.value,children:e.label})}))]})}),Object(F.jsx)(x.a,{"data-tip":"FILTRAR POR USUARIO QUE REALIZO LA OPERACION",style:{width:"230px",paddingLeft:0},md:3,children:Object(F.jsx)(Q,{change:function(t){e.setState({user:t})},defaultValue:this.state.user})}),Object(F.jsx)(x.a,{md:2,children:Object(F.jsxs)(m.a,{"data-tip":"FILTRAR POR LOS PRODUCTOS SELECCIONADOS",onClick:function(){e.setState({modalProductos:!0})},children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"}),"Articulos a Buscar"]})}),Object(F.jsx)(x.a,{md:12,children:Object(F.jsxs)(f.a,{striped:!0,condensed:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{width:"10%"},className:"text-center",children:"CODIGO"}),Object(F.jsx)("th",{style:{width:"80%"},children:"DESCRIPCION"}),Object(F.jsx)("th",{style:{width:"10%"},children:"Quitar"})]})}),Object(F.jsx)("tbody",{children:this.state.productos.map((function(t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"text-center",children:t.codigo}),Object(F.jsx)("td",{children:t.descripcion}),Object(F.jsx)("td",{className:"text-center",children:Object(F.jsx)(m.a,{bsStyle:"danger",onClick:function(){e.removeProducto(t.codigo)},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})})})]})}))})]})})]})}},{key:"Header",value:function(){var e=this,t=window.innerWidth-890;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{width:t+"px",backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["CLIENTE ",this.flechas("nombre")]}),Object(F.jsxs)("th",{style:{width:"160px",backgroundColor:this.colorOrden("monto")},onClick:function(){e.setOrden("monto")},children:["MONTO ",this.flechas("monto")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(F.Fragment,{})}},{key:"setpage",value:function(e){this.setState({page:e})}},{key:"setItens",value:function(e){JSON.stringify(e)!==JSON.stringify(this.state.itens)&&this.setState({itens:e})}},{key:"setStatus",value:function(e){var t=e.currentTarget.value,a=parseInt(t);this.setState({estatus:a})}},{key:"setFechaInicio",value:function(e){var t=e.currentTarget.value;this.setState({fecha_ini:t})}},{key:"setFechaFin",value:function(e){var t=e.currentTarget.value;this.setState({fecha_fin:t})}},{key:"limpiarFechas",value:function(){this.setState({fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa"})}},{key:"addProducto",value:function(e){this.setState({productos:[].concat(Object(u.a)(this.state.productos),[e])})}},{key:"removeProducto",value:function(e){this.setState({productos:this.state.productos.filter((function(t){return t.codigo!==e}))})}},{key:"componentDidMount",value:function(){this.actualizar()}},{key:"actualizar",value:function(){var e=this;this.set(),setTimeout((function(){e.actualizar()}),36e3)}},{key:"update",value:function(e){var t=this;U(e,(function(e){t.setItens(e)}))}},{key:"set",value:function(){}}]),a}(i.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.close,s=e.url,i=e.open;return Object(F.jsxs)(N.a,{show:i,onHide:a,bsSize:"lg",children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:Object(F.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:t})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsx)(g.a,{children:Object(F.jsx)("iframe",{src:s,width:"100%",height:"600wh",title:"print",scrolling:"no",frameBorder:"0"})})})]})}}]),a}(i.a.Component),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.close,s=e.msn,i=e.open,c=e.accion;return Object(F.jsxs)(N.a,{show:i,onHide:a,className:" modal-warning",children:[Object(F.jsx)(N.a.Header,{style:{borderRadius:0},closeButton:!0,children:Object(F.jsx)("h4",{className:"m-0 font-weight-bold mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:t})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsx)(g.a,{style:{padding:"10px 10px 10px 10px"},children:s})}),Object(F.jsx)(N.a.Footer,{children:Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsxs)(m.a,{onClick:c,bsStyle:"success",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-ok-circle"})," Aceptar"]}),Object(F.jsxs)(m.a,{onClick:a,bsStyle:"danger",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-remove-circle"})," Cancelar"]})]})})]})}}]),a}(i.a.Component),X={codigo:0,nota:"",fecha:"",subtotal:0,total:0,impuesto:0,detalles:[]},$=Object(_.a)(Object(_.a)({},X),{},{forma_pago:"",tiempo_entrega:"",validez:""});function ee(e){var t=0;return e.forEach((function(e){var a=e.precio,s=e.unidades;t+=a*s})),t}function te(e){return e.map((function(e){return{codigo:e.codigo,precio:e.precio,unidades:e.unidades,comentario:e.comentario}}))}var ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=X,s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.detalles,t=0;return void 0===e?Object(F.jsx)(F.Fragment,{}):Object(F.jsxs)(N.a,{bsSize:"lg",animation:!0,show:this.props.open,onHide:this.props.close,children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:Object(F.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:this.props.titulo})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsx)(g.a,{style:{padding:"0px 30px 0px 30px"},children:Object(F.jsxs)(f.a,{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{width:"100px"},children:"CODE"}),Object(F.jsx)("th",{children:"DESCRIPCION"}),Object(F.jsx)("th",{style:{width:"40px",textAlign:"right"},children:"CANT"}),Object(F.jsx)("th",{style:{width:"80px",textAlign:"right"},children:"PRE/UNT"}),Object(F.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRECIO"})]})}),Object(F.jsxs)("tbody",{children:[e.map((function(e){return t+=e.precio*e.unidades,Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{style:{width:"100px"},children:e.codigo}),Object(F.jsx)("td",{children:e.descripcion}),Object(F.jsx)("td",{style:{width:"40px"},children:R(e.unidades)}),Object(F.jsx)("td",{style:{width:"80px",textAlign:"right"},children:R(e.precio)}),Object(F.jsx)("td",{style:{width:"150px",textAlign:"right"},children:R(e.precio*e.unidades)})]})})),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{colSpan:3}),Object(F.jsx)("td",{style:{width:"80px",textAlign:"right"},children:Object(F.jsx)("b",{children:"TOTAL:"})}),Object(F.jsx)("td",{style:{width:"150px",textAlign:"right"},children:R(t)})]})]})]})})})]})}},{key:"dialog",value:function(){return Object(F.jsx)(N.a.Dialog,{style:{width:"90%"}})}},{key:"componentDidMount",value:function(){this.set()}},{key:"set",value:function(){var e=this;fetch("/api/"+this.props.tipo+"/detalles/"+this.props.id).then((function(e){return e.json()})).then((function(t){e.setState(t),e.forceUpdate()}))}}]),a}(i.a.Component),se=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).Label="COTIZACI\xd3N",s.tipo="Nota",s.state={print:!1,detalles:!1,aux:!1,eliminar:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data,a=window.innerWidth-890;return Object(F.jsxs)("tr",{children:[Object(F.jsxs)("th",{style:{minWidth:"100px",maxWidth:"100px"},children:["Cotizacion"!==this.tipo?Object(F.jsx)(ae,{tipo:this.tipo,titulo:"DETALLES DE LA "+this.Label+" N\xb0 "+k(t.codigo),id:t.codigo,open:this.state.detalles,close:this.close.bind(this)}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(m.a,{"data-tip":"VER DETALLEA",onClick:function(){e.setState({detalles:!0})},bsStyle:"link",children:k(t.codigo)})]}),Object(F.jsx)("th",{style:{minWidth:"90px",maxWidth:"90px",paddingTop:10},children:w(t.fecha)}),Object(F.jsxs)("th",{children:[Object(F.jsx)(y.a,{}),Object(F.jsx)(m.a,{style:{maxWidth:a,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"data-class":"toolbody","data-html":"true","data-tip":this.tooltipCliente(),bsStyle:"link",children:t.nombre})]}),Object(F.jsx)("th",{style:{minWidth:"160px",maxWidth:"160px",paddingTop:10,textAlign:"right"},children:R(t.monto)}),Object(F.jsx)("th",{style:{minWidth:"100px",maxWidth:"100px",paddingTop:5,fontSize:17},children:this.getStatus()}),Object(F.jsxs)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:["Cotizacion"!==this.tipo?Object(F.jsx)(K,{title:"IMPRIMIR "+this.Label+" N\xb0 "+k(t.codigo),url:"/api/"+this.tipo+"/PDF/"+t.codigo,open:this.state.print,close:this.close.bind(this)}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(q,{title:"ELIMINAR "+this.Label+" N\xb0 "+k(t.codigo),msn:"ESTA SEGURO QUE ELIMINARA LA "+this.Label+" N\xb0"+t.codigo+"?",open:this.state.eliminar,close:this.close.bind(this),accion:this.cancelar.bind(this)}),this.getModal(),this.getButtons()]})]})}},{key:"getModal",value:function(){return Object(F.jsx)(F.Fragment,{})}},{key:"getStatus",value:function(){return Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"})}},{key:"getButtons",value:function(){var e=this;return Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsx)(m.a,{"data-tip":"VER IMPRECION",bsStyle:"primary",onClick:function(){e.setState({print:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-download"})}),1===this.props.data.status?Object(F.jsx)(m.a,{"data-tip":"CANCELAR",bsStyle:"danger",onClick:function(){e.setState({eliminar:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})}):Object(F.jsx)(F.Fragment,{})]})}},{key:"tooltipCliente",value:function(){var e=this.props.data;return"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br /><b>PERSONA DE CONTACTO:</b><br />"+e.contacto+"<br /><b>CORREO ELECTRONICO:</b><br />"+e.correo+"<br /><b>TELEFONO:</b><br />"+e.telefono}},{key:"close",value:function(){this.setState({print:!1,detalles:!1,aux:!1,eliminar:!1})}},{key:"cancelar",value:function(){var e=this;this.close(),fetch("/api/"+this.tipo+"/cancelar/"+this.props.data.codigo).then((function(e){return e.json()})).then((function(t){e.props.update&&e.props.update()}))}}]),a}(i.a.Component),ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.seguimiento,t=e.descripcion,a=e.usuario,s=e.fecha,i=e.correo;return Object(F.jsxs)("tr",{children:[Object(F.jsxs)("th",{style:{width:"300px",maxWidth:"300px"},children:[a,Object(F.jsx)("br",{}),i]}),Object(F.jsxs)("th",{style:{width:"100px"},children:[w(s),Object(F.jsx)("br",{}),T(s)]}),Object(F.jsx)("th",{children:t})]})}}]),a}(i.a.Component),ce=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).ref=i.a.createRef(),s.msn=void 0,s.state={msn:"",mensajes:[]},s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.mensajes;return Object(F.jsxs)(N.a,{bsSize:"lg",animation:!0,show:this.props.open,onHide:this.props.close,children:[Object(F.jsx)(N.a.Header,{style:{color:"#31708f",backgroundColor:"#d9edf7",borderTopLeftRadius:"6px",borderTopRightRadius:"6px"},children:Object(F.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsxs)("b",{children:["BITACORA DE COTIZACI\xd3N N\xb0 ",this.props.id]})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)(f.a,{children:Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{width:"300px"},children:"USUARIO"}),Object(F.jsx)("th",{style:{width:"100px"},children:"FECHA"}),Object(F.jsx)("th",{children:"MENSAJE"})]})})}),Object(F.jsx)("div",{ref:this.ref,style:{overflowY:"auto",height:400,maxHeight:400,width:"100%"},children:Object(F.jsx)(f.a,{children:Object(F.jsx)("tbody",{children:e.map((function(e,t){return Object(F.jsx)(ie,{seguimiento:e},e.usuario+t)}))})})})]}),Object(F.jsx)(x.a,{xs:12,children:Object(F.jsxs)(x.a,{xs:12,className:"input-group",children:[Object(F.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"Mensaje"}),Object(F.jsx)("input",{style:{position:"relative",width:"calc(100% - 140px)"},onKeyUp:this.setMsn.bind(this),defaultValue:this.state.msn,className:"form-control"}),Object(F.jsx)(m.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:this.enviar.bind(this),children:Object(F.jsx)("span",{className:"glyphicon glyphicon-send"})})]})})]})})]})}},{key:"setMsn",value:function(e){var t=e.currentTarget.value;void 0===this.msn&&(this.msn=e.currentTarget),this.setState({msn:t}),13===e.keyCode&&this.enviar()}},{key:"enviar",value:function(){this.sent();var e=this.state.mensajes,t=(new Date).toDateString(),a=w(t)+" "+T(t);this.setState({mensajes:[].concat(Object(u.a)(e),[{descripcion:this.state.msn,fecha:a,usuario:"",correo:""}])}),this.clear()}},{key:"clear",value:function(){void 0!==this.msn&&(this.msn.value="")}},{key:"componentDidMount",value:function(){this.actualizar()}},{key:"actualizar",value:function(){var e=this;this.set(),setTimeout((function(){e.actualizar()}),36e3)}},{key:"sent",value:function(){var e=this;L("/api/"+this.props.type+"/seguimiento_nuevo/"+this.props.id,{descripcion:this.state.msn},(function(t){e.set()}))}},{key:"set",value:function(){var e=this;fetch("/api/"+this.props.type+"/seguimiento/"+this.props.id).then((function(e){return e.json()})).then((function(t){e.setState({mensajes:t})}))}}]),a}(i.a.Component),ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=X,s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.detalles,t=0;return void 0===e?Object(F.jsx)(F.Fragment,{}):Object(F.jsxs)(N.a,{dialogClassName:"modal-detalle",animation:!0,show:this.props.open,onHide:this.props.close,children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:Object(F.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:this.props.titulo})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsx)(g.a,{children:Object(F.jsxs)(f.a,{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{width:"100px"},children:"CODE"}),Object(F.jsx)("th",{children:"DESCRIPCION"}),Object(F.jsx)("th",{style:{width:"40px",textAlign:"right"},children:"CANT"}),Object(F.jsx)("th",{style:{width:"80px",textAlign:"right"},children:"PRE/UNT"}),Object(F.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRECIO"}),Object(F.jsx)("th",{children:"NOTA"})]})}),Object(F.jsxs)("tbody",{children:[e.map((function(e){return t+=e.precio*e.unidades,Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{style:{width:"100px"},children:e.codigo}),Object(F.jsx)("td",{children:e.descripcion}),Object(F.jsx)("td",{style:{width:"40px"},children:R(e.unidades)}),Object(F.jsx)("td",{style:{width:"80px",textAlign:"right"},children:R(e.precio)}),Object(F.jsx)("td",{style:{width:"150px",textAlign:"right"},children:R(e.precio*e.unidades)}),Object(F.jsx)("td",{children:e.comentario})]})})),Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{colSpan:3}),Object(F.jsx)("td",{style:{width:"80px",textAlign:"right"},children:"total:"}),Object(F.jsx)("td",{style:{width:"150px",textAlign:"right"},children:R(t)})]})]})]})})})]})}},{key:"dialog",value:function(){return Object(F.jsx)(N.a.Dialog,{style:{width:"90%"}})}},{key:"componentDidMount",value:function(){this.set()}},{key:"set",value:function(){var e=this;fetch("/api/Cotizacion/detalles/"+this.props.id).then((function(e){return e.json()})).then((function(t){e.setState(t),e.forceUpdate()}))}}]),a}(i.a.Component),re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={dolar:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,s=t.close,i=t.codigo,c=t.open;return Object(F.jsxs)(N.a,{show:c,onHide:s,bsSize:"lg",children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:Object(F.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsx)("b",{children:a})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(y.a,{}),this.state.dolar?Object(F.jsxs)(m.a,{"data-tip":"CAMBIAR A BOLIVARES",style:{marginRight:"15px"},bsStyle:"warning",className:"btn-block",onClick:function(){e.setState({dolar:!e.state.dolar})},children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-usd"})," VISTA EN DOLARES"]}):Object(F.jsxs)(m.a,{"data-tip":"CAMBIAR A DOLARES",style:{marginRight:"15px"},bsStyle:"primary",className:"btn-block",onClick:function(){e.setState({dolar:!e.state.dolar})},children:[Object(F.jsx)("b",{children:"BS"})," VISTA EN BOLIVARES"]}),this.state.dolar?Object(F.jsx)("iframe",{src:"/api/Cotizacion/PDFD/"+i,width:"100%",height:"700wh",title:"print",scrolling:"no",frameBorder:"0"}):Object(F.jsx)("iframe",{src:"/api/Cotizacion/PDF/"+i,width:"100%",height:"700wh",title:"print",scrolling:"no",frameBorder:"0"})]})})]})}}]),a}(i.a.Component),oe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).Label="COTIZACI\xd3N",s.tipo="Cotizacion",s}return Object(o.a)(a,[{key:"getModal",value:function(){var e=this.props.data,t=e.codigo,a=e.tasa;return Object(F.jsxs)(F.Fragment,{children:[a>0?Object(F.jsx)(re,{title:"IMPRIMIR "+this.Label+" N\xb0 "+k(t),codigo:k(t),open:this.state.print,close:this.close.bind(this)}):Object(F.jsx)(K,{title:"IMPRIMIR "+this.Label+" N\xb0 "+k(t),url:"/api/"+this.tipo+"/PDF/"+t,open:this.state.print,close:this.close.bind(this)}),Object(F.jsx)(ce,{type:"Cotizacion",id:t,close:this.close.bind(this),open:this.state.aux}),Object(F.jsx)(ne,{titulo:"DETALLES DE LA COTIZACI\xd3N N\xb0 "+k(t),id:t,open:this.state.detalles,close:this.close.bind(this)})]})}},{key:"getStatus",value:function(){switch(this.props.data.status){case 1:return Object(F.jsx)("span",{className:"label label-warning",children:"PENDIENTE"});case 2:return Object(F.jsx)("span",{className:"label label-success",children:"PROCESADA"});default:return Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"})}}},{key:"getButtons",value:function(){var e=this;return Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsx)(m.a,{"data-tip":"VER SEGUIMIENTO",onClick:function(){e.setState({aux:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-eye-open"})}),Object(F.jsx)(m.a,{"data-tip":"VER IMPRECION",bsStyle:"primary",onClick:function(){e.setState({print:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-download"})}),1===this.props.data.status?Object(F.jsx)(m.a,{"data-tip":"CANCELAR",bsStyle:"danger",onClick:function(){e.setState({eliminar:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})}):Object(F.jsx)(F.Fragment,{})]})}}]),a}(se),le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR COTIZACI\xd3N",e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"PENDIENTE"},{value:2,label:"PROCESADA"}],e.buscarLabel=["codigo","nombre","fecha","nota","telefono"],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(h.b,{to:"nueva_cotizacion",className:"btn btn-info",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"})," Nueva Cotizaci\xf3n"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," Buscar Cotizaciones"]})]})}},{key:"Row",value:function(e){return Object(F.jsx)(oe,{update:this.set.bind(this),data:e},"cot"+e.codigo+e.status)}},{key:"set",value:function(){this.update("/api/Cotizacion/lista")}}]),a}(Z),de=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).Label="FACTURA",s.tipo="Factura",s}return Object(o.a)(a,[{key:"getButtons",value:function(){var e=this;return Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsx)(m.a,{"data-tip":"VER IMPRECION",bsStyle:"primary",onClick:function(){e.setState({print:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-download"})}),2===this.props.data.status?Object(F.jsx)(m.a,{"data-tip":"CANCELAR",bsStyle:"danger",onClick:function(){e.setState({eliminar:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})}):Object(F.jsx)(F.Fragment,{})]})}},{key:"getStatus",value:function(){return 2===this.props.data.status?Object(F.jsx)("span",{className:"label label-success",children:"FACTURADA"}):Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"})}}]),a}(se),he=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR COTIZACI\xd3N",e.estatus=[{value:0,label:"CANCELADO"},{value:2,label:"PROCESADA"}],e.buscarLabel=["codigo","nombre","fecha","nota","telefono"],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(h.b,{to:"nueva_factura",className:"btn btn-info",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"})," Nueva Factura"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," Buscar Factura"]})]})}},{key:"Row",value:function(e){return Object(F.jsx)(de,{update:this.set.bind(this),data:e},"cot"+e.codigo+e.status)}},{key:"set",value:function(){this.update("/api/Factura/lista")}}]),a}(Z),je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).Label="NOTA DE ENTREGA",s.tipo="Nota",s}return Object(o.a)(a,[{key:"getStatus",value:function(){switch(this.props.data.status){case 0:return Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"});case 1:return Object(F.jsx)("span",{className:"label label-warning",children:"ENTREGADO"});case 2:return Object(F.jsx)("span",{className:"label label-success",children:"FACTURADA"})}}}]),a}(se),ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR NOTA DE ENTREGA",e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"ENTREGADA"},{value:2,label:"FACTURADA"}],e.buscarLabel=["codigo","nombre","fecha","nota","telefono"],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(h.b,{to:"nueva_nota",className:"btn btn-info",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"}),"NUEVA NOTA DE ENTREGA"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," BUSCAR NOTA DE ENTREGA"]})]})}},{key:"Row",value:function(e){return Object(F.jsx)(je,{update:this.set.bind(this),data:e},"cot"+e.codigo+e.status)}},{key:"set",value:function(){this.update("/api/Nota/lista")}}]),a}(Z),be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).Label="ORDEN DE COMPRA",s.tipo="Orden",s}return Object(o.a)(a,[{key:"getModal",value:function(){var e=this.props.data.codigo;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(ce,{type:"Orden",id:e,close:this.close.bind(this),open:this.state.aux})})}},{key:"getStatus",value:function(){switch(this.props.data.status){case 0:return Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"});case 1:return Object(F.jsx)("span",{className:"label label-warning",children:"EN ESPERA"});case 2:return Object(F.jsx)("span",{className:"label label-success",children:"PROCESADA"})}}},{key:"getButtons",value:function(){var e=this;return Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsx)(m.a,{"data-tip":"VER SEGUIMIENTO",onClick:function(){e.setState({aux:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-eye-open"})}),Object(F.jsx)(m.a,{"data-tip":"VER IMPRECION",bsStyle:"primary",onClick:function(){e.setState({print:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-download"})}),1===this.props.data.status?Object(F.jsx)(m.a,{"data-tip":"CANCELAR",bsStyle:"danger",onClick:function(){e.setState({eliminar:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})}):Object(F.jsx)(F.Fragment,{})]})}}]),a}(se),pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR ORDEN DE COMPRA",e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"EN ESPERA"},{value:2,label:"PROCESADA"}],e.buscarLabel=["codigo","nombre","fecha","nota","telefono"],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(h.b,{to:"nueva_orden",className:"btn btn-info",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"})," NUEVA ORDEN DE COMPRA"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," BUSCAR ORDEN DE COMPRA"]})]})}},{key:"Row",value:function(e){return Object(F.jsx)(be,{update:this.set.bind(this),data:e},"cot"+e.codigo+e.status)}},{key:"Header",value:function(){var e=this,t=window.innerWidth-890;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{width:t+"px",backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["PROVEEDOR ",this.flechas("nombre")]}),Object(F.jsxs)("th",{style:{width:"160px",backgroundColor:this.colorOrden("monto")},onClick:function(){e.setOrden("monto")},children:["MONTO ",this.flechas("monto")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"set",value:function(){this.update("/api/Orden/lista")}}]),a}(Z),Oe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={cod_doc:"",num_con:"",fecha_doc:""},s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.close,a=e.open,s=e.id,i=this.state,c=i.cod_doc,n=i.num_con,r=i.fecha_doc,o=this.setState;return Object(F.jsxs)(N.a,{bsSize:"lg",show:a,onHide:t,children:[Object(F.jsx)(N.a.Header,{children:Object(F.jsx)("h4",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(F.jsx)("span",{children:Object(F.jsxs)("b",{children:["REGISTRAR FACTURA DE COMPRA N\xb0: ",k(s)]})})})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsx)(g.a,{style:{padding:"10px 10px 10px 10px"},children:Object(F.jsxs)("div",{className:"form-group col-sm-12",children:[Object(F.jsx)("div",{className:"col-sm-4",children:Object(F.jsx)(z,{placeholder:"Codigo de Documento",setData:o,update:"cod_doc",value:c})}),Object(F.jsx)("div",{className:"col-sm-4",children:Object(F.jsx)(z,{placeholder:"Numero de Comtrol",setData:o,update:"num_con",value:n})}),Object(F.jsx)("div",{className:"col-sm-4",children:Object(F.jsx)(z,{placeholder:"Fecha de Documento",type:"date",setData:o,update:"fecha_doc",value:r})})]})})}),Object(F.jsx)(N.a.Footer,{children:Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsxs)(m.a,{onClick:this.actualizar.bind(this),bsStyle:"success",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-ok-circle"})," Aceptar"]}),Object(F.jsxs)(m.a,{onClick:t,bsStyle:"danger",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-remove-circle"})," Cancelar"]})]})})]})}},{key:"actualizar",value:function(){var e=this;L("/api/Compra/facturar/"+this.props.id,this.state,(function(t){e.props.update&&e.props.update()}))}}]),a}(i.a.Component),xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).Label="COMPRA",s.tipo="Compra",s}return Object(o.a)(a,[{key:"getModal",value:function(){var e=this.props.data.codigo;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(Oe,{id:e,close:this.close.bind(this),open:this.state.aux})})}},{key:"getStatus",value:function(){switch(this.props.data.status){case 0:return Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"});case 1:return Object(F.jsx)("span",{className:"label label-warning",children:"SIN FACTURA"});case 2:return Object(F.jsx)("span",{className:"label label-success",children:"FACTURADA"})}}},{key:"getButtons",value:function(){var e=this;return Object(F.jsxs)(M.a,{className:"pull-right",children:[1===this.props.data.status?Object(F.jsx)(m.a,{"data-tip":"REGISTAR FACTURA",onClick:function(){e.setState({aux:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-pencil"})}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(m.a,{"data-tip":"VER IMPRECION",bsStyle:"primary",onClick:function(){e.setState({print:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-download"})}),this.props.data.status>0?Object(F.jsx)(m.a,{"data-tip":"CANCELAR",bsStyle:"danger",onClick:function(){e.setState({eliminar:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})}):Object(F.jsx)(F.Fragment,{})]})}}]),a}(se),fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR COMPRA",e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"SIN FACTURA"},{value:2,label:"FACTURADA"}],e.buscarLabel=["codigo","nombre","fecha","nota","telefono"],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(h.b,{to:"nueva_compra",className:"btn btn-info",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"})," NUEVA COMPRA"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," BUSCAR COMPRA"]})]})}},{key:"Header",value:function(){var e=this,t=window.innerWidth-890;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{width:t+"px",backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["PROVEEDOR ",this.flechas("nombre")]}),Object(F.jsxs)("th",{style:{width:"160px",backgroundColor:this.colorOrden("monto")},onClick:function(){e.setOrden("monto")},children:["MONTO ",this.flechas("monto")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(xe,{update:this.set.bind(this),data:e},"cot"+e.codigo+e.status)}},{key:"set",value:function(){this.update("/api/Compra/lista")}}]),a}(Z),ge=a(9),me=Object(_.a)(Object(_.a)({},$),{},{cod_proveedor:""});var ye=me;var ve=Object(_.a)(Object(_.a)({},me),{},{id_orden:0,cod_documento:"",cod_nota:"",nun_control:"",fecha_documento:""}),Ce=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).borrarCache=!1,e.state={warning:!1,msnWarnig:"",accion:function(){}},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.warning,a=e.msnWarnig,s=e.accion;return Object(F.jsxs)(M.a,{children:[Object(F.jsx)(m.a,{bsStyle:"info",onClick:this.guardarCache.bind(this),"data-tip":"GUARDAR EN CACHE",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-save-file"})}),Object(F.jsx)(q,{open:t,msn:a,accion:s,title:"\xa1PRECAUCION!",close:this.close.bind(this)}),Object(F.jsx)(m.a,{bsStyle:"warning",onClick:this.cargarCache.bind(this),"data-tip":"CARGAR DESDE CACHE",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-open-file"})})]})}},{key:"guardarCache",value:function(){var e=this;null!==localStorage.getItem("guardar"+this.props.Identificador)?this.setState({accion:function(){localStorage.setItem("guardar"+e.props.Identificador,JSON.stringify(e.props.data)),e.borrarCache=!1,Object(ge.b)("DATOS GUARDADOS",{type:ge.b.TYPE.SUCCESS})},warning:!0,msnWarnig:"\xa1YA HAY DATOS GUARDADOS EN LA CACHE! \xbfSEGURO QUE DESEA SOBREESCRIBIR CON LOS DATOS GUARDADOS CON LOS ACTUALES?"}):localStorage.setItem("guardar"+this.props.Identificador,JSON.stringify(this.props.data))}},{key:"cargarCache",value:function(){var e=this,t=localStorage.getItem("guardar"+this.props.Identificador);null!==t?this.setState({accion:function(){null!==t&&e.props.setData(JSON.parse(t)),e.borrarCache=!0,Object(ge.b)("DATOS CARGADOS",{type:ge.b.TYPE.SUCCESS})},warning:!0,msnWarnig:"\xbfSEGURO QUE DESEA SOBREESCRIBIR CON LOS DATOS ACTUALES CON LOS GUARDADOS?"}):Object(ge.b)("NO Hay DATOS GUARDADOS",{type:ge.b.TYPE.ERROR})}},{key:"close",value:function(){this.setState({warning:!1})}}]),a}(i.a.Component),Ne=a(180),Se=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).ref=i.a.createRef(),s.state={selected:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.widthLabel,a=e.widthAfter,s=e.maxLength,i=e.placeholder,c=e.type,n={textAlign:"number"===c?"right":void 0},r=0;return t&&(r+=t),a&&(r+=a),n=Object(_.a)({width:"calc(100% - "+r+"px)"},n),"number"===c&&(n=Object(_.a)(Object(_.a)({},n),{},{textAlign:"right"})),Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[this.label(),Object(F.jsx)("input",Object(_.a)(Object(_.a)({className:"form-control",maxLength:s,placeholder:i,defaultValue:this.getValue(),ref:this.ref,style:n},this.getProps()),{},{onBlur:this.onBlur.bind(this),onKeyUp:this.keyUp.bind(this),onFocus:this.onFocus.bind(this)})),this.after()]})}},{key:"label",value:function(){var e=this.props,t=e.label,a=e.widthLabel;return void 0!==t?Object(F.jsx)("span",{style:{width:a,position:"relative",backgroundColor:"#eee"},className:"form-control",children:t}):Object(F.jsx)(F.Fragment,{})}},{key:"after",value:function(){var e=this.props,t=e.after,a=e.widthAfter;return void 0!==t?Object(F.jsx)("span",{style:{width:a,position:"relative",backgroundColor:"#eee"},className:"form-control",children:t}):Object(F.jsx)(F.Fragment,{})}},{key:"stringValue",value:function(){var e=!!this.ref.current&&this.ref.current;if(e){var t=this.props,a=t.setData,s=t.update;void 0!==s&&a(Object(V.a)({},s,e.value.toUpperCase())),e.value=e.value.toUpperCase()}}},{key:"numberValue",value:function(){var e=this.ref.current;if(e){var t=this.props,a=t.minValue,s=t.setData,i=t.update,c=""===e.value?0:parseFloat(e.value);a&&c<a&&(c=a),void 0!==i&&s(Object(V.a)({},i,c))}}},{key:"onBlur",value:function(){this.setState({selected:!1}),"number"===this.props.type?this.numberValue():this.stringValue()}},{key:"keyUp",value:function(e){var t=this.props,a=t.update,s=t.setData,i=t.type,c=t.mask,n=e.currentTarget.value;if("number"!==i&&"password"!==i){var r=n.toUpperCase();c&&(8!==e.keyCode&&(r=P(r,c),e.currentTarget.value=r),void 0!==a&&s(Object(V.a)({},a,r)))}}},{key:"onFocus",value:function(){this.setState({selected:!0});var e=this.ref.current;if(e){var t=this.props.value;e.value=t+""}}},{key:"getValue",value:function(){var e=this.props,t=e.value;if("number"===e.type){var a=t;return this.state.selected?a:R(a)}return t.toUpperCase()}},{key:"getProps",value:function(){var e=this.props,t=e.type,a=e.step;return this.state.selected?{step:a,minLength:0,min:0,type:t,defaultValue:this.getValue()}:this.state.selected?{defaultValue:this.getValue()}:{value:this.getValue()}}}]),a}(i.a.Component),Ae=Object(_.a)(Object(_.a)({},{codigo:"",nombre:"",telefono:"",correo:"",contacto:"",direccion:"",estatus:1}),{},{tipo_contribuyente:"ORDINARIO",retencion:0}),Ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setState=s.setState.bind(Object(b.a)(s)),null!==e.cliente?s.state=e.cliente:s.state=Ae,s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.setState,t=this.state;return Object(F.jsxs)(N.a,{animation:!0,show:this.props.open,onHide:this.props.close,children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:Object(F.jsx)("h4",{children:this.props.title})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:12,children:this.inputCodeMode()}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{placeholder:"AILANTHUS SISTEMS C.A.",widthLabel:150,label:"RASON SOCIAL",maxLength:150,value:t.nombre,setData:e,update:"nombre"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{placeholder:"VENTAS@AILANTHUS-SISTEMS.COM",widthLabel:100,label:"CORREO",maxLength:150,value:t.correo,setData:e,update:"correo"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{placeholder:"(58) 251-2378406 (TELEFAX) / 4826705, (58) 414-5088735 / 416-6506831",maxLength:120,widthLabel:100,label:"TEL\xc9FONO",value:t.telefono,setData:e,update:"telefono"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{placeholder:"ARMANDO SULBARAN",widthLabel:200,label:"PERSONA DE CONTACTO",maxLength:50,value:t.contacto,setData:e,update:"contacto"})]}),"Cliente"===this.props.type?Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"250px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"TIPO DE CONTRIBUYENTE"}),Object(F.jsxs)("select",{style:{width:"150px",position:"relative"},onChange:this.setContribuyente.bind(this),className:"form-control",defaultValue:t.tipo_contribuyente,children:[Object(F.jsx)("option",{value:"ORDINARIO",children:"ORDINARIO"}),Object(F.jsx)("option",{value:"ESPECIAL",children:"ESPECIAL"})]}),"ESPECIAL"===t.tipo_contribuyente?Object(F.jsx)(z,{style:{width:"calc(100% - 400px)"},value:t.retencion,setData:e,update:"retencion",type:"number",step:1}):Object(F.jsx)("span",{style:{width:"calc(100% - 400px)",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:R(t.retencion)})]})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)("b",{children:"DIRECCION"}),Object(F.jsx)(z,{placeholder:"CARRERA 4, ESQUINA CALLE 18, ZONA INDUSTIAL I, GALPON MANPEG, PISO. 1 OFC.2 Y 3, BARQUISIMETO, ESTADO LARA.",value:t.direccion,setData:e,update:"direccion",type:"textarea",maxLength:300})]})]})}),Object(F.jsx)(N.a.Footer,{children:Object(F.jsxs)(m.a,{className:"pull-right",onClick:this.get.bind(this),bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-floppy-disk"})," Guardar"]})})]})}},{key:"isInvalid",value:function(e){return""===e}},{key:"inputCodeMode",value:function(){var e=this.setState,t=this.state;return null!==this.props.cliente?Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"60px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"RIF"}),Object(F.jsx)("span",{style:{width:"calc(100% - 60px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:t.codigo})]}):Object(F.jsx)(Se,{mask:"A-99999999-9",placeholder:"_-________-_",widthLabel:50,maxLength:20,label:"RIF",value:t.codigo,setData:e,update:"codigo"})}},{key:"get",value:function(){var e=this;""===this.state.codigo?Object(ge.b)("DEBE COLOCAR EL DOCUMENTO LEGAL DEL CLIENTE",{type:ge.b.TYPE.ERROR}):""===this.state.nombre?Object(ge.b)("DEBE COLOCAR EL RASON SOCIAL",{type:ge.b.TYPE.ERROR}):""===this.state.codigo?Object(ge.b)("DEBE COLOCAR UN CORREO",{type:ge.b.TYPE.ERROR}):""===this.state.direccion?Object(ge.b)("DEBE COLOCAR UNA DIRECCION",{type:ge.b.TYPE.ERROR}):""===this.state.contacto?Object(ge.b)("DEBE COLOCAR LA PERSONA DE CONTACTO",{type:ge.b.TYPE.ERROR}):null===this.props.cliente?L("api/"+this.props.type+"/nuevo",this.state,(function(t){e.props.add&&e.props.add(t),e.props.close()})):L("api/"+this.props.type+"/actualizar/"+this.props.cliente.codigo,this.state,(function(t){e.props.add&&e.props.add(t),e.props.close()}))}},{key:"setContribuyente",value:function(e){var t=e.currentTarget.value;this.setState({tipo_contribuyente:t})}}]),a}(i.a.Component),Re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).nombre=i.a.createRef(),s.codigo=i.a.createRef(),s.state={nuevoCliente:!1,open:!1,lista:[],cliente:Ae,buscarCodigo:"",buscarNumbre:""},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.nuevoCliente,s=t.lista,i=t.open,c=t.cliente,n=t.buscarCodigo,r=t.buscarNumbre,o=this.props.type;return Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:i,children:[Object(F.jsx)(Ee,{type:o,cliente:null,title:"NUEVO "+this.getLabel(),open:a,add:this.seleccion.bind(this),close:this.close.bind(this)}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(g.a,{children:Object(F.jsx)(x.a,{xs:12,children:Object(F.jsx)("h4",{children:Object(F.jsxs)("b",{children:["DATOS DEL ",this.getLabel()]})})})}),Object(F.jsxs)(g.a,{children:[Object(F.jsxs)(x.a,{style:{width:"30%"},xs:4,children:[Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"50px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"RIF"}),Object(F.jsx)("input",{style:{width:"calc(100% - 60px)",position:"relative"},list:"inputCodigo",className:"form-control",ref:this.codigo,onKeyUp:this.limpiarCodigo.bind(this),onChange:this.setBuscarCodigo.bind(this),defaultValue:n})]}),Object(F.jsx)("datalist",{id:"inputCodigo",children:this.getList(A(s,n,["codigo"]),"codigo")})]}),Object(F.jsxs)(x.a,{style:{width:"calc(70% - 120px)"},xs:6,children:[Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"NOMBRE"}),Object(F.jsx)("input",{style:{width:"calc(100% - 100px)"},list:"inputNombre",className:"form-control",ref:this.nombre,onKeyUp:this.limpiarNombre.bind(this),onChange:this.setBuscarNombre.bind(this),defaultValue:r})]}),Object(F.jsx)("datalist",{id:"inputNombre",children:this.getList(A(s,n,["nombre"]),"nombre")})]}),Object(F.jsx)(x.a,{style:{width:"110px"},xs:2,children:Object(F.jsxs)(M.a,{className:"float-right",children:[Object(F.jsx)(m.a,{"data-tip":"VER MAS",onClick:function(){e.setState({open:!i})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-eye-open"})}),Object(F.jsx)(m.a,{"data-tip":"NUEVO "+this.getLabel(),onClick:function(){e.setState({nuevoCliente:!0})},bsStyle:"info",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})})]})})]}),Object(F.jsxs)(O.a.Collapse,{children:[Object(F.jsx)("br",{}),Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:4,children:Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"CORREO"}),Object(F.jsx)("span",{style:{width:"calc(100% - 150px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:c.correo})]})}),Object(F.jsx)(x.a,{xs:3,children:Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"TELEFONO"}),Object(F.jsx)("span",{style:{width:"calc(100% - 150px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:c.telefono})]})}),Object(F.jsx)(x.a,{xs:5,children:Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"240px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"PERSONA DE CONTACTO"}),Object(F.jsx)("span",{style:{width:"calc(100% - 250px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:c.contacto})]})}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"DICECCION"}),Object(F.jsx)("span",{style:{width:"calc(100% - 150px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:c.direccion})]})]})]})]})]})]})}},{key:"seleccion",value:function(e){this.set(),this.props.add(e.codigo),this.nombre.current&&(this.nombre.current.value=e.nombre),this.codigo.current&&(this.codigo.current.value=e.codigo),this.setState({cliente:e,buscarCodigo:e.codigo,buscarNumbre:e.nombre})}},{key:"setBuscarNombre",value:function(e){var t=this,a=e.target.value.toUpperCase();this.setState({buscarNumbre:a}),this.state.lista.forEach((function(e){e.nombre===a&&t.props.add(e.codigo)}))}},{key:"setBuscarCodigo",value:function(e){var t=this,a=e.target.value.toUpperCase();this.setState({buscarCodigo:a}),this.state.lista.forEach((function(e){e.codigo===a&&t.props.add(e.codigo)}))}},{key:"limpiarNombre",value:function(e){8===e.keyCode&&(e.currentTarget.value="",this.limpiar())}},{key:"limpiarCodigo",value:function(e){8===e.keyCode&&(e.currentTarget.value="",this.limpiar())}},{key:"limpiar",value:function(){this.setState({cliente:Ae,buscarCodigo:"",buscarNumbre:""}),this.nombre.current&&(this.nombre.current.value=""),this.codigo.current&&(this.codigo.current.value="")}},{key:"getList",value:function(e,t){return e.map((function(e){return Object(F.jsx)("option",{children:e[t]},t+e.codigo)}))}},{key:"close",value:function(){this.setState({nuevoCliente:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.state.cliente.codigo!==e.Cliente&&this.state.lista.forEach((function(a){a.codigo===e.Cliente&&(t.nombre.current&&(t.nombre.current.value=a.nombre),t.codigo.current&&(t.codigo.current.value=a.codigo),t.setState({cliente:a,buscarCodigo:a.codigo,buscarNumbre:a.nombre}))}))}},{key:"componentDidMount",value:function(){this.actualizar()}},{key:"actualizar",value:function(){var e=this;this.set(),setTimeout((function(){e.actualizar()}),36e3)}},{key:"set",value:function(){var e=this;U("/api/"+this.props.type+"/lista",(function(t){e.setState({lista:t})}))}},{key:"getLabel",value:function(){return"Cliente"===this.props.type?"CLIENTE":"PROVEEDOR"}}]),a}(i.a.Component);function ke(e){var t=e.a,a=e.b,s=e.label,i=e.isCompare;return void 0!==s?t[s]===a[s]:void 0!==i&&i(t,a)}function De(e){var t=e.a,a=e.b,s=e.label,i=e.isCompare;return t.filter((function(e){return!ke({a:e,b:a,label:s,isCompare:i})}))}function we(e){var t=e.a;return!function(e){var t=e.a,a=e.b,s=e.label,i=e.isCompare,c=!1;return t.forEach((function(e){ke({a:e,b:a,label:s,isCompare:i})&&(c=!0)})),c}(e)?t.push(e.b):t=function(e){var t=e.a,a=e.b,s=e.label,i=e.isCompare;return t.map((function(e){return ke({a:e,b:a,label:s,isCompare:i})?a:e}))}(e),t}var Te=a(179),Ie={codigo:"",departamento:"",descripcion:"",estatus:1,enser:0,tipo:1,costo:1,precio1:1,precio2:1,precio3:1,cantidad:0,exento:!1,unidad:1,fecha_creacion:""},Pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={Unidades:"carro"},s}return Object(o.a)(a,[{key:"setUsers",value:function(e){this.setState({Unidades:e})}},{key:"render",value:function(){return Object(F.jsxs)("select",{onChange:this.setRol.bind(this),className:"form-control",defaultValue:this.props.defaultValue,children:[Object(F.jsx)("option",{value:-1,children:"SELECCIONAR UNIDAD DE MEDIDA"}),"carro"!==this.state.Unidades?this.state.Unidades.map((function(e){return Object(F.jsx)("option",{value:e.codigo,children:e.descripcion},"user"+e.codigo)})):Object(F.jsx)(F.Fragment,{})]})}},{key:"componentDidMount",value:function(){this.set()}},{key:"setRol",value:function(e){var t=e.currentTarget.value,a=parseInt(t);this.props.change(a)}},{key:"set",value:function(){var e=this;U("/api/Producto/unidad",(function(t){e.setUsers(t)}))}}]),a}(i.a.Component),Le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={tipos:"carro"},s}return Object(o.a)(a,[{key:"setUsers",value:function(e){this.setState({tipos:e})}},{key:"render",value:function(){return Object(F.jsxs)("select",{onChange:this.setRol.bind(this),className:"form-control",defaultValue:this.props.defaultValue,children:[Object(F.jsx)("option",{value:-1,children:"SELECCIONAR TIPO DE PRODUCTO"}),"carro"!==this.state.tipos?this.state.tipos.map((function(e){return Object(F.jsx)("option",{value:e.codigo,children:e.descripcion},"user"+e.codigo)})):Object(F.jsx)(F.Fragment,{})]})}},{key:"componentDidMount",value:function(){this.set()}},{key:"setRol",value:function(e){var t=e.currentTarget.value,a=parseInt(t);this.props.change(a)}},{key:"set",value:function(){var e=this;U("/api/Producto/tipo",(function(t){e.setUsers(t)}))}}]),a}(i.a.Component),Ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=Ie,s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"setDepartamento",value:function(e){this.setState({departamento:e})}},{key:"setUnidad",value:function(e){this.setState({unidad:e})}},{key:"setTipo",value:function(e){this.setState({tipo:e})}},{key:"render",value:function(){var e=this.setState,t=this.state,a=t.descripcion,s=t.precio1,i=t.precio2,c=t.precio3,n=t.costo,r=t.tipo,o=t.unidad,l=t.departamento,d=this.props,h=d.open,j=d.close;return Object(F.jsxs)(N.a,{bsSize:"lg",animation:!0,show:h,onHide:j,children:[Object(F.jsx)(N.a.Header,{closeButton:!0,children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})," NUEVO PRODUCTO"]})}),Object(F.jsx)(N.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:12,children:Object(F.jsx)(W,{defaultValue:l,change:this.setDepartamento.bind(this)})}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)("b",{children:"DESCRIPCI\xd3N"}),Object(F.jsx)(z,{type:"textarea",rows:3,maxLength:300,value:a,setData:e,update:"descripcion"})]}),Object(F.jsxs)(x.a,{xs:6,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Pe,{defaultValue:o,change:this.setUnidad.bind(this)})]}),Object(F.jsxs)(x.a,{xs:6,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Le,{defaultValue:r,change:this.setTipo.bind(this)})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{minValue:1,step:"0.01",type:"number",label:"COSTO",widthLabel:70,value:n,setData:e,update:"costo"})]}),Object(F.jsxs)(x.a,{xs:4,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{minValue:1,step:"1",after:"%",widthAfter:40,type:"number",label:"UTILIDAD 1",widthLabel:120,value:s,setData:e,update:"precio1"})]}),Object(F.jsxs)(x.a,{xs:4,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{minValue:1,step:"1",after:"%",widthAfter:40,type:"number",label:"UTILIDAD 2",widthLabel:120,value:i,setData:e,update:"precio2"})]}),Object(F.jsxs)(x.a,{xs:4,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{minValue:1,step:"1",after:"%",widthAfter:40,type:"number",label:"UTILIDAD 3",widthLabel:120,value:c,setData:e,update:"precio3"})]}),Object(F.jsxs)(x.a,{xs:4,children:[Object(F.jsx)("br",{}),Object(F.jsxs)(Ne.a,{className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"PRECIO 1"}),Object(F.jsx)(Te.a,{style:{width:"calc(100% - 100px)"},disabled:!0,value:R(this.getPrecio(s))})]})]}),Object(F.jsxs)(x.a,{xs:4,children:[Object(F.jsx)("br",{}),Object(F.jsxs)(Ne.a,{className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"PRECIO 1"}),Object(F.jsx)(Te.a,{style:{width:"calc(100% - 100px)"},disabled:!0,value:R(this.getPrecio(i))})]})]}),Object(F.jsxs)(x.a,{xs:4,children:[Object(F.jsx)("br",{}),Object(F.jsxs)(Ne.a,{className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"PRECIO 1"}),Object(F.jsx)(Te.a,{style:{width:"calc(100% - 100px)"},disabled:!0,value:R(this.getPrecio(c))})]})]})]})}),Object(F.jsx)(N.a.Footer,{children:Object(F.jsxs)(m.a,{onClick:this.create.bind(this),bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-floppy-disk"})," Guardar"]})})]})}},{key:"getPrecio",value:function(e){var t=e/100+1;return this.state.costo*t}},{key:"create",value:function(){var e=this;""===this.state.descripcion&&Object(ge.b)("debe colocar la persona de contacto",{type:ge.b.TYPE.ERROR}),L("api/Producto/nuevo",this.state,(function(t){e.props.add(t),e.props.close()}))}}]),a}(i.a.Component),Fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=Object(_.a)({},e.producto),s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.unidades,s=t.precio,i=t.descripcion,c=t.codigo;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:i}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,step:"0.01",type:"number",setData:this.setState,value:a,update:"unidades"})}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,step:"0.01",type:"number",setData:this.setState,value:s,update:"precio"})}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:R(s*a)})}),Object(F.jsx)("td",{style:{textAlign:"right"},children:Object(F.jsx)(M.a,{children:Object(F.jsx)(m.a,{bsStyle:"danger",onClick:function(){e.props.remove(e.state)},"data-tip":"QUITAR PRODUCTO",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})})})})]})}},{key:"componentWillUpdate",value:function(e,t){t.precio===this.state.precio&&t.unidades===this.state.unidades&&t.comentario===this.state.comentario||this.props.edit(t)}}]),a}(i.a.Component),Be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).impuesto=0,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto}))}},{key:"render",value:function(){var e=this.props,t=e.imponible,a=e.exento;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{colSpan:2,rowSpan:8}),Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"SUBTOTAL:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(t+a)})]}),a>0?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"EXENTO:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(a)})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"BASE IMPONIBLE:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(t)})]})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)("tr",{children:[Object(F.jsxs)("th",{style:{textAlign:"right"},colSpan:2,children:["IMPUESTO ",this.impuesto,"%:"]}),Object(F.jsx)("th",{style:{textAlign:"right"},children:this.calImpuesto()})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"TOTAL:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:this.calPagar()})]})]})}},{key:"calImpuesto",value:function(){return R(this.props.imponible*(this.impuesto/100))}},{key:"calPagar",value:function(){var e=this.props,t=e.imponible;return R(t+e.exento+t*(this.impuesto/100))}}]),a}(i.a.Component),_e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setData=void 0,s.setData=e.setData,s.state={nuevoProducto:!1,buscarProducto:!1},s}return Object(o.a)(a,[{key:"addProductos",value:function(e){var t=this.props.data.detalles.length;e.precio=parseFloat(e.precio.toFixed(2));var a=we({a:this.props.data.detalles,b:e,isCompare:function(e,t){return e.codigo===t.codigo}});t<a.length&&Object(ge.b)("PRODUCTO "+e.descripcion+" AGREGADO",{type:ge.b.TYPE.SUCCESS}),this.setData({detalles:a})}},{key:"removeProductos",value:function(e){var t={a:this.props.data.detalles,b:e,isCompare:function(e,t){return e.codigo===t.codigo}};this.setData({detalles:De(t)}),Object(ge.b)("PRODUCTO "+e.descripcion+" QUITADO",{type:ge.b.TYPE.SUCCESS})}},{key:"createProducto",value:function(e){this.addProductos(Object(_.a)(Object(_.a)({},e),{},{unidades:1,precio:e.costo,comentario:""}))}},{key:"render",value:function(){var e=this,t=0,a=0,s=this.state,i=s.nuevoProducto,c=s.buscarProducto;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ue,{open:i,close:this.close.bind(this),add:this.createProducto.bind(this)}),Object(F.jsx)(J,{type:"Compra",open:c,add:this.addProductos.bind(this),close:this.close.bind(this)}),Object(F.jsx)(y.a,{}),Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:6,children:this.props.children}),Object(F.jsxs)(x.a,{xs:6,children:[Object(F.jsx)(m.a,{"data-tip":"PROCESAR",style:{marginRight:"15px"},bsStyle:"success",className:"pull-right",onClick:this.props.Prosesar,children:Object(F.jsx)("span",{className:"glyphicon glyphicon-print"})}),Object(F.jsxs)(M.a,{className:"pull-right",style:{marginRight:"15px"},children:[Object(F.jsx)(m.a,{"data-tip":"NUEVO PRODUCTO",onClick:function(){e.setState({nuevoProducto:!0})},bsStyle:"info",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})}),Object(F.jsx)(m.a,{"data-tip":"BUSCAR PRODUCTO",onClick:function(){e.setState({buscarProducto:!0})},bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})})]})]})]}),Object(F.jsx)("hr",{}),Object(F.jsxs)(f.a,{className:"accordion",striped:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsx)("th",{style:{width:"100px"},children:"CODIGO"}),Object(F.jsx)("th",{children:"DESCRIPCI\xd3N"}),Object(F.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"CANTIDAD"}),Object(F.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRE/UNT"}),Object(F.jsx)("th",{style:{width:"200px",textAlign:"right"},children:"PRECIO"}),Object(F.jsx)("th",{style:{width:"110px",textAlign:"right"},children:"ACCIONES"})]})}),Object(F.jsxs)("tbody",{children:[this.props.data.detalles.map((function(s){return s.exento?a+=s.precio*s.unidades:t+=s.precio*s.unidades,Object(F.jsx)(Fe,{producto:s,edit:e.addProductos.bind(e),remove:e.removeProductos.bind(e)},s.codigo)})),Object(F.jsx)(Be,{exento:a,imponible:t})]})]})]})}},{key:"close",value:function(){this.setState({nuevoProducto:!1,buscarProducto:!1})}}]),a}(i.a.Component),Me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:k(t.codigo)}),Object(F.jsx)("th",{children:w(t.fecha)}),Object(F.jsx)("th",{children:t.nombre}),Object(F.jsx)("th",{children:this.getStatus()}),Object(F.jsx)("th",{style:{textAlign:"center"},children:Object(F.jsx)(m.a,{"data-tip":"Agregar Producto",onClick:function(){e.props.add(t)},bsStyle:"primary",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-plus"})})})]})}},{key:"getStatus",value:function(){switch(this.props.data.status){case 0:return Object(F.jsx)("span",{className:"label label-danger",children:"CANCELADA"});case 1:return Object(F.jsx)("span",{className:"label label-warning",children:this.getStatus1()});case 2:return Object(F.jsx)("span",{className:"label label-success",children:this.getStatus2()})}}},{key:"getStatus1",value:function(){switch(this.props.type){case"Orden":return"EN ESPERA";case"Compra":return"SIN FACTURA";case"Cotizacion":return"PENDIENTE";case"Nota":return"ENTREGADO"}}},{key:"getStatus2",value:function(){switch(this.props.type){case"Compra":case"Nota":return"FACTURADA";case"Orden":case"Cotizacion":case"Factura":return"PROCESADA"}}}]),a}(i.a.Component),Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).buscarLabel=["codigo","nombre","fecha"],e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"EN ESPERA"},{value:2,label:"PROCESADA"}],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsx)("h4",{children:"BUSCAR ORDEN DE COMPRA"})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["PROVEEDOR ",this.flechas("nombre")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(Me,{data:e,type:"Orden",add:this.add.bind(this)},e.codigo+e.status)}},{key:"add",value:function(e){this.props.add(e),this.props.close()}},{key:"filtros",value:function(){var e=Object(v.a)(Object(C.a)(a.prototype),"filtros",this).call(this);return this.length=e.length,e}},{key:"set",value:function(){this.update("/api/Orden/lista")}}]),a}(B),ze=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).impuesto=0,s.setState=s.setState.bind(Object(b.a)(s)),s.state=Object(_.a)(Object(_.a)({},ye),{},{open:!1,cargar:!1}),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state;return t.codigo>0?Object(F.jsx)("iframe",{src:"/api/Orden/PDF/"+t.codigo,width:"100%",height:"900wh",title:"print",scrolling:"no",frameBorder:"0"}):Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(Ve,{open:t.cargar,add:this.cargar.bind(this),close:function(){e.setState({cargar:!1})}}),Object(F.jsx)(O.a.Heading,{children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})," NUEVA ORDEN DE COMPRA"]})}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(Re,{type:"Proveedor",Cliente:t.cod_proveedor,add:this.setProveedor.bind(this)}),Object(F.jsx)(m.a,{style:{marginBottom:"15px"},onClick:function(){e.setState({open:!e.state.open})},bsStyle:"primary",children:"CONDICIONES"}),Object(F.jsx)(O.a.Collapse,{children:Object(F.jsx)(O.a,{bsStyle:"info",children:Object(F.jsx)(O.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:12,children:Object(F.jsx)(Se,{maxLength:120,widthLabel:200,label:"VALIDES DE LA OFERTA",value:t.validez,setData:this.setState,update:"validez"})}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{maxLength:120,widthLabel:200,label:"TIEMPO DE ENTREGA",value:t.tiempo_entrega,setData:this.setState,update:"tiempo_entrega"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{maxLength:120,widthLabel:200,label:"FORMA DE PAGO",value:t.forma_pago,setData:this.setState,update:"forma_pago"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)("b",{children:"NOTA"}),Object(F.jsx)(z,{type:"textarea",rows:3,maxLength:250,value:t.nota,setData:this.setState,update:"nota"})]})]})})})}),Object(F.jsxs)(_e,{Prosesar:this.propcesar.bind(this),setData:this.setState,data:t,children:[Object(F.jsx)(x.a,{style:{width:"70px"},xs:2,children:Object(F.jsx)(m.a,{onClick:function(){e.setState({cargar:!0})},"data-class":"toolbody","data-html":"true","data-tip":"COPIAR ORDEN <br> DE COMPRA",bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-duplicate"})})}),Object(F.jsx)(Ce,{data:this.props.data,setData:this.props.setData,Identificador:"NuevaOrden"})]},"auxOrden")]})]})}},{key:"cargar",value:function(e){var t=this;U("api/Orden/detalles/"+e.codigo,(function(e){e.codigo=0,t.setState(e)}))}},{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto}))}},{key:"setProveedor",value:function(e){this.setState({cod_proveedor:e})}},{key:"propcesar",value:function(){var e=this,t=!0;""===this.state.cod_proveedor?(Object(ge.b)("DEBE SELECCIONAR UN CLIENTE",{type:ge.b.TYPE.ERROR}),t=!1):0===this.state.detalles.length&&(Object(ge.b)("DEBE SELECCIONAR AL MENOS UN PRODUCTO",{type:ge.b.TYPE.ERROR}),t=!1),t&&L("api/Orden/nuevo",function(e,t){var a=ee(e.detalles),s=a*(t/100),i=a+s;return{cod_proveedor:e.cod_proveedor,validez:e.validez,tiempo_entrega:e.tiempo_entrega,forma_pago:e.forma_pago,nota:e.nota,total:i,impuesto:s,subtotal:a,detalles:te(e.detalles)}}(this.state,this.impuesto),(function(t){e.setState({codigo:t})}))}}]),a}(i.a.Component),He=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).impuesto=0,s.setState=s.setState.bind(Object(b.a)(s)),s.state=Object(_.a)(Object(_.a)({},ve),{},{open:!1,cargar:!1}),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state;return t.codigo>0?Object(F.jsx)("iframe",{src:"/api/Compra/PDF/"+t.codigo,width:"100%",height:"900wh",title:"print",scrolling:"no",frameBorder:"0"}):Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(Ve,{open:t.cargar,add:this.cargar.bind(this),close:function(){e.setState({cargar:!1})}}),Object(F.jsx)(O.a.Heading,{children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})," NUEVA COMPRA"]})}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(Re,{type:"Proveedor",Cliente:t.cod_proveedor,add:this.setProveedor.bind(this)}),Object(F.jsx)(m.a,{style:{marginBottom:"15px"},onClick:function(){e.setState({open:!e.state.open})},bsStyle:"primary",children:"DATOS OPCIONALES"}),Object(F.jsx)(O.a.Collapse,{children:Object(F.jsx)(O.a,{bsStyle:"info",children:Object(F.jsx)(O.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{"data-tip":"NUMERO DE FACTURA",xs:3,children:Object(F.jsx)(Se,{maxLength:10,widthLabel:70,label:"N\xb0 F",value:t.cod_documento,setData:this.setState,update:"cod_documento"})}),Object(F.jsx)(x.a,{"data-tip":"NUMERO DE CONTROL",xs:3,children:Object(F.jsx)(Se,{maxLength:10,widthLabel:70,label:"N\xb0 C",value:t.nun_control,setData:this.setState,update:"nun_control"})}),Object(F.jsx)(x.a,{"data-tip":"FECHA DE LA FACTURA",xs:3,children:Object(F.jsx)(Se,{type:"date",widthLabel:80,label:"FECHA",value:t.fecha_documento,setData:this.setState,update:"fecha_documento"})}),Object(F.jsx)(x.a,{"data-tip":"NUMERO DE NOTA DE ENTREGA",xs:3,children:Object(F.jsx)(Se,{maxLength:10,widthLabel:80,label:"N\xb0 N/E",value:t.cod_nota,setData:this.setState,update:"cod_nota"})}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)("b",{children:"NOTA"}),Object(F.jsx)(z,{type:"textarea",rows:4,maxLength:600,value:t.nota,setData:this.setState,update:"nota"})]})]})})})}),Object(F.jsxs)(_e,{Prosesar:this.propcesar.bind(this),setData:this.setState,data:t,children:[Object(F.jsx)(x.a,{style:{width:"70px"},xs:2,children:Object(F.jsx)(m.a,{onClick:function(){e.setState({cargar:!0})},"data-class":"toolbody","data-html":"true","data-tip":"COPIAR ORDEN <br> DE COMPRA",bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-folder-open"})})}),Object(F.jsx)(Ce,{data:this.props.data,setData:this.props.setData,Identificador:"NuevaCompra"})]},"auxCompra")]})]})}},{key:"cargar",value:function(e){var t=this;U("api/Orden/detalles/"+e.codigo,(function(e){e.id_orden=e.codigo,e.codigo=0,t.setState(e)}))}},{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto}))}},{key:"setProveedor",value:function(e){this.setState({cod_proveedor:e})}},{key:"propcesar",value:function(){var e=this,t=!0;""===this.state.cod_proveedor?(Object(ge.b)("DEBE SELECCIONAR UN CLIENTE",{type:ge.b.TYPE.ERROR}),t=!1):0===this.state.detalles.length&&(Object(ge.b)("DEBE SELECCIONAR AL MENOS UN PRODUCTO",{type:ge.b.TYPE.ERROR}),t=!1),t&&L("api/Compra/nuevo",function(e,t){var a=ee(e.detalles),s=a*(t/100),i=a+s,c=e.cod_proveedor,n=e.nota,r=e.cod_documento,o=e.nun_control,l=e.fecha_documento;return{id_orden:e.id_orden,cod_proveedor:c,cod_documento:r,nun_control:o,fecha_documento:l,nota:n,total:i,impuesto:s,subtotal:a,detalles:te(e.detalles)}}(this.state,this.impuesto),(function(t){e.setState({codigo:t})}))}}]),a}(i.a.Component);function Ge(e,t){var a=ee(e.detalles),s=a*(t/100),i=a+s,c=e.cod_cliente,n=e.validez,r=e.tiempo_entrega,o=e.forma_pago,l=e.nota;return{cod_cliente:c,plantilla:e.plantilla,validez:n,tiempo_entrega:r,forma_pago:o,nota:l,total:i,impuesto:s,subtotal:a,detalles:te(e.detalles)}}var Ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).buscarLabel=["codigo","nombre","fecha"],e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"PENDIENTE"},{value:2,label:"PROCESADA"}],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsx)("h4",{children:"BUSCAR COTIZACION"})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["CLIENTE ",this.flechas("nombre")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(Me,{data:e,type:"Cotizacion",add:this.add.bind(this)},e.codigo+e.status)}},{key:"add",value:function(e){this.props.add(e),this.props.close()}},{key:"filtros",value:function(){var e=Object(v.a)(Object(C.a)(a.prototype),"filtros",this).call(this);return this.length=e.length,e}},{key:"set",value:function(){this.update("/api/Cotizacion/lista")}}]),a}(B),We=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=Object(_.a)({},e.producto),s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.unidades,s=t.precio,i=t.descripcion,c=t.codigo,n=t.costo,r=t.precio1,o=t.precio2,l=t.precio3,d=t.cantidad;return Object(F.jsxs)("tr",{className:d<a?"danger":n>s?"warning":"",children:[Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:i}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,type:"number",setData:this.setState,value:a,update:"unidades"})}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:R(d)})}),Object(F.jsxs)("td",{children:[Object(F.jsx)(z,{step:"0.01",listLabel:n+"list",minValue:parseFloat((n*(1+r/100)).toFixed(2)),type:"number",setData:this.setState,value:s,update:"precio"}),Object(F.jsxs)("datalist",{id:n+"list",children:[Object(F.jsx)("option",{children:(n*(1+r/100)).toFixed(2)}),Object(F.jsx)("option",{children:(n*(1+o/100)).toFixed(2)}),Object(F.jsx)("option",{children:(n*(1+l/100)).toFixed(2)})]})]}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:R(s*a)})}),Object(F.jsx)("td",{style:{textAlign:"right"},children:Object(F.jsx)(m.a,{bsStyle:"danger",onClick:function(){e.props.remove(e.state)},"data-tip":"QUITAR PRODUCTO",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})})})]})}},{key:"componentWillUpdate",value:function(e,t){t.precio===this.state.precio&&t.unidades===this.state.unidades||this.props.edit(t)}},{key:"componentDidMount",value:function(){var e=this;U("api/Producto/ver/"+this.state.codigo,(function(t){e.setState(t)}))}}]),a}(i.a.Component),Je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).impuesto=0,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto}))}},{key:"render",value:function(){var e=this.props,t=e.imponible,a=e.exento;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{colSpan:3,rowSpan:8}),Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"SUBTOTAL:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(t+a)})]}),a>0?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"EXENTO:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(a)})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"BASE IMPONIBLE:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(t)})]})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)("tr",{children:[Object(F.jsxs)("th",{style:{textAlign:"right"},colSpan:2,children:["IMPUESTO ",this.impuesto,"%:"]}),Object(F.jsx)("th",{style:{textAlign:"right"},children:this.calImpuesto()})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"TOTAL:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:this.calPagar()})]})]})}},{key:"calImpuesto",value:function(){return R(this.props.imponible*(this.impuesto/100))}},{key:"calPagar",value:function(){var e=this.props,t=e.imponible;return R(t+e.exento+t*(this.impuesto/100))}}]),a}(i.a.Component),Qe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setData=void 0,s.setData=e.setData,s.state={buscarProducto:!1},s}return Object(o.a)(a,[{key:"addProductos",value:function(e){var t=this.props.data.detalles.length;e.precio=parseFloat(e.precio.toFixed(2));var a=we({a:this.props.data.detalles,b:e,isCompare:function(e,t){return e.codigo===t.codigo}});t<a.length&&Object(ge.b)("PRODUCTO "+e.descripcion+" AGREGADO",{type:ge.b.TYPE.SUCCESS}),this.setData({detalles:a})}},{key:"removeProductos",value:function(e){var t={a:this.props.data.detalles,b:e,isCompare:function(e,t){return e.codigo===t.codigo}};this.setData({detalles:De(t)}),Object(ge.b)("PRODUCTO "+e.descripcion+" QUITADO",{type:ge.b.TYPE.SUCCESS})}},{key:"createProducto",value:function(e){this.addProductos(Object(_.a)(Object(_.a)({},e),{},{unidades:1,precio:e.costo*(1+e.precio2/100),comentario:""}))}},{key:"render",value:function(){var e=this,t=0,a=0,s=this.state.buscarProducto;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(J,{type:"Factura",open:s,add:this.addProductos.bind(this),close:this.close.bind(this)}),Object(F.jsx)(y.a,{}),Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:6,children:this.props.children}),Object(F.jsxs)(x.a,{xs:6,children:[Object(F.jsx)(m.a,{"data-tip":"PROCESAR",style:{marginRight:"15px"},bsStyle:"success",className:"pull-right",onClick:this.props.Prosesar,children:Object(F.jsx)("span",{className:"glyphicon glyphicon-print"})}),Object(F.jsx)(m.a,{style:{marginRight:"15px"},className:"pull-right","data-tip":"BUSCAR PRODUCTO",onClick:function(){e.setState({buscarProducto:!0})},bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})})]})]}),Object(F.jsx)("hr",{}),Object(F.jsxs)(f.a,{className:"accordion",striped:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsx)("th",{style:{width:"100px"},children:"CODIGO"}),Object(F.jsx)("th",{children:"DESCRIPCI\xd3N"}),Object(F.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"CANTIDAD"}),Object(F.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"DISPONIBLE"}),Object(F.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRE/UNT"}),Object(F.jsx)("th",{style:{width:"200px",textAlign:"right"},children:"PRECIO"}),Object(F.jsx)("th",{style:{width:"110px",textAlign:"right"},children:"ACCIONES"})]})}),Object(F.jsxs)("tbody",{children:[this.props.data.detalles.map((function(s){return s.exento?a+=s.precio*s.unidades:t+=s.precio*s.unidades,Object(F.jsx)(We,{producto:s,edit:e.addProductos.bind(e),remove:e.removeProductos.bind(e)},s.codigo)})),Object(F.jsx)(Je,{exento:a,imponible:t})]})]})]})}},{key:"close",value:function(){this.setState({buscarProducto:!1})}}]),a}(i.a.Component),Ze=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).impuesto=0,s.setState=s.setState.bind(Object(b.a)(s)),s.state=Object(_.a)(Object(_.a)({},X),{},{cod_cliente:"",open:!1,cargar:!1}),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state;return t.codigo>0?Object(F.jsx)("iframe",{src:"/api/Nota/PDF/"+t.codigo,width:"100%",height:"900wh",title:"print",scrolling:"no",frameBorder:"0"}):Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(Ye,{open:t.cargar,add:this.cargarCotizacion.bind(this),close:function(){e.setState({cargar:!1})}}),Object(F.jsx)(O.a.Heading,{children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})," NUEVA NOTA DE ENTREGA"]})}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(Re,{type:"Cliente",Cliente:t.cod_cliente,add:this.setCliente.bind(this)}),Object(F.jsx)(m.a,{style:{marginBottom:"15px"},onClick:function(){e.setState({open:!e.state.open})},bsStyle:"primary",children:"NOTA"}),Object(F.jsx)(O.a.Collapse,{children:Object(F.jsx)(O.a,{bsStyle:"info",children:Object(F.jsx)(O.a.Body,{children:Object(F.jsx)(g.a,{children:Object(F.jsx)(x.a,{xs:12,children:Object(F.jsx)(z,{type:"textarea",rows:3,maxLength:600,value:t.nota,setData:this.setState,update:"nota"})})})})})}),Object(F.jsxs)(Qe,{Prosesar:this.propcesar.bind(this),setData:this.setState,data:t,children:[Object(F.jsx)(x.a,{style:{width:"70px"},xs:2,children:Object(F.jsx)(m.a,{onClick:function(){e.setState({cargar:!0})},"data-class":"toolbody","data-html":"true","data-tip":"COPIAR COTIZACION",bsStyle:"primary",children:Object(F.jsx)("span",{className:"fa fa-fw fa fa-calculator"})})}),Object(F.jsx)(Ce,{data:this.props.data,setData:this.props.setData,Identificador:"NuevaNota"})]},"auxNota")]})]})}},{key:"cargarCotizacion",value:function(e){var t=this;U("api/Cotizacion/detalles/"+e.codigo,(function(e){e.id_cotizacion=e.codigo,e.codigo=0,t.setState(e)}))}},{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto}))}},{key:"setCliente",value:function(e){this.setState({cod_cliente:e})}},{key:"propcesar",value:function(){var e=this,t=!0;""===this.state.cod_cliente?(Object(ge.b)("DEBE SELECCIONAR UN CLIENTE",{type:ge.b.TYPE.ERROR}),t=!1):0===this.state.detalles.length?(Object(ge.b)("DEBE SELECCIONAR AL MENOS UN PRODUCTO",{type:ge.b.TYPE.ERROR}),t=!1):t&&this.state.detalles.forEach((function(e){e.unidades>e.cantidad?2!==e.tipo&&(Object(ge.b)("NO HAY SUFICENTE "+e.descripcion+" PARA COMPLETAR LA OPERACION",{type:ge.b.TYPE.ERROR}),t=!1):e.costo>e.precio&&(Object(ge.b)(e.descripcion+" ESTA POR DEBAJO DE SU COSTO REGISTRADO",{type:ge.b.TYPE.ERROR}),t=!1)})),t&&L("api/Nota/nuevo",function(e,t){var a=ee(e.detalles),s=a*(t/100),i=a+s;return{cod_cliente:e.cod_cliente,impuesto:s,total:i,nota:e.nota,detalles:te(e.detalles)}}(this.state,this.impuesto),(function(t){e.setState({codigo:t})}))}}]),a}(i.a.Component),Ke=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).buscarLabel=["codigo","nombre","fecha"],e.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"ENTREGADA"},{value:2,label:"FACTURADA"}],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsx)("h4",{children:"BUSCAR NOTA DE ENTREGA"})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["CLIENTE ",this.flechas("nombre")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(Me,{data:e,type:"Nota",add:this.add.bind(this)},e.codigo+e.status)}},{key:"add",value:function(e){this.props.add(e),this.props.close()}},{key:"filtros",value:function(){var e=Object(v.a)(Object(C.a)(a.prototype),"filtros",this).call(this);return this.length=e.length,e}},{key:"set",value:function(){this.update("/api/Nota/lista")}}]),a}(B),qe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).impuesto=0,s.tasa=1,s.setState=s.setState.bind(Object(b.a)(s)),s.state=Object(_.a)(Object(_.a)({},X),{},{cod_cliente:"",condicion:"CONTADO",open:!1,cargarCotizacion:!1,cargarNota:!1}),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state;return t.codigo>0?Object(F.jsx)("iframe",{src:"/api/Factura/PDF/"+t.codigo,width:"100%",height:"900wh",title:"print",scrolling:"no",frameBorder:"0"}):Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(Ye,{open:t.cargarCotizacion,add:this.cargarCotizacion.bind(this),close:function(){e.setState({cargarCotizacion:!1})}}),Object(F.jsx)(Ke,{open:t.cargarNota,add:this.cargarNota.bind(this),close:function(){e.setState({cargarNota:!1})}}),Object(F.jsx)(O.a.Heading,{children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})," NUEVA FACTURA"]})}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(Re,{type:"Cliente",Cliente:t.cod_cliente,add:this.setCliente.bind(this)}),Object(F.jsx)(x.a,{xs:5,children:Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:100,position:"relative",backgroundColor:"#eee"},className:"form-control",children:"CONDICION"}),Object(F.jsxs)("select",{style:{width:"calc(100% - 100px)"},onChange:this.setCondicion.bind(this),className:"form-control",defaultValue:this.props.condicion,children:[Object(F.jsx)("option",{value:"CONTADO",children:"CONTADO"}),Object(F.jsx)("option",{value:"CREDITO",children:"CREDITO"})]})]})}),Object(F.jsx)(m.a,{style:{marginBottom:"15px"},onClick:function(){e.setState({open:!e.state.open})},bsStyle:"primary",children:"OBSERVACI\xd3N"}),Object(F.jsx)(O.a.Collapse,{children:Object(F.jsx)(O.a,{bsStyle:"info",children:Object(F.jsx)(O.a.Body,{children:Object(F.jsx)(g.a,{children:Object(F.jsx)(x.a,{xs:12,children:Object(F.jsx)(z,{type:"textarea",rows:4,maxLength:600,value:t.nota,setData:this.setState,update:"nota"})})})})})}),Object(F.jsxs)(Qe,{Prosesar:this.propcesar.bind(this),setData:this.setState,data:t,children:[Object(F.jsx)(x.a,{style:{width:"118px"},xs:2,children:Object(F.jsxs)(M.a,{children:[Object(F.jsx)(m.a,{onClick:function(){e.setState({cargarCotizacion:!0})},"data-class":"toolbody","data-html":"true","data-tip":"CARGAR COTIZACION",bsStyle:"primary",children:Object(F.jsx)("span",{className:"fa fa-fw fa fa-calculator"})}),Object(F.jsx)(m.a,{onClick:function(){e.setState({cargarNota:!0})},"data-class":"toolbody","data-html":"true","data-tip":"CARGAR NOTA",bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-send"})})]})}),Object(F.jsx)(Ce,{setData:this.setState,data:t,Identificador:"NuevaFactura"})]},"auxFactura")]})]})}},{key:"cargarCotizacion",value:function(e){var t=this;U("api/Cotizacion/detalles/"+e.codigo,(function(e){var a=e;a.id_cotizacion=e.codigo,a.codigo=0,a.nota=t.state.nota,0!==e.tasa&&(a.detalles=e.detalles.map((function(a){return a.precio=a.precio*t.tasa/e.tasa,a.precio=parseFloat(a.precio.toFixed(2)),a}))),t.setState(a)}))}},{key:"cargarNota",value:function(e){var t=this;U("api/Nota/detalles/"+e.codigo,(function(e){e.id_nota=e.codigo,e.codigo=0,e.nota=t.state.nota,t.setState(e)}))}},{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto})),U("api/Config/getFactura",(function(t){e.setState({nota:t.observacion})})),U("api/Dolares/valor",(function(t){e.tasa=t}))}},{key:"setCliente",value:function(e){this.setState({cod_cliente:e})}},{key:"setCondicion",value:function(e){var t=e.currentTarget.value;this.props.change(t)}},{key:"propcesar",value:function(){var e=this,t=!0;""===this.state.cod_cliente?(Object(ge.b)("DEBE SELECCIONAR UN CLIENTE",{type:ge.b.TYPE.ERROR}),t=!1):0===this.state.detalles.length?(Object(ge.b)("DEBE SELECCIONAR AL MENOS UN PRODUCTO",{type:ge.b.TYPE.ERROR}),t=!1):t&&this.state.detalles.forEach((function(e){e.unidades>e.cantidad?2!==e.tipo&&(Object(ge.b)("NO HAY SUFICENTE "+e.descripcion+" PARA COMPLETAR LA OPERACION",{type:ge.b.TYPE.ERROR}),t=!1):e.costo>e.precio&&(Object(ge.b)(e.descripcion+" ESTA POR DEBAJO DE SU COSTO REGISTRADO",{type:ge.b.TYPE.ERROR}),t=!1)})),t&&L("api/Factura/nuevo",function(e,t){var a=ee(e.detalles),s=function(e){var t=0;return e.forEach((function(e){var a=e.costo,s=e.unidades;t+=a*s})),t}(e.detalles),i=a*(t/100),c=a+i,n=e.cod_cliente,r=e.nota;return{cod_cliente:n,condicion:e.condicion,porc_impuesto:t,costo:s,impuesto:i,subtotal:a,total:c,nota:r,detalles:te(e.detalles)}}(this.state,this.impuesto),(function(t){e.setState({codigo:t})}))}}]),a}(i.a.Component),Xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).buscarLabel=["codigo","nombre","fecha"],e}return Object(o.a)(a,[{key:"title",value:function(){return Object(F.jsx)("h4",{children:"BUSCAR GUARDADOS"})}},{key:"renderBusqueda",value:function(){return Object(F.jsxs)(g.a,{children:[Object(F.jsx)("div",{className:"col-md-9",children:Object(F.jsxs)("div",{style:{position:"relative",width:"100%"},className:"input-group",children:[Object(F.jsx)("input",{style:{position:"relative",width:"70%"},onKeyUp:this.setBuscar.bind(this),name:"buscar",placeholder:this.placeholder,className:"form-control"}),Object(F.jsx)("div",{className:"input-group-append",children:Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})})]})}),Object(F.jsxs)(m.a,{style:{width:"200px"},onClick:this.props.cargarCache,bsStyle:"warning",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-open-file"})," CARGAR DESDE CACHE"]})]})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["NUMERO ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"90px",backgroundColor:this.colorOrden("fecha")},onClick:function(){e.setOrden("fecha")},children:["FECHA ",this.flechas("fecha")]}),Object(F.jsxs)("th",{style:{backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["USUARIO ",this.flechas("nombre")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(Me,{data:e,type:"Cotizacion",add:this.add.bind(this)},e.codigo+e.status)}},{key:"add",value:function(e){this.props.add(e),this.props.close()}},{key:"filtros",value:function(){var e=Object(v.a)(Object(C.a)(a.prototype),"filtros",this).call(this);return this.length=e.length,e}},{key:"set",value:function(){this.update("/api/Cotizacion/plantillas")}}]),a}(B),$e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=Object(_.a)(Object(_.a)({},e.producto),{},{open:!1}),s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.unidades,s=t.precio,i=t.descripcion,c=t.codigo,n=t.comentario,r=t.open,o=t.costo,l=t.precio1,d=t.precio2,h=t.precio3;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:i}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,type:"number",setData:this.setState,value:a,update:"unidades"})}),Object(F.jsxs)("td",{children:[Object(F.jsx)(z,{step:"0.01",listLabel:o+"list",minValue:parseFloat((o*(1+l/100)).toFixed(2)),type:"number",setData:this.setState,value:s,update:"precio"}),Object(F.jsxs)("datalist",{id:o+"list",children:[Object(F.jsx)("option",{children:(o*(1+l/100)).toFixed(2)}),Object(F.jsx)("option",{children:(o*(1+d/100)).toFixed(2)}),Object(F.jsx)("option",{children:(o*(1+h/100)).toFixed(2)})]})]}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:R(s*a)})}),Object(F.jsx)("td",{style:{textAlign:"right"},children:Object(F.jsxs)(M.a,{children:[Object(F.jsx)(m.a,{bsStyle:"info",onClick:function(){e.setState({open:!e.state.open})},"data-tip":"DEJAR NOTA",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-edit"})}),Object(F.jsx)(m.a,{bsStyle:"danger",onClick:function(){e.props.remove(e.state)},"data-tip":"QUITAR PRODUCTO",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})})]})})]}),Object(F.jsx)("tr",{style:{display:r?"":"none"},children:Object(F.jsx)("td",{colSpan:7,children:Object(F.jsx)(Se,{widthLabel:150,label:"NOTA INTERNA",setData:this.setState,value:n,update:"comentario"})})})]})}},{key:"componentWillUpdate",value:function(e,t){t.precio===this.state.precio&&t.unidades===this.state.unidades&&t.comentario===this.state.comentario||this.props.edit(t)}}]),a}(i.a.Component),et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).impuesto=0,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto}))}},{key:"render",value:function(){var e=this.props,t=e.imponible,a=e.exento;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{colSpan:2,rowSpan:8}),Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"SUBTOTAL:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(t+a)})]}),a>0?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"EXENTO:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(a)})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"BASE IMPONIBLE:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:R(t)})]})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)("tr",{children:[Object(F.jsxs)("th",{style:{textAlign:"right"},colSpan:2,children:["IMPUESTO ",this.impuesto,"%:"]}),Object(F.jsx)("th",{style:{textAlign:"right"},children:this.calImpuesto()})]}),Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"TOTAL:"}),Object(F.jsx)("th",{style:{textAlign:"right"},children:this.calPagar()})]})]})}},{key:"calImpuesto",value:function(){return R(this.props.imponible*(this.impuesto/100))}},{key:"calPagar",value:function(){var e=this.props,t=e.imponible;return R(t+e.exento+t*(this.impuesto/100))}}]),a}(i.a.Component),tt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state=Object(_.a)(Object(_.a)({},e.producto),{},{open:!1}),s.setState=s.setState.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.unidades,s=t.precio,i=t.descripcion,c=t.codigo,n=t.comentario,r=t.open,o=t.costo,l=t.precio1,d=t.precio2,h=t.precio3,j=o/this.props.tasa,u=parseFloat((s/this.props.tasa).toFixed(2)),b=parseFloat((j*(1+l/100)).toFixed(2)),p=parseFloat((j*(1+d/100)).toFixed(2)),O=parseFloat((j*(1+h/100)).toFixed(2));return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:i}),Object(F.jsx)("td",{children:Object(F.jsx)(z,{minValue:1,type:"number",setData:this.setState,value:a,update:"unidades"})}),Object(F.jsxs)("td",{children:[Object(F.jsx)(z,{step:"0.01",listLabel:c+"list",minValue:parseFloat((j*(1+l/100)).toFixed(2)),type:"number",setData:this.setPrecio.bind(this),value:u,update:"precio"}),Object(F.jsxs)("datalist",{id:c+"list",children:[Object(F.jsx)("option",{children:b}),Object(F.jsx)("option",{children:p}),Object(F.jsx)("option",{children:O})]})]}),Object(F.jsx)("td",{children:Object(F.jsx)("span",{style:{width:"100%",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:R(s*a/this.props.tasa)})}),Object(F.jsx)("td",{style:{textAlign:"right"},children:Object(F.jsxs)(M.a,{children:[Object(F.jsx)(m.a,{bsStyle:"info",onClick:function(){e.setState({open:!e.state.open})},"data-tip":"DEJAR NOTA",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-edit"})}),Object(F.jsx)(m.a,{bsStyle:"danger",onClick:function(){e.props.remove(e.state)},"data-tip":"QUITAR PRODUCTO",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})})]})})]}),Object(F.jsx)("tr",{style:{display:r?"":"none"},children:Object(F.jsx)("td",{colSpan:7,children:Object(F.jsx)(Se,{widthLabel:150,label:"NOTA INTERNA",setData:this.setState,value:n,update:"comentario"})})})]})}},{key:"setPrecio",value:function(e){this.setState({precio:e.precio*this.props.tasa})}},{key:"componentWillUpdate",value:function(e,t){t.precio===this.state.precio&&t.unidades===this.state.unidades&&t.comentario===this.state.comentario||this.props.edit(t)}}]),a}(i.a.Component),at=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setData=void 0,s.setData=e.setData,s.state={buscarProducto:!1,nuevoProducto:!1},s}return Object(o.a)(a,[{key:"addProductos",value:function(e){var t=this.props.data.detalles.length;e.precio=parseFloat(e.precio.toFixed(2));var a=we({a:this.props.data.detalles,b:e,isCompare:function(e,t){return e.codigo===t.codigo}});t<a.length&&Object(ge.b)("PRODUCTO "+e.descripcion+" AGREGADO",{type:ge.b.TYPE.SUCCESS}),this.setData({detalles:a})}},{key:"removeProductos",value:function(e){var t={a:this.props.data.detalles,b:e,isCompare:function(e,t){return e.codigo===t.codigo}};this.setData({detalles:De(t)}),Object(ge.b)("PRODUCTO "+e.descripcion+" QUITADO",{type:ge.b.TYPE.SUCCESS})}},{key:"createProducto",value:function(e){this.addProductos(Object(_.a)(Object(_.a)({},e),{},{unidades:1,precio:e.costo*(1+e.precio2/100),comentario:""}))}},{key:"render",value:function(){var e=this,t=0,a=0,s=this.state,i=s.buscarProducto,c=s.nuevoProducto,n=this.props,r=n.data,o=r.dolar,l=r.tasa,d=n.setData;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ue,{open:c,close:this.close.bind(this),add:this.createProducto.bind(this)}),Object(F.jsx)(J,{type:"Cotizacion",open:i,add:this.addProductos.bind(this),close:this.close.bind(this)}),Object(F.jsx)(y.a,{}),Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:6,children:this.props.children}),Object(F.jsxs)(x.a,{xs:6,children:[Object(F.jsx)(m.a,{"data-tip":"PROCESAR",style:{marginRight:"15px"},bsStyle:"success",className:"pull-right",onClick:this.props.Prosesar,children:Object(F.jsx)("span",{className:"glyphicon glyphicon-print"})}),Object(F.jsxs)(M.a,{className:"pull-right",style:{marginRight:"15px"},children:[Object(F.jsx)(m.a,{"data-tip":"NUEVO PRODUCTO",onClick:function(){e.setState({nuevoProducto:!0})},bsStyle:"info",children:Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})}),Object(F.jsx)(m.a,{"data-tip":"BUSCAR PRODUCTO",onClick:function(){e.setState({buscarProducto:!0})},bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})})]}),o?Object(F.jsx)(m.a,{"data-tip":"CAMBIAR A BOLIVARES",style:{marginRight:"15px"},bsStyle:"warning",className:"pull-right",onClick:function(){d({dolar:!o})},children:Object(F.jsx)("span",{className:"glyphicon glyphicon-usd"})}):Object(F.jsx)(m.a,{"data-tip":"CAMBIAR A DOLARES",style:{marginRight:"15px"},bsStyle:"primary",className:"pull-right",onClick:function(){d({dolar:!o})},children:Object(F.jsx)("b",{style:{fontSize:"10px"},children:"BS"})})]})]}),Object(F.jsx)("hr",{}),Object(F.jsxs)(f.a,{className:"accordion",striped:!0,hover:!0,children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsx)("th",{style:{width:"100px"},children:"CODIGO"}),Object(F.jsx)("th",{children:"DESCRIPCI\xd3N"}),Object(F.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"CANTIDAD"}),Object(F.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRE/UNT"}),Object(F.jsx)("th",{style:{width:"200px",textAlign:"right"},children:"PRECIO"}),Object(F.jsx)("th",{style:{width:"110px",textAlign:"right"},children:"ACCIONES"})]})}),Object(F.jsxs)("tbody",{children:[this.props.data.detalles.map((function(s){var i=0,c=0;return s.exento?c+=s.precio*s.unidades:i+=s.precio*s.unidades,o&&(c/=l,i/=l),a+=c,t+=i,o?Object(F.jsx)(tt,{tasa:l,producto:s,edit:e.addProductos.bind(e),remove:e.removeProductos.bind(e)},"USD"+s.codigo):Object(F.jsx)($e,{producto:s,edit:e.addProductos.bind(e),remove:e.removeProductos.bind(e)},"BS"+s.codigo)})),Object(F.jsx)(et,{exento:a,imponible:t})]})]})]})}},{key:"close",value:function(){this.setState({buscarProducto:!1,nuevoProducto:!1})}}]),a}(i.a.Component),st=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).impuesto=0,s.setState=s.setState.bind(Object(b.a)(s)),s.state=Object(_.a)(Object(_.a)({},$),{},{cod_cliente:"",plantilla:0,tasa:0,dolar:!1,copiar:!1,open:!1,cargar:!1}),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state;return t.codigo>0?Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(y.a,{}),t.dolar?Object(F.jsxs)(m.a,{"data-tip":"CAMBIAR A BOLIVARES",style:{marginRight:"15px"},bsStyle:"warning",className:"btn-block",onClick:function(){e.setState({dolar:!t.dolar})},children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-usd"})," VISTA EN DOLARES"]}):Object(F.jsxs)(m.a,{"data-tip":"CAMBIAR A DOLARES",style:{marginRight:"15px"},bsStyle:"primary",className:"btn-block",onClick:function(){e.setState({dolar:!t.dolar})},children:[Object(F.jsx)("b",{children:"BS"})," VISTA EN BOLIVARES"]}),t.dolar?Object(F.jsx)("iframe",{src:"/api/Cotizacion/PDFD/"+t.codigo,width:"100%",height:"900wh",title:"print",scrolling:"no",frameBorder:"0"}):Object(F.jsx)("iframe",{src:"/api/Cotizacion/PDF/"+t.codigo,width:"100%",height:"900wh",title:"print",scrolling:"no",frameBorder:"0"})]}):Object(F.jsxs)(O.a,{bsStyle:"info",id:"tabla",expanded:this.state.open,children:[Object(F.jsx)(Ye,{open:t.copiar,add:this.copiar.bind(this),close:function(){e.setState({copiar:!1})}}),Object(F.jsx)(Xe,{open:t.cargar,add:this.cargar.bind(this),cargarCache:this.cargarCache.bind(this),close:function(){e.setState({cargar:!1})}}),Object(F.jsx)(O.a.Heading,{children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-edit"})," NUEVA COTIZACION"]})}),Object(F.jsxs)(O.a.Body,{children:[Object(F.jsx)(Re,{type:"Cliente",Cliente:t.cod_cliente,add:this.setProveedor.bind(this)}),Object(F.jsx)(m.a,{style:{marginBottom:"15px"},onClick:function(){e.setState({open:!e.state.open})},bsStyle:"primary",children:"CONDICIONES"}),Object(F.jsx)(x.a,{xs:4,className:"pull-right",children:Object(F.jsxs)(Ne.a,{style:{width:"100%"},className:"mb-3",children:[Object(F.jsx)("span",{style:{width:"150px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"TASA ACTUAL"}),Object(F.jsx)("span",{style:{width:"calc(100% - 150PX)",position:"relative",backgroundColor:"#eee",textAlign:"right"},className:"form-control",children:t.tasa})]})}),Object(F.jsx)(O.a.Collapse,{children:Object(F.jsx)(O.a,{bsStyle:"info",children:Object(F.jsx)(O.a.Body,{children:Object(F.jsxs)(g.a,{children:[Object(F.jsx)(x.a,{xs:12,children:Object(F.jsx)(Se,{maxLength:120,widthLabel:200,label:"VALIDES DE LA OFERTA",value:t.validez,setData:this.setState,update:"validez"})}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{maxLength:120,widthLabel:200,label:"TIEMPO DE ENTREGA",value:t.tiempo_entrega,setData:this.setState,update:"tiempo_entrega"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)(Se,{maxLength:120,widthLabel:200,label:"FORMA DE PAGO",value:t.forma_pago,setData:this.setState,update:"forma_pago"})]}),Object(F.jsxs)(x.a,{xs:12,children:[Object(F.jsx)("br",{}),Object(F.jsx)("b",{children:"NOTA"}),Object(F.jsx)(z,{type:"textarea",rows:3,maxLength:250,value:t.nota,setData:this.setState,update:"nota"})]})]})})})}),Object(F.jsxs)(at,{Prosesar:this.propcesar.bind(this),setData:this.setState,data:t,children:[Object(F.jsx)(x.a,{style:{width:"70px"},xs:2,children:Object(F.jsx)(m.a,{onClick:function(){e.setState({copiar:!0})},"data-class":"toolbody","data-html":"true","data-tip":"COPIAR COTIZACION",bsStyle:"primary",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-duplicate"})})}),Object(F.jsxs)(M.a,{children:[Object(F.jsx)(m.a,{bsStyle:"info",onClick:this.guardar.bind(this),"data-tip":"GUARDAR",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-save-file"})}),Object(F.jsx)(m.a,{bsStyle:"warning",onClick:function(){e.setState({cargar:!0})},"data-tip":"CARGAR",children:Object(F.jsx)("span",{className:"glyphicon glyphicon-open-file"})})]})]},"auxCotizacion")]})]})}},{key:"copiar",value:function(e){var t=this;U("api/Cotizacion/detalles/"+e.codigo,(function(e){e.codigo=0,e.tasa=t.state.tasa,t.setState(e)}))}},{key:"cargar",value:function(e){var t=this;U("api/Cotizacion/cargar/"+e.codigo,(function(e){e.plantilla=e.codigo,e.tasa=t.state.tasa,e.codigo=0,t.setState(e)}))}},{key:"cargarCache",value:function(){var e=localStorage.getItem("guardarNuevaCotizacion");if(null!==e){var t=JSON.parse(e);t.tasa=this.state.tasa,this.setState(t)}}},{key:"guardar",value:function(){var e=this;localStorage.setItem("guardarNuevaCotizacion",JSON.stringify(this.state)),L("api/Cotizacion/guardar",Ge(this.state,this.impuesto),(function(t){e.setState({plantilla:t}),localStorage.setItem("guardarNuevaCotizacion",JSON.stringify(e.state)),Object(ge.b)("DATOS GUARDADOS EN N\xb0 "+t,{type:ge.b.TYPE.SUCCESS})}),(function(e){Object(ge.b)("ERROR AL CONECTAR CON SEL SERVIDOR. GUARDADOS EN CACHE",{type:ge.b.TYPE.ERROR})}))}},{key:"componentDidMount",value:function(){var e=this;U("api/Region/get",(function(t){e.impuesto=t.impuesto})),U("api/Dolares/valor",(function(t){e.setState({tasa:t})}))}},{key:"setProveedor",value:function(e){this.setState({cod_cliente:e})}},{key:"propcesar",value:function(){var e=this,t=!0;""===this.state.cod_cliente?(Object(ge.b)("DEBE SELECCIONAR UN CLIENTE",{type:ge.b.TYPE.ERROR}),t=!1):0===this.state.detalles.length&&(Object(ge.b)("DEBE SELECCIONAR AL MENOS UN PRODUCTO",{type:ge.b.TYPE.ERROR}),t=!1),t&&L("api/Cotizacion/nuevo",Ge(this.state,this.impuesto),(function(t){e.setState({codigo:t})}))}}]),a}(i.a.Component),it=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={id_usuario:0,nivel:0,usuario:"",open:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.usuario,s=t.open;return Object(F.jsxs)("header",{className:"main-header",children:[Object(F.jsxs)("a",{href:"/admin",className:"logo",children:[Object(F.jsx)("span",{className:"logo-mini",children:Object(F.jsx)("img",{src:"/logos/logo.svg",width:"95%",alt:"logo"})}),Object(F.jsx)("span",{className:"logo-lg",children:Object(F.jsx)("img",{src:"/logos/logo-text.svg",width:"100%",alt:"logo-text"})})]}),Object(F.jsxs)("nav",{style:{height:"50px"},className:"navbar navbar-static-top",role:"navigation",children:[Object(F.jsx)("div",{onClick:this.open.bind(this),className:"sidebar-toggle","data-toggle":"push-menu",role:"button",children:Object(F.jsx)("span",{className:"sr-only",children:"Toggle navigation"})}),Object(F.jsx)("div",{className:"navbar-custom-menu",children:Object(F.jsx)("ul",{className:"nav navbar-nav",children:Object(F.jsxs)("li",{className:"dropdown user user-menu"+(s?" open":""),children:[Object(F.jsx)("a",{href:"#menu",onClick:function(){e.setState({open:!s})},className:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":"true",children:Object(F.jsx)("span",{className:"hidden-xs",children:a})}),Object(F.jsxs)("ul",{className:"dropdown-menu",children:[Object(F.jsx)("li",{className:"user-header",children:Object(F.jsx)("p",{children:a})}),Object(F.jsx)("li",{className:"user-footer",children:Object(F.jsx)("div",{className:"pull-right",children:Object(F.jsx)("a",{href:"config/salir.php",className:"btn btn-default btn-flat",children:"Salir"})})})]})]})})})]})]})}},{key:"open",value:function(){var e=document.getElementsByTagName("body")[0],t=localStorage.getItem("menu");"open"===t?(localStorage.setItem("menu","cerrado"),t="cerrado"):(localStorage.setItem("menu","open"),t="open"),e&&("cerrado"===t?e.classList.add("sidebar-collapse"):e.classList.remove("sidebar-collapse")),this.props.update()}},{key:"componentDidMount",value:function(){var e=this,t=document.getElementsByTagName("body")[0],a=localStorage.getItem("menu");a||(a="open",localStorage.setItem("menu","open")),t&&("cerrado"===a?t.classList.add("sidebar-collapse"):t.classList.remove("sidebar-collapse")),U("/api/Usuario/actual",(function(t){e.setState(t)}))}}]),a}(i.a.Component),ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={open:!1,height:44},e.ul=i.a.createRef(),e.h=44,e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.height;return Object(F.jsxs)("li",{style:{height:a,overflow:"open"===this.props.state?"hidden":void 0},onClick:this.collapse.bind(this),className:"menu-open",children:[Object(F.jsxs)("a",{href:"#menu",children:[Object(F.jsx)("i",{className:this.props.icon}),Object(F.jsx)("span",{style:{width:"230px"},children:this.props.title}),Object(F.jsx)("span",{className:"pull-right-container",children:Object(F.jsx)("i",{className:"fa fa-angle-"+(t?"down":"left")+" pull-right "})})]}),Object(F.jsx)("ul",{ref:this.ul,style:{width:"230px",display:"block"},className:"treeview-menu",children:this.props.children})]})}},{key:"componentDidUpdate",value:function(e,t){if("open"===e.state){if(this.state.open!==t.open){var a,s=null===(a=this.ul.current)||void 0===a?void 0:a.clientHeight;s=s||0,this.collapsed(s/25,25)}this.state.height<44&&this.setState({height:44})}}},{key:"componentWillReceiveProps",value:function(e){"open"===e.state?this.setState({height:44}):this.setState({height:"auto"})}},{key:"collapse",value:function(){this.setState({open:!this.state.open})}},{key:"collapsed",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,s=this.state,i=s.height,c=s.open;setTimeout((function(){c?e.setState({height:i+t}):e.setState({height:i-t}),a>0&&e.collapsed(t,a-1)}),0)}}]),a}(i.a.Component),nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(F.jsx)("aside",{className:"main-sidebar",children:Object(F.jsx)("section",{className:"sidebar",children:Object(F.jsxs)("ul",{className:"sidebar-menu",children:[Object(F.jsx)("li",{className:"active",children:Object(F.jsxs)("a",{href:"/panel_ad",children:[Object(F.jsx)("i",{className:"fa fa-dashboard"})," ",Object(F.jsx)("span",{children:"Inicio"})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_ordenes",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-paperclip"})," ",Object(F.jsx)("span",{style:{width:"200px"},children:" ORDENES DE COMPRA "})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_compras",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-shopping-cart"})," ",Object(F.jsx)("span",{children:" COMPRAS "})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_cotizaciones",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-calculator"})," ",Object(F.jsx)("span",{children:" COTIZACIONES "})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_notas",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-send"})," ",Object(F.jsx)("span",{children:" NOTAS DE ENTREGA "})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_facturas",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-usd"})," ",Object(F.jsx)("span",{children:" FACTURAS "})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_proveedores",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-truck"})," ",Object(F.jsx)("span",{children:" PROVEEDORES"})]})}),Object(F.jsx)("li",{children:Object(F.jsxs)(h.b,{to:"/ver_clientes",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-user"}),Object(F.jsx)("span",{children:" CLIENTES"})]})}),Object(F.jsxs)(ct,{state:this.props.state,title:"INVENTARIO",icon:"fa fa-fw fa fa-laptop",children:[Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"ver_productos",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Consulta de inventario"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"nuevo_producto",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Registro de productos"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"ajuste_inventario",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Ajuste de inventario"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"ajuste_utilidad",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Ajuste de utilidad"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"ajuste_precio",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Ajuste de Precio"]})})]}),Object(F.jsxs)(ct,{state:this.props.state,title:"REPORTES",icon:"fa fa-fw fa-bar-chart",children:[Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"reporte_compras",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Reporte de compras"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"reporte_ventas",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Reporte de ventas"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"reporte_vendedor",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Reporte de vendedores"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"reporte_ajustes",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Reporte de ajustes de inventario"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"reporte_inventario",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Reporte de inventario"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"rubros",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Reporte de rubros por mes"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"seguimiento",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Seguimiento de compras"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"historico",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," historico de productos"]})})]}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"/ver_usuarios",children:[Object(F.jsx)("i",{className:"fa fa-fw fa fa-users"}),Object(F.jsx)("span",{children:" USUARIOS"})]})}),Object(F.jsxs)(ct,{state:this.props.state,title:"PARAMETROS",icon:"fa fa-fw fa-sliders",children:[Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"tipo_producto",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Tipo de producto"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"unidades",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Unidades"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"departamentos",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Departamentos"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"moneda",children:[Object(F.jsx)("i",{className:"fa fa-circle-o"})," Monedas"]})})]}),Object(F.jsxs)(ct,{state:this.props.state,title:"CONFIGURACION",icon:"fa fa-fw fa-wrench",children:[Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"conf_ventas",children:[" ",Object(F.jsx)("i",{className:"fa fa-circle-o"})," Configuraci\xf3n de ventas"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"conf_region",children:[" ",Object(F.jsx)("i",{className:"fa fa-circle-o"})," Configuraci\xf3n de regi\xf3n"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"conf_factura",children:[" ",Object(F.jsx)("i",{className:"fa fa-circle-o"})," Configuraci\xf3n de factura"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"conf_empresa",children:[" ",Object(F.jsx)("i",{className:"fa fa-circle-o"})," Datos de la empresa"]})}),Object(F.jsx)("li",{children:Object(F.jsxs)("a",{href:"horarios",children:[" ",Object(F.jsx)("i",{className:"fa fa-circle-o"})," Horarios de Trabajo"]})})]})]})})})}}]),a}(i.a.Component),rt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(F.jsxs)("footer",{className:"main-footer",style:{position:"relative",bottom:0},children:[Object(F.jsxs)("div",{className:"pull-right hidden-xs",children:[Object(F.jsx)("b",{children:"Version"})," 2.1.3"]}),Object(F.jsxs)("strong",{children:[" ",Object(F.jsx)("a",{href:"http://ailanthus-sistems.com/",children:Object(F.jsx)("img",{src:"/logos/logo-text.svg",width:"150px",alt:"logo"})})," Copyright \xa9 2021-2025."]})]})}}]),a}(i.a.Component),ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={edit:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:this.props.data.codigo}),Object(F.jsxs)("th",{children:[Object(F.jsx)(y.a,{}),Object(F.jsx)(Ee,{open:this.state.edit,title:"EDITAR DATOS DE "+this.props.data.nombre,type:this.props.type,cliente:this.props.data,close:function(){e.setState({edit:!1})},add:this.props.update}),Object(F.jsx)(m.a,{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"data-class":"toolbody","data-html":"true","data-tip":this.tooltipCliente(),bsStyle:"link",children:this.props.data.nombre})]}),Object(F.jsx)("th",{style:{minWidth:"100px",maxWidth:"100px",paddingTop:5,fontSize:17},children:this.getStatus()}),Object(F.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(F.jsxs)(M.a,{className:"pull-right",children:[Object(F.jsx)(m.a,{"data-tip":"EDITAR",bsStyle:"primary",onClick:function(){e.setState({edit:!0})},children:Object(F.jsx)("i",{className:"glyphicon glyphicon-EDIT"})}),1===this.props.data.estatus?Object(F.jsx)(m.a,{"data-tip":"ELIMINAR",bsStyle:"danger",onClick:this.cancelar.bind(this),children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ban-circle"})}):Object(F.jsx)(m.a,{"data-tip":"ACTIVAR",bsStyle:"success",onClick:this.cancelar.bind(this),children:Object(F.jsx)("i",{className:"glyphicon glyphicon-ok-circle"})})]})})]})}},{key:"getModal",value:function(){return Object(F.jsx)(F.Fragment,{})}},{key:"getStatus",value:function(){return 1===this.props.data.estatus?Object(F.jsx)("span",{className:"label label-success",children:"ACTIVO"}):Object(F.jsx)("span",{className:"label label-danger",children:"INACTIVO"})}},{key:"tooltipCliente",value:function(){var e=this.props.data;return"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br /><b>PERSONA DE CONTACTO:</b><br />"+e.contacto+"<br /><b>CORREO ELECTRONICO:</b><br />"+e.correo+"<br /><b>TELEFONO:</b><br />"+e.telefono}},{key:"close",value:function(){this.setState({edit:!1})}},{key:"cancelar",value:function(){var e=this;this.close(),fetch("/api/"+this.props.type+"/cancelar/"+this.props.data.codigo).then((function(e){return e.json()})).then((function(t){e.props.update&&e.props.update()}))}},{key:"getLabel",value:function(){return"Cliente"===this.props.type?"CLIENTE":"PROVEEDOR"}}]),a}(i.a.Component),lt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR CLIENTE",e.buscarLabel=["codigo","nombre","contacto","correo","telefono"],e}return Object(o.a)(a,[{key:"Avansado",value:function(){return Object(F.jsx)(F.Fragment,{})}},{key:"title",value:function(){var e=this;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ee,{open:this.state.modalProductos,title:"NUEVO CLIENTE",type:"Cliente",cliente:null,close:function(){e.setState({modalProductos:!1})},add:this.set.bind(this)}),Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(m.a,{onClick:function(){e.setState({modalProductos:!0})},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"})," NUEVO CLIENTE"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," BUSCAR CLIENTE"]})]})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["RIF ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"calc(100% - 335px)",backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["RASON SOCIAL ",this.flechas("nombre")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"renderBusqueda",value:function(){return Object(F.jsx)(g.a,{children:Object(F.jsxs)("div",{className:"input-group col-md-12",children:[Object(F.jsx)("input",{style:{position:"relative",width:"50%"},onKeyUp:this.setBuscar.bind(this),name:"buscar",placeholder:this.placeholder,className:"form-control"}),Object(F.jsx)("div",{className:"input-group-append",children:Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})," Buscar"]})})]})})}},{key:"Row",value:function(e){return Object(F.jsx)(ot,{type:"Cliente",update:this.set.bind(this),data:e},e.codigo+e.estatus)}},{key:"set",value:function(){this.update("/api/Cliente/lista")}}]),a}(Z),dt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).placeholder="BUSCAR PROVEEDOR",e.buscarLabel=["codigo","nombre","contacto","correo","telefono"],e}return Object(o.a)(a,[{key:"title",value:function(){var e=this;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ee,{open:this.state.modalProductos,title:"NUEVO PROVEEDOR",type:"Proveedor",cliente:null,close:function(){e.setState({modalProductos:!1})},add:this.set.bind(this)}),Object(F.jsx)("div",{className:"btn-group pull-right",children:Object(F.jsxs)(m.a,{onClick:function(){e.setState({modalProductos:!0})},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-plus"})," NUEVO PROVEEDOR"]})}),Object(F.jsxs)("h4",{children:[Object(F.jsx)("i",{className:"glyphicon glyphicon-search"})," BUSCAR PROVEEDOR"]})]})}},{key:"Avansado",value:function(){return Object(F.jsx)(F.Fragment,{})}},{key:"renderBusqueda",value:function(){return Object(F.jsx)(g.a,{children:Object(F.jsxs)("div",{className:"input-group col-md-12",children:[Object(F.jsx)("input",{style:{position:"relative",width:"50%"},onKeyUp:this.setBuscar.bind(this),name:"buscar",placeholder:this.placeholder,className:"form-control"}),Object(F.jsx)("div",{className:"input-group-append",children:Object(F.jsxs)(m.a,{style:{width:"100px",position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},bsStyle:"primary",children:[Object(F.jsx)("span",{className:"glyphicon glyphicon-search"})," Buscar"]})})]})})}},{key:"Header",value:function(){var e=this;return Object(F.jsxs)("tr",{className:"info",children:[Object(F.jsxs)("th",{style:{width:"100px",backgroundColor:this.colorOrden("codigo")},onClick:function(){e.setOrden("codigo")},children:["RIF ",this.flechas("codigo")]}),Object(F.jsxs)("th",{style:{width:"calc(100% - 335px)",backgroundColor:this.colorOrden("nombre")},onClick:function(){e.setOrden("nombre")},children:["RASON SOCIAL ",this.flechas("nombre")]}),Object(F.jsx)("th",{style:{width:"100px"},children:"ESTATUS"}),Object(F.jsx)("th",{style:{width:"135px"},children:"ACCIONES"})]})}},{key:"Row",value:function(e){return Object(F.jsx)(ot,{type:"Proveedor",update:this.set.bind(this),data:e},e.codigo+e.estatus)}},{key:"set",value:function(){this.update("/api/Proveedor/lista")}}]),a}(Z),ht=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=localStorage.getItem("menu");e||(e="open",localStorage.setItem("menu","open"));var t={};return t="cerrado"===e?{marginLeft:"50px",minHeight:"calc(100vh - 110px)"}:{marginLeft:"230px",minHeight:"calc(100vh - 110px)"},Object(F.jsxs)(h.a,{children:[Object(F.jsx)(it,{update:this.forceUpdate.bind(this)},"headerBar"),Object(F.jsx)(nt,{state:e},"MenuAside"),Object(F.jsxs)("section",{style:t,className:"content",children:[Object(F.jsx)(ge.a,{position:"bottom-right"}),Object(F.jsxs)(j.c,{children:[Object(F.jsx)(j.a,{path:"/ver_cotizaciones",component:le}),Object(F.jsx)(j.a,{path:"/nueva_cotizacion",component:st}),Object(F.jsx)(j.a,{path:"/ver_ordenes",component:pe}),Object(F.jsx)(j.a,{path:"/nueva_orden",component:ze}),Object(F.jsx)(j.a,{path:"/ver_facturas",component:he}),Object(F.jsx)(j.a,{path:"/nueva_factura",component:qe}),Object(F.jsx)(j.a,{path:"/ver_notas",component:ue}),Object(F.jsx)(j.a,{path:"/nueva_nota",component:Ze}),Object(F.jsx)(j.a,{path:"/ver_compras",component:fe}),Object(F.jsx)(j.a,{path:"/nueva_compra",component:He}),Object(F.jsx)(j.a,{path:"/ver_proveedores",component:dt}),Object(F.jsx)(j.a,{path:"/ver_clientes",component:lt})]})]}),Object(F.jsx)(rt,{})]})}}]),a}(i.a.Component),jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,182)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),s(e),i(e),c(e),n(e)}))};n.a.render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsx)(ht,{})}),document.getElementById("root")),jt()}},[[171,1,2]]]);
//# sourceMappingURL=main.64deb6a4.chunk.js.map