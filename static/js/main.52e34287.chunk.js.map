{"version":3,"sources":["Utils/Utiles.ts","Utils/ModalBusqueda.tsx","Utils/setTex.tsx","App/Productos/BuscarProducto/FilaEntrada.tsx","App/Productos/BuscarProducto/FilaSeleccion.tsx","App/Productos/BuscarProducto/FilaFactura.tsx","App/Productos/BuscarProducto/index.tsx","App/Usuarios/Select.tsx","Utils/Table.tsx","Utils/ModalPrint.tsx","Utils/ModalAlert.tsx","Modelos/General.ts","Utils/ModalDetalle.tsx","Utils/FilaProto.tsx","Utils/Seguimiento.tsx","App/Cotizacion/ModalDetalle.tsx","App/Cotizacion/FilaCotizacio.tsx","App/Cotizacion/index.tsx","App/Facturas/FilaFactura.tsx","App/Facturas/index.tsx","App/Nota/FilaNota.tsx","App/Nota/index.tsx","App/Orden/FilaOrden.tsx","App/Orden/index.tsx","App/Compra/RegistrarFactura.tsx","App/Compra/FilaCompra.tsx","App/Compra/index.tsx","Modelos/Compra.ts","Utils/CacheStorage.tsx","Utils/InputText.tsx","Modelos/Cliente.ts","Modelos/Proveedor.ts","App/Clientes/FormCliente.tsx","App/Clientes/ClienteSelector.tsx","Utils/ArrayFun.tsx","Modelos/Productos.ts","App/Productos/Departamento/Selector.tsx","App/Productos/Unidad/Selector.tsx","App/Productos/Tipos/Selector.tsx","App/Productos/FormProductos.tsx","App/Compra/Nuevo/FilaProducto.tsx","App/Compra/Nuevo/CalcularImpuesto.tsx","App/Compra/Nuevo/AuxiliarCompra.tsx","Utils/FilaGeneraModal.tsx","App/Orden/BuscarOrden.tsx","App/Orden/Nuevo.tsx","App/Compra/Nuevo.tsx","Modelos/Factura.ts","App/Cotizacion/BuscarCotizacion.tsx","App/Facturas/Nuevo/FilaProducto.tsx","App/Facturas/Nuevo/CalcularImpuesto.tsx","App/Facturas/Nuevo/AuxiliarFactura.tsx","App/Nota/Nuevo.tsx","App/Nota/BuscarNota.tsx","App/Facturas/Nuevo.tsx","App/Cotizacion/BuscarGuardado.tsx","App/Cotizacion/Nuevo/FilaProducto.tsx","App/Cotizacion/Nuevo/CalcularImpuesto.tsx","App/Cotizacion/Nuevo/AuxiliarCotizacion.tsx","App/Cotizacion/Nueva.tsx","Template/Header.tsx","Template/Menu.tsx","Template/Footer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ordenarPor","itens","orden","label","sort","a","b","fa","datetonomber","fecha","fb","isNaN","busqueda","encontar","bucarLabel","filter","iten","en","split","pasa","forEach","considencias","e","toUpperCase","indexOf","zfill","length","filtro","value","Label","numberFormat","number","toFixed","replace","width","numberOutput","Math","abs","toString","zero","repeat","date","Date","a√±o","getFullYear","mes","getMonth","getDate","formatoFecha","formatoHora","hora","getHours","minuto","getMinutes","segundo","getSeconds","turno","FormDataFotmat","o","formData","FormData","Object","keys","key","append","JSON","stringify","maskFormat","val","mask","nval","m","i","test","undefined","post","url","obj","success","d","error","xhr","XMLHttpRequest","responseType","open","onreadystatechange","readyState","status","response","send","getPreCache","setData","dataCache","localStorage","getItem","parse","fetch","then","json","data","setItem","ModalBusqueda","p","placeholder","mostrar","buscarLabel","estatus","setState","bind","setBuscar","state","buscar","page","ordenar","init","this","fin","filtros","index","map","Row","total_page","ceil","buttons","push","Pagination","Item","active","onClick","setpage","Ellipsis","style","position","float","paginacion","currentTarget","forceUpdate","className","Modal","show","props","onHide","close","bsSize","Header","closeButton","title","Body","padding","renderBusqueda","Table","body","Footer","pagination","onKeyUp","name","Button","borderTopLeftRadius","borderBottomLeftRadius","bsStyle","c","actualizar","set","setTimeout","setItens","React","Component","SetText","ref","createRef","area","selected","type","id","listLabel","maxLength","rows","defaultValue","onBlur","keyUp","onFocus","list","getValue","getProps","input","current","update","minValue","r","parseFloat","numberValue","stringValue","keyCode","step","textAlign","minLength","min","FilaEntrada","producto","precio","costo","unidades","comentario","descripcion","codigo","backgroundColor","ButtonGroup","add","data-tip","FilaSeleccion","FilaFactura","precio1","precio2","precio3","BuscarProducto","minWidth","maxWidth","colorOrden","setOrden","flechas","cantidad","UsuarioSelector","usuarios","onChange","setRol","nombre","Rol","parseInt","change","setUsers","Tabla","productos","modalProductos","fecha_ini","fecha_fin","user","fini","ffin","ini","busquedaFechas","values","cod","detalles","filtrarProducto","Panel","expanded","Heading","paddingTop","Collapse","Avansado","Col","md","striped","condensed","hover","borderRadius","addProducto","paddingLeft","setFechaInicio","setFechaFin","limpiarFechas","setStatus","u","removeProducto","window","innerWidth","ModalPrint","src","height","scrolling","frameBorder","ModalAlert","msn","accion","borderBottomRightRadius","generalNull","nota","subtotal","total","impuesto","condicionesNull","forma_pago","tiempo_entrega","validez","getSubtotal","sentDetalles","ModalDetalle","suma","animation","titulo","s","colSpan","Dialog","tipo","FilaProto","print","aux","eliminar","cot","whiteSpace","textOverflow","overflow","data-class","data-html","tooltipCliente","monto","fontSize","getStatus","cancelar","getModal","getButtons","contacto","correo","telefono","FilaSeguimiento","seguimiento","usuario","Seguimientos","mensajes","color","borderTopRightRadius","xs","overflowY","maxHeight","setMsn","enviar","sent","toDateString","clear","dialogClassName","FilaCotizacio","ListCotizaciones","to","ListFactura","FilaNota","ListNotas","FilaOrden","ListOrdenes","RegistrarFactura","cod_doc","num_con","fecha_doc","FilaCompra","ListConpra","dataNull","cod_proveedor","ordenNull","compraNull","id_orden","cod_documento","cod_nota","nun_control","fecha_documento","CacheStorage","borrarCache","warning","msnWarnig","guardarCache","cargarCache","Identificador","toast","TYPE","SUCCESS","ERROR","InputText","widthLabel","widthAfter","l","InputGroup","after","ClienteNull","direccion","tipo_contribuyente","retencion","FormCliente","cliente","inputCodeMode","get","FormControl","disabled","create","ClienteSelector","nuevoCliente","lista","buscarCodigo","buscarNumbre","getLabel","seleccion","limpiarCodigo","setBuscarCodigo","getList","limpiarNombre","setBuscarNombre","target","limpiar","Cliente","comprare","com","isCompare","removeElement","addUpdateArray","ifArray","UpdateElement","ProductoNull","departamento","enser","exento","unidad","fecha_creacion","DepartamentoSelector","Departamentos","UnidadesSelector","Unidades","TipoSelector","tipos","FormProductos","setDepartamento","setUnidad","setTipo","getPrecio","price","utilidad","FilaProducto","remove","edit","CalcularImpuesto","imponible","rowSpan","calImpuesto","calPagar","AuxiliarCompra","nuevoProducto","buscarProducto","cant","addProductos","imp","ext","createProducto","children","marginRight","Prosesar","removeProductos","FilaGeneraModal","getStatus1","getStatus2","BuscarOrden","NuevaOrden","cargar","setProveedor","marginBottom","propcesar","procesar","iva","sentOrden","NuevaCompra","sentCompra","sentCotizacion","cod_cliente","plantilla","BuscarCotizacion","AuxiliarFactura","NuevaNota","cargarCotizacion","setCliente","id_cotizacion","porc_impuesto","sentNota","BuscarNota","NuevaFactura","condicion","cargarNota","setCondicion","id_nota","observacion","v","getCosto","sentFactura","BuscarGuardado","display","AuxiliarCotizacion","NuevaCotizacion","copiar","guardar","id_usuario","nivel","href","role","data-toggle","aria-expanded","Menu","bottom","App","marginLeft","minHeight","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52e34287.chunk.js","sourcesContent":["import { GeneralFila } from \"../Modelos/General\"\r\nimport { Producto } from \"../Modelos/Productos\";\r\nexport type filaLabel = \"codigo\" | \"fecha\" | \"nombre\" | \"telefono\" | \"nota\" | \"tasa\" | \"monto\" | \"usuario\" | \"status\";\r\n\r\nexport function ordenarPor<p>(itens: any[], orden: string, label: p | 'fecha' | 'codigo') {\r\n    return itens.sort((a, b) => {\r\n        if (label === 'fecha') {\r\n            let fa = datetonomber(a.fecha), fb = datetonomber(b.fecha);\r\n            if (orden === \"desc\")\r\n                return (fb < fa ? - 1 : (fb > fa ? 1 : 0));\r\n            else\r\n                return (fa < fb ? - 1 : (fa > fb ? 1 : 0));\r\n        } else if (isNaN(b[label])) {\r\n            if (orden === \"desc\")\r\n                return (a[label] < b[label] ? - 1 : (a[label] > b[label] ? 1 : 0));\r\n            else\r\n                return (b[label] < a[label] ? - 1 : (b[label] > a[label] ? 1 : 0));\r\n        } else {\r\n            if (orden === \"desc\")\r\n                return (b[label] - a[label]);\r\n            else\r\n                return (a[label] - b[label]);\r\n        }\r\n    })\r\n}\r\nexport function busqueda<p>(itens: any[], encontar: string, bucarLabel: p[]) {\r\n    if (encontar !== \"\") {\r\n        return itens.filter(iten => {\r\n            let en = encontar.split(\" \"), pasa = false;\r\n            bucarLabel.forEach(label => {\r\n                let considencias = 0;\r\n                en.forEach(e => {\r\n                    if (isNaN(iten[label])) {\r\n                        if (iten[label].toUpperCase().indexOf(e) > -1) { considencias++ }\r\n                    } else {\r\n                        if (zfill(iten[label]).indexOf(e) > -1) { considencias++ }\r\n                    }\r\n                })\r\n                if (en.length === considencias) {\r\n                    pasa = true\r\n                }\r\n            })\r\n            return pasa\r\n        })\r\n    }\r\n    return itens;\r\n}\r\nexport function busquedaFechas(itens: GeneralFila[], fini: string, ffin: string) {\r\n    if ((ffin !== 'dd/mm/aaaa') && (fini !== 'dd/mm/aaaa')) {\r\n        var ini = datetonomber(fini);\r\n        var fin = datetonomber(ffin);\r\n        return itens.filter((iten) => {\r\n            var fecha = datetonomber(iten.fecha);\r\n            if ((ini <= fecha) && (fin >= fecha)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    return itens;\r\n}\r\nexport function filtro<l>(itens: any[], value: number, Label: l) {\r\n    if (value !== -1)\r\n        return itens.filter(iten => {\r\n            return iten[Label] === value;\r\n        })\r\n    return itens;\r\n}\r\nexport function filtrarProducto(itens: GeneralFila[], values: Producto[]) {\r\n    return itens.filter(iten => {\r\n        let pasa: string[] = [];\r\n        values.forEach(cod => {\r\n            iten.detalles.forEach(e => {\r\n                if (cod.codigo === e) pasa.push(e);\r\n            })\r\n        })\r\n        if (pasa.length === values.length || values.length === 0) return true;\r\n        return false;\r\n    })\r\n}\r\nexport function numberFormat(number: number) {\r\n    return (number\r\n        .toFixed(2) // always two decimal digits\r\n        .replace('.', ',') // replace decimal point character with ,\r\n        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.')) // use . as a separator\r\n}\r\nexport function zfill(number: number, width = 6) {\r\n    var numberOutput = Math.abs(number) /* Valor absoluto del n√∫mero */\r\n    var length = number.toString().length /* Largo del n√∫mero */\r\n    var zero = \"0\" /* String de cero */\r\n\r\n    if (width <= length) {\r\n        if (number < 0) {\r\n            return (\"-\" + numberOutput.toString())\r\n        } else {\r\n            return numberOutput.toString()\r\n        }\r\n    } else {\r\n        if (number < 0) {\r\n            return (\"-\" + (zero.repeat(width - length)) + numberOutput.toString())\r\n        } else {\r\n            return ((zero.repeat(width - length)) + numberOutput.toString())\r\n        }\r\n    }\r\n}\r\nexport function datetonomber(fecha: string) {\r\n    var date = new Date(fecha);\r\n    var a√±o = date.getFullYear();\r\n    var mes = date.getMonth() + 1;\r\n    var dia = date.getDate() + 1;\r\n    a√±o *= 10000;\r\n    mes *= 100;\r\n    return a√±o + mes + dia;\r\n};\r\nexport function formatoFecha(fecha: string) {\r\n    var date = new Date(fecha);\r\n    var a√±o = date.getFullYear();\r\n    var mes = date.getMonth() + 1;\r\n    var dia = date.getDate() + 1;\r\n    return zfill(dia, 2) + '/' + zfill(mes, 2) + '/' + a√±o;\r\n};\r\nexport function formatoHora(fecha: string) {\r\n    let date = new Date(fecha);\r\n    let hora = date.getHours(),\r\n        minuto = date.getMinutes(),\r\n        segundo = date.getSeconds(),\r\n        turno = ' AM';\r\n    if (hora >= 12)\r\n        turno = ' PM'\r\n    if (hora > 12)\r\n        hora = hora - 12;\r\n    if (hora === 0)\r\n        hora = hora + 12;\r\n    return zfill(hora, 2) + \":\" + zfill(minuto, 2) + \":\" + zfill(segundo, 2) + turno;\r\n};\r\nexport function FormDataFotmat(o: any) {\r\n    const formData = new FormData();\r\n    Object.keys(o).forEach(key => {\r\n        switch (typeof o[key]) {\r\n            case 'object':\r\n                formData.append(key, JSON.stringify(o[key]));\r\n                break;\r\n            default:\r\n                formData.append(key, o[key]);\r\n        }\r\n    });\r\n    return formData;\r\n};\r\nexport function maskFormat(val: string, mask: string) {\r\n    let nval = '';\r\n    if (val.length > 0) {\r\n        mask.split('').forEach((m, i) => {\r\n            if (m === 'a') {\r\n                if (/[A-Za-z]/g.test(val[i])) {\r\n                    nval += val[i];\r\n                }\r\n            } else if (m === 'A') {\r\n                if (/[A-Za-z]/g.test(val[i])) {\r\n                    nval += val[i].toUpperCase();\r\n                }\r\n            } else if (m === '9') {\r\n                if (/[0-9]/g.test(val[i])) {\r\n                    nval += val[i];\r\n                }\r\n            } else if (m === '*') {\r\n                if (/[A-Za-z0-9]/g.test(val[i])) {\r\n                    nval += val[i];\r\n                }\r\n            } else if (val[i] !== undefined) {\r\n                if (nval.length === i)\r\n                    nval += m;\r\n            } else if (val[i] === undefined) {\r\n                if (m !== 'a' && m !== 'A' && m !== '9' && m !== '*')\r\n                    if (nval.length === i)\r\n                        nval += m;\r\n            }\r\n        });\r\n        return nval;\r\n    } else {\r\n        return '';\r\n    }\r\n};\r\nexport function post(url = '', obj = {}, success = (d: any) => { }, error = (d: any) => { }) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.responseType = 'json';\r\n    xhr.open(\"POST\", url);\r\n    xhr.onreadystatechange = (e) => {\r\n        if (xhr.readyState !== 4) {\r\n            return;\r\n        }\r\n        if (xhr.status === 200) {\r\n            success(xhr.response);\r\n        } else {\r\n            error(xhr);\r\n        }\r\n    };\r\n    xhr.send(FormDataFotmat(obj));\r\n};\r\nexport function getPreCache(url: string, setData: (d: any) => void) {\r\n    let dataCache = localStorage.getItem(url);\r\n    if (dataCache !== null)\r\n        setData(JSON.parse(dataCache));\r\n    fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setData(data);\r\n            if (dataCache !== JSON.stringify(data))\r\n                localStorage.setItem(url, JSON.stringify(data))\r\n        });\r\n}","import React from \"react\";\r\nimport { Button, Modal, Pagination, Row, Table } from \"react-bootstrap\";\r\nimport { busqueda, getPreCache, ordenarPor } from \"./Utiles\";\r\ninterface State<t, l> {\r\n    itens: t[] | 'carro'\r\n    buscar: string\r\n    page: number\r\n    ordenar: 'codigo' | l\r\n}\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void\r\n}\r\nexport default class ModalBusqueda<p, t, l> extends React.Component<Props & p, State<t, l>>{\r\n    placeholder = \"\";\r\n    mostrar = 8\r\n    buscarLabel: l[] = []\r\n    estatus: { label: string, value: number }[] = []\r\n    orden: string = \"desc\";\r\n    length = 0;\r\n    constructor(p: any) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        this.setBuscar = this.setBuscar.bind(this);\r\n        this.state = { itens: \"carro\", buscar: '', page: 1, ordenar: 'codigo' };\r\n    }\r\n    body() {\r\n        var page = this.state.page - 1\r\n        var init = page * this.mostrar\r\n        var fin = init + this.mostrar\r\n        var itens = this.filtros().filter((iten, index) => {\r\n            if (index >= init && index < fin) {\r\n                return true\r\n            }\r\n            return false\r\n        })\r\n        var pts = itens.map((iten) => {\r\n            return this.Row(iten)\r\n        })\r\n        return pts\r\n    }\r\n    paginacion() {\r\n        if (this.length === 0)\r\n            return <></>\r\n        var total_page = Math.ceil(this.length / this.mostrar)\r\n        var page = this.state.page\r\n        var buttons = []\r\n        if (page === 1) {\r\n            buttons.push(<Pagination.Item key=\"active1\" active>1</Pagination.Item>)\r\n        } else {\r\n            buttons.push(<Pagination.Item key=\"p1\" onClick={this.setpage.bind(this, 1)}>1</Pagination.Item>)\r\n        }\r\n        for (var i = 3; i > 0; i--) {\r\n            if ((page - i) > 1) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis1\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page - i)} onClick={this.setpage.bind(this, page - i)}>{page - i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (total_page > page && page > 1) {\r\n            buttons.push(<Pagination.Item active>{page}</Pagination.Item>)\r\n        }\r\n        for (i = 1; i < 4; i++) {\r\n            if ((page + i) < total_page) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis2\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page + i)} onClick={this.setpage.bind(this, page + i)}>{page + i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (page === total_page) {\r\n            if (1 !== total_page) {\r\n                buttons.push(<Pagination.Item key={\"active\" + total_page} active>{total_page}</Pagination.Item>)\r\n            }\r\n        } else {\r\n            buttons.push(<Pagination.Item key={\"p\" + total_page} onClick={this.setpage.bind(this, total_page)}>{total_page}</Pagination.Item>)\r\n        }\r\n        return buttons\r\n    }\r\n    pagination() {\r\n        return <Pagination style={{ position: \"relative\", float: \"right\" }}>{this.paginacion()}</Pagination>\r\n    }\r\n    setBuscar(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        this.setState({ buscar: value.toUpperCase() });\r\n        this.setpage(1)\r\n    }\r\n    setOrden(label: l) {\r\n        if (this.state.ordenar === label) {\r\n            if (this.orden === \"asc\")\r\n                this.orden = \"desc\";\r\n            else\r\n                this.orden = \"asc\";\r\n            this.forceUpdate();\r\n        } else {\r\n            this.orden = \"desc\";\r\n            this.setState({ ordenar: label })\r\n        }\r\n    }\r\n    flechas(label: l) {\r\n        if (this.state.ordenar === label) {\r\n            if (this.orden === \"desc\") {\r\n                return <i className=\"fa fa-arrow-down pull-right\" />\r\n            } else {\r\n                return <i className=\"fa fa-arrow-up pull-right\" />\r\n            }\r\n        }\r\n        return <></>\r\n    }\r\n    colorOrden(label: l) {\r\n        if (this.state.ordenar === label) {\r\n            return '#afd9ee'\r\n        }\r\n        return ''\r\n    }\r\n    filtros() {\r\n        let { itens, buscar, ordenar } = this.state;\r\n        if (itens !== 'carro') {\r\n            itens = busqueda(itens, buscar, this.buscarLabel);\r\n            itens = ordenarPor<l>(itens, this.orden, ordenar);\r\n            this.length = itens.length;\r\n            return itens;\r\n        }\r\n        return [];\r\n    }\r\n    render() {\r\n        return <Modal show={this.props.open} onHide={this.props.close} bsSize=\"lg\">\r\n            <Modal.Header closeButton>\r\n                {this.title()}\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    {this.renderBusqueda()}<br />\r\n                    <Row>\r\n                        <Table>\r\n                            <thead>\r\n                                {this.Header()}\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.body()}\r\n                            </tbody>\r\n                        </Table>\r\n                    </Row>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {this.pagination()}\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    title() {\r\n        return <></>;\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"input-group col-md-12\">\r\n                <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                <div className=\"input-group-append\">\r\n                    <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span> Buscar\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    Header() {\r\n        return <tr>\r\n        </tr>\r\n    }\r\n    Row(c: any) {\r\n        return <></>;\r\n    }\r\n    setpage(page: number) {\r\n        this.setState({ page })\r\n    }\r\n    setItens(itens: Array<any>) {\r\n        this.setState({ itens })\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    update(url: string) {\r\n        getPreCache(url, data => { this.setItens(data); });\r\n    }\r\n    set() {\r\n\r\n    }\r\n}","import React, { CSSProperties } from \"react\"\r\nimport { maskFormat, numberFormat } from \"./Utiles\"\r\n\r\ninterface Props {\r\n    id?: string\r\n    setData: (data: any) => void,\r\n    update: string\r\n    type?: \"number\" | \"password\" | \"date\" | 'textarea'\r\n    minValue?: number\r\n    maxLength?: number\r\n    value: string | number\r\n    step?: number | string\r\n    style?: CSSProperties\r\n    placeholder?: string\r\n    listLabel?: string\r\n    mask?: string\r\n    rows?: number\r\n}\r\ninterface State {\r\n    selected: boolean\r\n}\r\n\r\nexport default class SetText extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLInputElement>()\r\n    area = React.createRef<HTMLTextAreaElement>()\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { selected: false };\r\n    }\r\n    render() {\r\n        let { type, id, style, placeholder, listLabel, maxLength, value, rows } = this.props\r\n        if (type === 'textarea') {\r\n            return <textarea className='form-control' ref={this.area}\r\n                maxLength={maxLength} rows={rows ? rows : 5} id={id} style={style}\r\n                placeholder={placeholder} defaultValue={value}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onKeyUp={this.keyUp.bind(this)}\r\n                onFocus={this.onFocus.bind(this)} />\r\n        }\r\n        return <>\r\n            <input className='form-control' maxLength={maxLength}\r\n                id={id} list={listLabel} placeholder={placeholder} ref={this.ref}\r\n                defaultValue={this.getValue()}\r\n                {...this.getProps()}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onKeyUp={this.keyUp.bind(this)}\r\n                onFocus={this.onFocus.bind(this)} />\r\n        </>\r\n    }\r\n    stringValue() {\r\n        let input = this.ref.current ? this.ref.current : false;\r\n        if (input) {\r\n            let { setData, update } = this.props;\r\n            if (update !== undefined)\r\n                setData({ [update]: input.value.toUpperCase() });\r\n            input.value = input.value.toUpperCase();\r\n        } else {\r\n            let input = this.area.current ? this.area.current : false;\r\n            if (input) {\r\n                let { setData, update } = this.props;\r\n                if (update !== undefined)\r\n                    setData({ [update]: input.value.toUpperCase() });\r\n                input.value = input.value.toUpperCase();\r\n            }\r\n        }\r\n    }\r\n    numberValue() {\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { minValue, setData, update } = this.props,\r\n                r = (input.value === \"\") ? 0 : parseFloat(input.value);\r\n            if (minValue)\r\n                if (r < minValue)\r\n                    r = minValue;\r\n            if (update !== undefined)\r\n                setData({ [update]: r });\r\n        }\r\n    }\r\n    onBlur() {\r\n        this.setState({ selected: false })\r\n        let { type } = this.props\r\n        if (type === \"number\") {\r\n            this.numberValue();\r\n        } else {\r\n            this.stringValue();\r\n        }\r\n    }\r\n    keyUp(e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) {\r\n        let { update, setData, type, mask } = this.props\r\n        let { value } = e.currentTarget\r\n        if (type !== \"number\" && type !== 'password') {\r\n            let r = value.toUpperCase()\r\n            if (mask) {\r\n                if (e.keyCode !== 8) {\r\n                    r = maskFormat(r, mask);\r\n                }\r\n                if (update !== undefined)\r\n                    setData({ [update]: r })\r\n            }\r\n        }\r\n    }\r\n    onFocus() {\r\n        this.setState({ selected: true })\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { value } = this.props;\r\n            input.value = value + '';\r\n        }\r\n    }\r\n    getValue() {\r\n        let { value, type } = this.props;\r\n        if (type === 'number') {\r\n            let r = value as number;\r\n            return this.state.selected ? r : numberFormat(r);\r\n        }\r\n        let s = value as string\r\n        return s.toUpperCase();\r\n    }\r\n    getProps() {\r\n        let { type, step, style } = this.props\r\n        if (type === 'number') {\r\n            style = { ...style, textAlign: 'right' }\r\n            if (this.state.selected) {\r\n                return { step, minLength: 0, min: 0, type, style, defaultValue: this.getValue() };\r\n            }\r\n        }\r\n        if (this.state.selected) {\r\n            return { style, defaultValue: this.getValue() };\r\n        }\r\n        return { style, value: this.getValue() }\r\n    }\r\n}","\r\nimport React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport SetText from '../../../Utils/setTex'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles { }\r\nexport default class FilaEntrada extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 1, comentario: '' };\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo } = this.state\r\n        return <>\r\n            <tr>\r\n                <td>{codigo}</td>\r\n                <td>{descripcion}</td>\r\n                <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n                <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={precio} update=\"precio\" /></td>\r\n                <td>\r\n                    <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                        className=\"form-control\">{(precio * unidades).toFixed(2)}</span>\r\n                </td>\r\n                <td style={{ textAlign: 'right' }}>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"primary\" onClick={() => { this.props.add(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"glyphicon glyphicon-plus\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n\r\n\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\ninterface PropsFila {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n    color?: string\r\n}\r\nexport default class FilaSeleccion extends React.Component<PropsFila>{\r\n    render() {\r\n        let { producto: { codigo, descripcion } } = this.props\r\n        return <tr>\r\n            <th>{codigo}</th>\r\n            <th>{descripcion}</th>\r\n            <th>\r\n                <Button data-tip=\"Agregar Producto\" onClick={() => { this.props.add({ ...this.props.producto, unidades: 1, comentario: '', precio: 1 }) }} bsStyle=\"primary\">\r\n                    <i className=\"glyphicon glyphicon-plus\" />\r\n                </Button>\r\n            </th>\r\n        </tr >\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport SetText from '../../../Utils/setTex'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nexport default class FilaFactura extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        let { costo, precio1 } = p.producto;\r\n        this.state = {\r\n            ...p.producto,\r\n            unidades: 1,\r\n            comentario: '',\r\n            precio: (costo * (1 + precio1 / 100))\r\n        }\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, costo, precio1, precio2, precio3 } = this.state\r\n        return <tr>\r\n            <td>{codigo}</td>\r\n            <td>{descripcion}</td>\r\n            <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n            <td>\r\n                <SetText step='0.01' listLabel={costo + 'list'}\r\n                    minValue={costo * (1 + precio1 / 100)} type=\"number\"\r\n                    setData={this.setState} value={parseFloat(precio.toFixed(2))} update=\"precio\" />\r\n                <datalist id={costo + 'list'}>\r\n                    <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                </datalist>\r\n            </td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{(precio * unidades).toFixed(2)}</span>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n                <ButtonGroup>\r\n                    <Button bsStyle=\"primary\" onClick={() => { this.props.add(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                        <i className=\"glyphicon glyphicon-plus\"></i>\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </td>\r\n        </tr>\r\n    }\r\n}","import React from 'react';\r\nimport { Detalles } from '../../../Modelos/General';\r\nimport { Producto, productoLabel } from '../../../Modelos/Productos';\r\nimport ModalBusqueda from '../../../Utils/ModalBusqueda';\r\nimport FilaEntrada from './FilaEntrada';\r\nimport { filtro } from '../../../Utils/Utiles';\r\nimport FilaSeleccion from './FilaSeleccion';\r\nimport FilaFactura from './FilaFactura';\r\ninterface Props {\r\n    type: 'Cotizacion' | 'Compra' | 'Factura' | 'Nota' | 'Orden' | 'Salida' | 'Entrada' | 'Precio' | 'Seleccion'\r\n    add: (p: Detalles) => void\r\n}\r\nexport default class BuscarProducto extends ModalBusqueda<Props, Producto, productoLabel>{\r\n    buscarLabel: productoLabel[] = ['codigo', 'descripcion'];\r\n\r\n    title() {\r\n        return <h4>BUSCAR PRODUCTOS</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>CODIGO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"descripcion\") }} onClick={() => { this.setOrden(\"descripcion\") }}>DESCRIPCION {this.flechas(\"descripcion\")}</th>\r\n            {this.props.type !== 'Seleccion' ? <>\r\n                <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n            </> : <></>}\r\n            <th >ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: Producto) {\r\n        switch (this.props.type) {\r\n            case 'Seleccion':\r\n                return <FilaSeleccion key={c.codigo + c.descripcion} producto={c} add={this.props.add} />\r\n            case 'Entrada': case 'Compra': case 'Orden':\r\n                return <FilaEntrada key={c.codigo + c.descripcion} producto={c} add={this.props.add} />\r\n            case 'Nota': case 'Factura': case 'Cotizacion':\r\n                return <FilaFactura key={c.codigo + c.descripcion} producto={c} add={this.props.add} />\r\n        }\r\n        return <></>;\r\n    }\r\n    filtros() {\r\n        let { type } = this.props;\r\n        let itens = super.filtros();\r\n        itens = filtro(itens, 1, 'estatus');\r\n        if (type === 'Factura' || type === 'Nota')\r\n            itens = itens.filter(c => {\r\n                if (c.cantidad > 0) return true;\r\n                return false;\r\n            })\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Producto/lista');\r\n    }\r\n}","import React from 'react'\r\nimport { UsuarioFila } from '../../Modelos/Usuario';\r\nimport { getPreCache } from '../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n}\r\ninterface State {\r\n    usuarios: UsuarioFila[] | 'carro'\r\n}\r\nexport default class UsuarioSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { usuarios: 'carro' };\r\n    }\r\n    setUsers(c: UsuarioFila[]) {\r\n        this.setState({ usuarios: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>TODOS LOS USUARIOS</option>\r\n            {(this.state.usuarios !== 'carro') ? this.state.usuarios.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.nombre}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Usuario/lista', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Pagination, Panel, Row, Table } from \"react-bootstrap\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport BuscarProducto from \"../App/Productos/BuscarProducto\";\r\nimport UsuarioSelector from \"../App/Usuarios/Select\";\r\nimport { GeneralFila } from \"../Modelos/General\";\r\nimport { Producto } from \"../Modelos/Productos\";\r\nimport { filaLabel, busqueda, busquedaFechas, ordenarPor, filtrarProducto, filtro, getPreCache } from \"./Utiles\";\r\ninterface State {\r\n    itens: GeneralFila[] | \"carro\"\r\n    productos: Producto[]\r\n    modalProductos: boolean\r\n    buscar: string\r\n    fecha_ini: string\r\n    fecha_fin: string\r\n    user: number\r\n    estatus: number\r\n    page: number\r\n    open: boolean\r\n    ordenar: filaLabel\r\n}\r\nexport default class Tabla extends React.Component<any, State>{\r\n    placeholder = \"\";\r\n    mostrar = 10\r\n    buscarLabel: filaLabel[] = ['codigo', 'fecha', 'nombre']\r\n    estatus: { label: string, value: number }[] = []\r\n    orden: string = \"desc\";\r\n    length = 0;\r\n    constructor(p: any) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        this.setBuscar = this.setBuscar.bind(this);\r\n        this.state = { itens: \"carro\", productos: [], modalProductos: false, buscar: '', fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa', user: -1, estatus: -1, page: 1, open: false, ordenar: 'codigo' };\r\n    }\r\n    close() {\r\n        this.setState({ open: false })\r\n    }\r\n    body() {\r\n        var page = this.state.page - 1;\r\n        var init = page * this.mostrar;\r\n        var fin = init + this.mostrar;\r\n        var itens = this.filtros().filter((iten, index) => {\r\n            if (index >= init && index < fin) {\r\n                return true\r\n            }\r\n            return false\r\n        })\r\n        var pts = itens.map((iten) => {\r\n            return this.Row(iten)\r\n        })\r\n        return pts\r\n    }\r\n    paginacion() {\r\n        if (this.length === 0)\r\n            return <></>\r\n        var total_page = Math.ceil(this.length / this.mostrar)\r\n        var page = this.state.page\r\n        var buttons = []\r\n        if (page === 1) {\r\n            buttons.push(<Pagination.Item key=\"active1\" active>1</Pagination.Item>)\r\n        } else {\r\n            buttons.push(<Pagination.Item key=\"p1\" onClick={this.setpage.bind(this, 1)}>1</Pagination.Item>)\r\n        }\r\n        for (var i = 3; i > 0; i--) {\r\n            if ((page - i) > 1) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis1\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page - i)} onClick={this.setpage.bind(this, page - i)}>{page - i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (total_page > page && page > 1) {\r\n            buttons.push(<Pagination.Item active>{page}</Pagination.Item>)\r\n        }\r\n        for (i = 1; i < 4; i++) {\r\n            if ((page + i) < total_page) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis2\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page + i)} onClick={this.setpage.bind(this, page + i)}>{page + i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (page === total_page) {\r\n            if (1 !== total_page) {\r\n                buttons.push(<Pagination.Item key={\"active\" + total_page} active>{total_page}</Pagination.Item>)\r\n            }\r\n        } else {\r\n            buttons.push(<Pagination.Item key={\"p\" + total_page} onClick={this.setpage.bind(this, total_page)}>{total_page}</Pagination.Item>)\r\n        }\r\n        return buttons\r\n    }\r\n    pagination() {\r\n        return <Pagination style={{ position: \"relative\", float: \"right\" }}>{this.paginacion()}</Pagination>\r\n    }\r\n    setBuscar(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        this.setState({ buscar: value.toUpperCase() });\r\n        this.setpage(1)\r\n    }\r\n    setOrden(label: filaLabel | '') {\r\n        if (label !== '')\r\n            if (this.state.ordenar === label) {\r\n                if (this.orden === \"asc\")\r\n                    this.orden = \"desc\";\r\n                else\r\n                    this.orden = \"asc\";\r\n                this.forceUpdate();\r\n            } else {\r\n                this.orden = \"desc\";\r\n                this.setState({ ordenar: label })\r\n            }\r\n    }\r\n    flechas(label: filaLabel | '') {\r\n        if (this.state.ordenar === label) {\r\n            if (this.orden === \"desc\") {\r\n                return <i className=\"fa fa-arrow-up\" />\r\n            } else {\r\n                return <i className=\"fa fa-arrow-down\" />\r\n            }\r\n        }\r\n        return <></>\r\n    }\r\n    colorOrden(label: filaLabel | '') {\r\n        if (this.state.ordenar === label) {\r\n            return '#afd9ee'\r\n        }\r\n        return ''\r\n    }\r\n    filtros() {\r\n        let { itens, user, fecha_fin, fecha_ini, buscar, productos, estatus, ordenar } = this.state;\r\n        if (itens !== 'carro') {\r\n            itens = busqueda(itens, buscar, this.buscarLabel);\r\n            itens = busquedaFechas(itens, fecha_ini, fecha_fin);\r\n            itens = filtro(itens, user, 'usuario');\r\n            itens = filtro(itens, estatus, 'status');\r\n            itens = filtrarProducto(itens, productos);\r\n            itens = ordenarPor(itens, this.orden, ordenar);\r\n            this.length = itens.length;\r\n            return itens;\r\n        }\r\n        return [];\r\n    }\r\n    render() {\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <Panel.Heading>\r\n                {this.title()}\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <Panel.Body style={{ paddingTop: 0 }}>{this.renderBusqueda()}</Panel.Body>\r\n                <Panel.Collapse>\r\n                    <Panel><Panel.Body>{this.Avansado()}</Panel.Body></Panel>\r\n                </Panel.Collapse>\r\n                <Col md={12}>\r\n                    <Table striped condensed hover>\r\n                        <thead>\r\n                            {this.Header()}\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.body()}\r\n                        </tbody>\r\n                    </Table>\r\n                    {this.pagination()}\r\n                </Col>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    title() {\r\n        return <></>;\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <ReactTooltip />\r\n            <div className=\"input-group col-md-12\">\r\n                <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                <div className=\"input-group-append\">\r\n                    <Button style={{ width: '100px', position: 'relative', borderRadius: 0 }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span> Buscar\r\n                    </Button>\r\n                    <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} data-tip=\"BUSQUEDA AVANSADA\" onClick={() => { this.setState({ open: !this.state.open }) }}>\r\n                        <span className=\"glyphicon glyphicon-wrench\"></span> Avanzado\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    Avansado() {\r\n        return <Row className=\"form\">\r\n            <BuscarProducto type='Seleccion' open={this.state.modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n            <Col style={{ width: '525px', paddingLeft: 10 }} md={6}>\r\n                <div className=\"input-group\">\r\n                    <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">Rango de fechas</span>\r\n                    <input style={{ width: '160px', position: 'relative' }} className=\"form-control\" onChange={this.setFechaInicio.bind(this)} value={this.state.fecha_ini} name=\"fecha_ini\" type=\"date\" />\r\n                    <input style={{ width: '160px', position: 'relative' }} className=\"form-control\" onChange={this.setFechaFin.bind(this)} value={this.state.fecha_fin} name=\"fecha_fin\" type=\"date\" />\r\n                    <Button onClick={this.limpiarFechas.bind(this)} data-tip=\"LIMPIAR FECHAS\" style={{ width: '40px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"danger\"><i className=\"glyphicon glyphicon-ban-circle\"></i></Button>\r\n                </div>\r\n            </Col>\r\n            <Col style={{ width: '230px', paddingLeft: 0 }} md={2}>\r\n                <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={this.setStatus.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n                    <option value={-1}>TODOS LOS ESTADOS</option>\r\n                    {this.estatus.map(m => {\r\n                        return <option value={m.value}>{m.label}</option>\r\n                    })}\r\n                </select>\r\n            </Col>\r\n            <Col data-tip=\"FILTRAR POR USUARIO QUE REALIZO LA OPERACION\" style={{ width: '230px', paddingLeft: 0 }} md={3}>\r\n                <UsuarioSelector change={(u: number) => { this.setState({ user: u }) }} defaultValue={this.state.user} />\r\n            </Col>\r\n            <Col md={2}>\r\n                <Button data-tip=\"FILTRAR POR LOS PRODUCTOS SELECCIONADOS\" onClick={() => { this.setState({ modalProductos: true }) }}><span className=\"glyphicon glyphicon-search\"></span>Articulos a Buscar</Button>\r\n            </Col>\r\n            <Col md={12}>\r\n                <Table striped condensed hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={{ width: \"10%\" }} className=\"text-center\">CODIGO</th>\r\n                            <th style={{ width: \"80%\" }} >DESCRIPCION</th>\r\n                            <th style={{ width: \"10%\" }} >Quitar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.productos.map((iten) => {\r\n                            return (<tr>\r\n                                <td className=\"text-center\">{iten.codigo}</td>\r\n                                <td>{iten.descripcion}</td>\r\n                                <td className=\"text-center\">\r\n                                    <Button bsStyle=\"danger\" onClick={() => { this.removeProducto(iten.codigo) }}>\r\n                                        <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                                    </Button>\r\n                                </td>\r\n                            </tr>);\r\n                        })}\r\n                    </tbody>\r\n                </Table>\r\n            </Col>\r\n        </Row >\r\n    }\r\n    Header() {\r\n        let width = window.innerWidth - 890;\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ width: width + 'px', backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>CLIENTE {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"160px\", backgroundColor: this.colorOrden(\"monto\") }} onClick={() => { this.setOrden(\"monto\") }}>MONTO {this.flechas(\"monto\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: any) {\r\n        return <></>;\r\n    }\r\n    setpage(page: number) {\r\n        this.setState({ page })\r\n    }\r\n    setItens(itens: Array<any>) {\r\n        this.setState({ itens })\r\n    }\r\n    setStatus(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        let r = parseInt(value);\r\n        this.setState({ estatus: r });\r\n    }\r\n    setFechaInicio(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.setState({ fecha_ini: value });\r\n    }\r\n    setFechaFin(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.setState({ fecha_fin: value });\r\n    }\r\n    limpiarFechas() {\r\n        this.setState({ fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa' });\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ productos: [...this.state.productos, p] })\r\n    }\r\n    removeProducto(cod: String) {\r\n        this.setState({\r\n            productos: this.state.productos.filter(p => {\r\n                if (p.codigo === cod) return false;\r\n                return true;\r\n            })\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    update(url: string) {\r\n        getPreCache(url, data => { this.setItens(data); });\r\n    }\r\n    set() {\r\n\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, Row } from 'react-bootstrap';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    url: string,\r\n    title: string\r\n}\r\nexport default class ModalPrint extends React.Component<Props> {\r\n\r\n    render() {\r\n        let { title, close, url, open } = this.props;\r\n        return <Modal show={open} onHide={close} bsSize=\"lg\">\r\n            <Modal.Header  closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{title}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <iframe src={url} width='100%' height='600wh' title=\"print\" scrolling='no' frameBorder='0'></iframe>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n}","import React from 'react';\r\nimport { Button, ButtonGroup, Modal, Row } from 'react-bootstrap';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    title: string\r\n    msn: string\r\n    accion: () => void\r\n}\r\nexport default class ModalAlert extends React.Component<Props> {\r\n\r\n    render() {\r\n        let { title, close, msn, open, accion } = this.props;\r\n        return <Modal show={open} onHide={close}>\r\n            <Modal.Header closeButton style={{ backgroundColor: '#f7e1b5' }}>\r\n                <h4 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{title}</b></span>\r\n                </h4>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ backgroundColor: \"#faf2cc\" }}>\r\n                <Row style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    {msn}\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer style={{ backgroundColor: \"#f7e1b5\", borderBottomLeftRadius: '6px', borderBottomRightRadius: '6px' }}>\r\n                <ButtonGroup className=\"pull-right\">\r\n                    <Button onClick={accion} bsStyle=\"success\">\r\n                        <span className=\"glyphicon glyphicon-ok-circle\"></span> Aceptar\r\n                    </Button>\r\n                    <Button onClick={close} bsStyle=\"danger\">\r\n                        <span className=\"glyphicon glyphicon-remove-circle\"></span> Cancelar\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n}","import { Producto } from \"./Productos\";\r\nexport interface Detalles extends Producto {\r\n    unidades: number,\r\n    comentario: string,\r\n    precio: number,\r\n}\r\nexport interface GeneralFila {\r\n    codigo: number\r\n    fecha: string\r\n    nombre: string\r\n    telefono: string\r\n    correo: string,\r\n    contacto: string,\r\n    nota: string\r\n    tasa: number\r\n    monto: number\r\n    usuario: number\r\n    status: 0 | 1 | 2\r\n    detalles: string[]\r\n}\r\nexport interface GeneralData {\r\n    codigo: number,\r\n    nota: string,\r\n    fecha: string,\r\n    subtotal: number,\r\n    total: number,\r\n    impuesto: number,\r\n    detalles: Detalles[]\r\n}\r\nexport interface CondicionesData extends GeneralData {\r\n    forma_pago: string\r\n    tiempo_entrega: string\r\n    validez: string\r\n}\r\nexport var generalNull: GeneralData = {\r\n    codigo: 0,\r\n    nota: '',\r\n    fecha: '',\r\n    subtotal: 0,\r\n    total: 0,\r\n    impuesto: 0,\r\n    detalles: []\r\n}\r\nexport var condicionesNull: CondicionesData = {\r\n    ...generalNull,\r\n    forma_pago: '',\r\n    tiempo_entrega: '',\r\n    validez: '',\r\n}\r\n\r\nexport function getSubtotal(d: Detalles[]) {\r\n    let subtotal = 0;\r\n    d.forEach(e => {\r\n        let { precio, unidades } = e;\r\n        subtotal += precio * unidades;\r\n    })\r\n    return subtotal;\r\n}\r\nexport function getCosto(d: Detalles[]) {\r\n    let subtotal = 0;\r\n    d.forEach(e => {\r\n        let { costo, unidades } = e;\r\n        subtotal += costo * unidades;\r\n    })\r\n    return subtotal;\r\n}\r\nexport function sentDetalles(d: Detalles[]) {\r\n    return d.map(e => {\r\n        let { codigo, precio, unidades } = e;\r\n        return { codigo, precio, unidades };\r\n    })\r\n}\r\n\r\nexport type tipoData = 'Cotizacion' | 'Orden' | 'Nota' | 'Factura' | 'Compra';","import React from 'react'\r\nimport { Modal, Row, Table } from 'react-bootstrap';\r\nimport { GeneralData, generalNull, tipoData } from '../Modelos/General';\r\nimport { numberFormat } from './Utiles';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n    tipo: tipoData\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, GeneralData> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = generalNull;\r\n    }\r\n    render() {\r\n        let { detalles } = this.state;\r\n        let suma = 0;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal bsSize='lg' animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row style={{ padding: '0px 30px 0px 30px' }}>\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>CODE</th>\r\n                                <th>DESCRIPCION</th>\r\n                                <th style={{ width: \"40px\", textAlign: \"right\" }}>CANT</th>\r\n                                <th style={{ width: \"80px\", textAlign: \"right\" }}>PRE/UNT</th>\r\n                                <th style={{ width: \"150px\", textAlign: \"right\" }}>PRECIO</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                suma += s.precio * s.unidades\r\n                                return <tr>\r\n                                    <td style={{ width: \"100px\" }}>{s.codigo}</td>\r\n                                    <td>{s.descripcion}</td>\r\n                                    <td style={{ width: \"40px\" }}>{numberFormat(s.unidades)}</td>\r\n                                    <td style={{ width: \"80px\", textAlign: \"right\" }}>{numberFormat(s.precio)}</td>\r\n                                    <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(s.precio * s.unidades)}</td>\r\n                                </tr>\r\n                            })}\r\n                            <tr>\r\n                                <td colSpan={3}></td>\r\n                                <td style={{ width: \"80px\", textAlign: \"right\" }}><b>TOTAL:</b></td>\r\n                                <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(suma)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        fetch('/api/' + this.props.tipo + '/detalles/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState(data);\r\n                this.forceUpdate();\r\n            });\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { GeneralFila, tipoData } from '../Modelos/General';\r\nimport ModalPrint from './ModalPrint';\r\nimport ModalAlert from './ModalAlert';\r\nimport ModalDetalle from './ModalDetalle';\r\nimport { formatoFecha, numberFormat, zfill } from './Utiles';\r\n\r\ninterface Props {\r\n    data: GeneralFila\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    print: boolean\r\n    detalles: boolean\r\n    aux: boolean\r\n    eliminar: boolean\r\n}\r\nexport default class FilaProto extends React.Component<Props, State>{\r\n    Label: 'COTIZACI√ìN' | 'COMPRA' | 'FACTURA' | 'NOTA DE ENTREGA' | 'ORDEN DE COMPRA' = 'COTIZACI√ìN';\r\n    tipo: tipoData = 'Nota';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { print: false, detalles: false, aux: false, eliminar: false };\r\n    }\r\n    render() {\r\n        let cot = this.props.data,\r\n            maxWidth = window.innerWidth - 890;\r\n        return <tr >\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\" }}>\r\n                {this.tipo !== 'Cotizacion' ? <ModalDetalle\r\n                    tipo={this.tipo} titulo={\"DETALLES DE LA \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    id={cot.codigo} open={this.state.detalles} close={this.close.bind(this)}\r\n                /> : <></>}\r\n                <Button data-tip=\"VER DETALLEA\" onClick={() => { this.setState({ detalles: true }) }} bsStyle=\"link\" >\r\n                    {zfill(cot.codigo)}\r\n                </Button>\r\n            </th>\r\n            <th style={{ minWidth: \"90px\", maxWidth: \"90px\", paddingTop: 10 }}>{formatoFecha(cot.fecha)}</th>\r\n            <th>\r\n                <ReactTooltip />\r\n                <Button\r\n                    style={{ maxWidth, whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\" }}\r\n                    data-class=\"toolbody\" data-html=\"true\" data-tip={this.tooltipCliente()} bsStyle=\"link\" >\r\n                    {cot.nombre}\r\n                </Button>\r\n            </th>\r\n            <th style={{ minWidth: \"160px\", maxWidth: \"160px\", paddingTop: 10, textAlign: 'right' }}>{numberFormat(cot.monto)}</th>\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\", paddingTop: 5, fontSize: 17 }}>{this.getStatus()}</th>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                <ModalPrint title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    url={\"/api/\" + this.tipo + \"/PDF/\" + cot.codigo}\r\n                    open={this.state.print} close={this.close.bind(this)} />\r\n                <ModalAlert title={\"ELIMINAR \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    msn={\"ESTA SEGURO QUE ELIMINARA LA \" + this.Label + \" N¬∞\" + cot.codigo + \"?\"}\r\n                    open={this.state.eliminar} close={this.close.bind(this)} accion={this.cancelar.bind(this)} />\r\n                {this.getModal()}\r\n                {this.getButtons()}\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        return <></>;\r\n    }\r\n    getStatus() {\r\n        return <span className=\"label label-danger\">CANCELADA</span>\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    tooltipCliente() {\r\n        let cot = this.props.data\r\n        return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n            \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n            cot.contacto + \"<br />\" +\r\n            \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n            cot.correo + \"<br />\" +\r\n            \"<b>TELEFONO:</b><br />\" +\r\n            cot.telefono\r\n    }\r\n    close() {\r\n        this.setState({ print: false, detalles: false, aux: false, eliminar: false });\r\n    }\r\n    cancelar() {\r\n        fetch(\"/api/\" + this.tipo + \"/cancelar/\" + this.props.data.codigo)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 1)\r\n                    if (this.props.update)\r\n                        this.props.update()\r\n                this.close();\r\n            });\r\n    }\r\n}","import React from 'react'\r\nimport { Table, Modal, Row, Button, Col } from 'react-bootstrap';\r\nimport { formatoFecha, formatoHora, post } from './Utiles';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    id: number,\r\n    type: 'Cotizacion' | 'Orden'\r\n}\r\ninterface Seguimiento {\r\n    descripcion: string,\r\n    usuario: string,\r\n    fecha: string,\r\n    correo: string\r\n}\r\ninterface State {\r\n    mensajes: Seguimiento[],\r\n    msn: string\r\n}\r\nclass FilaSeguimiento extends React.Component<{ seguimiento: Seguimiento }> {\r\n    render() {\r\n        let { descripcion, usuario, fecha, correo } = this.props.seguimiento;\r\n        return <tr>\r\n            <th style={{ width: \"300px\", maxWidth: \"300px\" }}>\r\n                {usuario}<br />{correo}\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {formatoFecha(fecha)}<br />\r\n                {formatoHora(fecha)}\r\n            </th>\r\n            <th>\r\n                {descripcion}\r\n            </th>\r\n        </tr>\r\n    }\r\n}\r\nexport default class Seguimientos extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLDivElement>()\r\n    msn: any = undefined\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { msn: \"\", mensajes: [] };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { mensajes } = this.state\r\n        return <Modal bsSize=\"lg\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header  style={{ color: '#31708f', backgroundColor: '#d9edf7', borderTopLeftRadius: '6px', borderTopRightRadius: '6px' }}>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>BITACORA DE COTIZACI√ìN N¬∞ {this.props.id}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <Table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{ width: \"300px\" }}>USUARIO</th>\r\n                                    <th style={{ width: \"100px\" }}>FECHA</th>\r\n                                    <th>MENSAJE</th>\r\n                                </tr>\r\n                            </thead>\r\n                        </Table>\r\n                        <div ref={this.ref} style={{ overflowY: \"auto\", height: 400, maxHeight: 400, width: \"100%\" }}>\r\n                            <Table>\r\n                                <tbody>\r\n                                    {mensajes.map((s, i) => {\r\n                                        return <FilaSeguimiento key={s.usuario + i} seguimiento={s} />\r\n                                    })}\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xs={12}>\r\n                        <Col xs={12} className=\"input-group\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">Mensaje</span>\r\n                            <input style={{ position: 'relative', width: \"calc(100% - 140px)\" }} onKeyUp={this.setMsn.bind(this)} defaultValue={this.state.msn} className=\"form-control\" />\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={this.enviar.bind(this)}>\r\n                                <span className=\"glyphicon glyphicon-send\"></span>\r\n                            </Button>\r\n                        </Col>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    setMsn(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        if (this.msn === undefined)\r\n            this.msn = e.currentTarget\r\n        this.setState({ msn: value })\r\n        if (e.keyCode === 13) {\r\n            this.enviar()\r\n        }\r\n    }\r\n    enviar() {\r\n        this.sent();\r\n        let m = this.state.mensajes,\r\n            date = new Date().toDateString();\r\n        let fecha = formatoFecha(date) + \" \" + formatoHora(date);\r\n        this.setState({\r\n            mensajes: [...m, {\r\n                descripcion: this.state.msn,\r\n                fecha, usuario: \"\", correo: \"\"\r\n            }]\r\n        })\r\n        this.clear()\r\n    }\r\n    clear() {\r\n        if (this.msn !== undefined)\r\n            this.msn.value = ''\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    sent() {\r\n        post('/api/' + this.props.type + '/seguimiento_nuevo/' + this.props.id,\r\n            { descripcion: this.state.msn },\r\n            data => { this.set(); });\r\n    }\r\n    set() {\r\n        fetch('/api/' + this.props.type + '/seguimiento/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({ mensajes: data })\r\n            });\r\n    }\r\n}","import React from 'react'\r\nimport { Modal, Row, Table } from 'react-bootstrap';\r\nimport { GeneralData, generalNull } from '../../Modelos/General';\r\nimport { numberFormat } from '../../Utils/Utiles';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, GeneralData> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = generalNull;\r\n    }\r\n    render() {\r\n        let { detalles } = this.state;\r\n        let suma = 0;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal dialogClassName=\"modal-detalle\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header  closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>CODE</th>\r\n                                <th>DESCRIPCION</th>\r\n                                <th style={{ width: \"40px\", textAlign: \"right\" }}>CANT</th>\r\n                                <th style={{ width: \"80px\", textAlign: \"right\" }}>PRE/UNT</th>\r\n                                <th style={{ width: \"150px\", textAlign: \"right\" }}>PRECIO</th>\r\n                                <th>NOTA</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                suma += s.precio * s.unidades\r\n                                return <tr>\r\n                                    <td style={{ width: \"100px\" }}>{s.codigo}</td>\r\n                                    <td>{s.descripcion}</td>\r\n                                    <td style={{ width: \"40px\" }}>{numberFormat(s.unidades)}</td>\r\n                                    <td style={{ width: \"80px\", textAlign: \"right\" }}>{numberFormat(s.precio)}</td>\r\n                                    <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(s.precio * s.unidades)}</td>\r\n                                    <td>{s.comentario}</td>\r\n                                </tr>\r\n                            })}\r\n                            <tr>\r\n                                <td colSpan={3}></td>\r\n                                <td style={{ width: \"80px\", textAlign: \"right\" }}>total:</td>\r\n                                <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(suma)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        fetch('/api/Cotizacion/detalles/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState(data);\r\n                this.forceUpdate();\r\n            });\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\nimport Seguimientos from '../../Utils/Seguimiento';\r\nimport { zfill } from '../../Utils/Utiles';\r\nimport ModalDetalle from './ModalDetalle';\r\n\r\nexport default class FilaCotizacio extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'COTIZACI√ìN';\r\n        this.tipo = 'Cotizacion';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <Seguimientos\r\n                type='Cotizacion'\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n            <ModalDetalle\r\n                titulo={\"DETALLES DE LA COTIZACI√ìN N¬∞ \" + zfill(codigo)}\r\n                id={codigo}\r\n                open={this.state.detalles}\r\n                close={this.close.bind(this)} />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 1:\r\n                return <span className=\"label label-warning\">PENDIENTE</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">PROCESADA</span>\r\n            default:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER SEGUIMIENTO\"\r\n                onClick={() => { this.setState({ aux: true }) }} >\r\n                <i className=\"glyphicon glyphicon-eye-open\"></i>\r\n            </Button>\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaCotizacion from './FilaCotizacio'\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListCotizaciones extends Tabla {\r\n    placeholder = \"BUSCAR COTIZACI√ìN\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'PENDIENTE' }, { value: 2, label: 'PROCESADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_cotizacion\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> Nueva Cotizaci√≥n</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> Buscar Cotizaciones</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaCotizacion update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    set() {\r\n        this.update('/api/Cotizacion/lista');\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\n\r\nexport default class FilaFactura extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'FACTURA';\r\n        this.tipo = 'Factura';\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 2) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.status === 2)\r\n            return <span className=\"label label-success\">FACTURADA</span>\r\n        return <span className=\"label label-danger\">CANCELADA</span>;\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaFactura from './FilaFactura';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListFactura extends Tabla {\r\n    placeholder = \"BUSCAR COTIZACI√ìN\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 2, label: 'PROCESADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_factura\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> Nueva Factura</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> Buscar Factura</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaFactura update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    set() {\r\n        this.update('/api/Factura/lista');\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport FilaProto from '../../Utils/FilaProto';\r\n\r\nexport default class FilaNota extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'NOTA DE ENTREGA';\r\n        this.tipo = 'Nota';\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">ENTREGADO</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">FACTURADA</span>\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaNota from './FilaNota';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListNotas extends Tabla {\r\n    placeholder = \"BUSCAR NOTA DE ENTREGA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'ENTREGADA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_nota\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span>NUEVA NOTA DE ENTREGA</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR NOTA DE ENTREGA</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaNota update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    set() {\r\n        this.update('/api/Nota/lista');\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\nimport Seguimientos from '../../Utils/Seguimiento';\r\n\r\nexport default class FilaOrden extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'ORDEN DE COMPRA';\r\n        this.tipo = 'Orden';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <Seguimientos\r\n                type='Orden'\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">EN ESPERA</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">PROCESADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER SEGUIMIENTO\"\r\n                onClick={() => { this.setState({ aux: true }) }} >\r\n                <i className=\"glyphicon glyphicon-eye-open\"></i>\r\n            </Button>\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaOrden from './FilaOrden';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListOrdenes extends Tabla {\r\n    placeholder = \"BUSCAR ORDEN DE COMPRA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'EN ESPERA' }, { value: 2, label: 'PROCESADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_orden\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> NUEVA ORDEN DE COMPRA</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR ORDEN DE COMPRA</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaOrden update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    Header() {\r\n        let width = window.innerWidth - 890;\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ width: width + 'px', backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>PROVEEDOR {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"160px\", backgroundColor: this.colorOrden(\"monto\") }} onClick={() => { this.setOrden(\"monto\") }}>MONTO {this.flechas(\"monto\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    set() {\r\n        this.update('/api/Orden/lista');\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Button, ButtonGroup, Modal, Row } from 'react-bootstrap';\r\nimport SetText from '../../Utils/setTex';\r\nimport { post, zfill } from '../../Utils/Utiles';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void\r\n    id: number\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    cod_doc: string\r\n    num_con: string\r\n    fecha_doc: string\r\n}\r\nexport default class RegistrarFactura extends React.Component<Props, State> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { cod_doc: \"\", num_con: \"\", fecha_doc: \"\" };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { props: { close, open, id }, state: { cod_doc, num_con, fecha_doc }, setState } = this;\r\n        return <Modal bsSize=\"lg\" show={open} onHide={close}>\r\n            <Modal.Header>\r\n                <h4 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>REGISTRAR FACTURA DE COMPRA N¬∞: {zfill(id)}</b></span>\r\n                </h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    <div className=\"form-group col-sm-12\">\r\n                        <div className=\"col-sm-4\">\r\n                            <SetText placeholder=\"Codigo de Documento\" setData={setState} update=\"cod_doc\" value={cod_doc} />\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <SetText placeholder=\"Numero de Comtrol\" setData={setState} update=\"num_con\" value={num_con} />\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <SetText placeholder=\"Fecha de Documento\" type=\"date\" setData={setState} update=\"fecha_doc\" value={fecha_doc} />\r\n                        </div>\r\n                    </div>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <ButtonGroup className=\"pull-right\">\r\n                    <Button onClick={this.actualizar.bind(this)} bsStyle=\"success\">\r\n                        <span className=\"glyphicon glyphicon-ok-circle\"></span> Aceptar\r\n                    </Button>\r\n                    <Button onClick={close} bsStyle=\"danger\">\r\n                        <span className=\"glyphicon glyphicon-remove-circle\"></span> Cancelar\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Modal.Footer>\r\n        </Modal >\r\n    }\r\n    actualizar() {\r\n        post(\"/api/Compra/facturar/\" + this.props.id, this.state, data => { if (this.props.update) this.props.update() });\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\nimport RegistrarFactura from './RegistrarFactura';\r\n\r\nexport default class FilaCompra extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'COMPRA';\r\n        this.tipo = 'Compra';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <RegistrarFactura\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">SIN FACTURA</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">FACTURADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"REGISTAR FACTURA\"\r\n                    onClick={() => { this.setState({ aux: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-pencil\"></i>\r\n                </Button> : <></>}\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status > 0) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaCompra from './FilaCompra';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListConpra  extends Tabla {\r\n    placeholder = \"BUSCAR COMPRA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'SIN FACTURA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_compra\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> NUEVA COMPRA</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR COMPRA</h4>\r\n        </>\r\n    }\r\n    Header() {\r\n        let width = window.innerWidth - 890;\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ width: width + 'px', backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>PROVEEDOR {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"160px\", backgroundColor: this.colorOrden(\"monto\") }} onClick={() => { this.setOrden(\"monto\") }}>MONTO {this.flechas(\"monto\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaCompra update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p}  />\r\n    }\r\n    set() {\r\n        this.update('/api/Compra/lista');\r\n    }\r\n}\r\n","import { sentDetalles, getSubtotal, condicionesNull, CondicionesData, GeneralData } from \"./General\";\r\nvar dataNull = {\r\n    ...condicionesNull,\r\n    cod_proveedor: '',\r\n\r\n}\r\nexport interface Orden extends CondicionesData {\r\n    cod_proveedor: string\r\n}\r\nexport function sentOrden(e: Orden, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_proveedor, validez, tiempo_entrega, forma_pago, nota } = e;\r\n    return {\r\n        cod_proveedor,\r\n        validez,\r\n        tiempo_entrega,\r\n        forma_pago,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport var ordenNull: Orden = dataNull;\r\nexport interface Compra extends GeneralData {\r\n    cod_proveedor: string\r\n    id_orden: number\r\n    cod_documento: string\r\n    cod_nota: string\r\n    nun_control: string\r\n    fecha_documento: string\r\n}\r\nexport function sentCompra(e: Compra, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_proveedor, nota, cod_documento, nun_control, fecha_documento, id_orden } = e;\r\n    return {\r\n        id_orden,\r\n        cod_proveedor,\r\n        cod_documento,\r\n        nun_control,\r\n        fecha_documento,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport var compraNull: Compra = {\r\n    ...dataNull,\r\n    id_orden: 0,\r\n    cod_documento: '',\r\n    cod_nota: '',\r\n    nun_control: '',\r\n    fecha_documento: '',\r\n}","import React from 'react'\r\nimport { Button, ButtonGroup } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify';\r\nimport ModalAlert from './ModalAlert';\r\n\r\ninterface Props {\r\n    Identificador: string,\r\n    data: any\r\n    setData: (d: any) => void\r\n}\r\ninterface State {\r\n    warning: boolean\r\n    msnWarnig: string\r\n    accion: () => void\r\n}\r\nexport default class CacheStorage extends React.Component<Props, State> {\r\n    borrarCache = false;\r\n    state = { warning: false, msnWarnig: '', accion: () => { } };\r\n    render() {\r\n        let { warning, msnWarnig, accion } = this.state;\r\n        return <ButtonGroup>\r\n            <Button bsStyle=\"info\" onClick={this.guardarCache.bind(this)} data-tip=\"GUARDAR EN CACHE\">\r\n                <span className=\"glyphicon glyphicon-save-file\"></span>\r\n            </Button>\r\n            <ModalAlert open={warning} msn={msnWarnig} accion={accion} title='¬°PRECAUCION!' close={this.close.bind(this)} />\r\n            <Button bsStyle=\"warning\" onClick={this.cargarCache.bind(this)} data-tip=\"CARGAR DESDE CACHE\">\r\n                <span className=\"glyphicon glyphicon-open-file\" />\r\n            </Button>\r\n        </ButtonGroup>\r\n    }\r\n    guardarCache() {\r\n        let dataCache = localStorage.getItem('guardar' + this.props.Identificador);\r\n        if (dataCache !== null)\r\n            this.setState({\r\n                accion: () => {\r\n                    localStorage.setItem('guardar' + this.props.Identificador, JSON.stringify(this.props.data))\r\n                    this.borrarCache = false;\r\n                    toast(\"DATOS GUARDADOS\", { type: toast.TYPE.SUCCESS })\r\n                },\r\n                warning: true,\r\n                msnWarnig: '¬°YA HAY DATOS GUARDADOS EN LA CACHE! ¬øSEGURO QUE DESEA SOBREESCRIBIR CON LOS DATOS GUARDADOS CON LOS ACTUALES?'\r\n            })\r\n        else\r\n            localStorage.setItem('guardar' + this.props.Identificador, JSON.stringify(this.props.data))\r\n\r\n    }\r\n    cargarCache() {\r\n        let dataCache = localStorage.getItem('guardar' + this.props.Identificador);\r\n        if (dataCache !== null)\r\n            this.setState({\r\n                accion: () => {\r\n                    if (dataCache !== null)\r\n                        this.props.setData(JSON.parse(dataCache))\r\n                    this.borrarCache = true;\r\n                    toast(\"DATOS CARGADOS\", { type: toast.TYPE.SUCCESS })\r\n                },\r\n                warning: true,\r\n                msnWarnig: '¬øSEGURO QUE DESEA SOBREESCRIBIR CON LOS DATOS ACTUALES CON LOS GUARDADOS?'\r\n            })\r\n        else\r\n            toast(\"NO Hay DATOS GUARDADOS\", { type: toast.TYPE.ERROR })\r\n    }\r\n    close() {\r\n        this.setState({ warning: false });\r\n    }\r\n}","import React from \"react\"\r\nimport { CSSProperties } from \"react\";\r\nimport { InputGroup } from \"react-bootstrap\"\r\nimport { maskFormat, numberFormat } from './Utiles';\r\ninterface Props {\r\n    setData: (data: any) => void,\r\n    label?: string\r\n    widthLabel?: number\r\n    widthAfter?: number\r\n    update: string\r\n    type?: \"number\" | \"password\" | 'date'\r\n    value: string | number\r\n    maxLength?: number\r\n    minValue?: number\r\n    valid?: boolean\r\n    validMsn?: string\r\n    step?: string\r\n    after?: string\r\n    mask?: string\r\n    placeholder?: string\r\n}\r\ninterface State {\r\n    selected: boolean\r\n}\r\nexport default class InputText extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLInputElement>()\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { selected: false };\r\n    }\r\n    render() {\r\n        let { widthLabel, widthAfter, maxLength, placeholder, type } = this.props\r\n        let style: CSSProperties = { textAlign: (type === 'number') ? 'right' : undefined }\r\n        let l = 0\r\n        if (widthLabel) l += widthLabel;\r\n        if (widthAfter) l += widthAfter;\r\n        style = { width: 'calc(100% - ' + l + 'px)', ...style }\r\n        return <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n            {this.label()}\r\n            <input className='form-control' maxLength={maxLength} placeholder={placeholder}\r\n                defaultValue={this.getValue()} ref={this.ref} style={style}\r\n                {...this.getProps()}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onKeyUp={this.keyUp.bind(this)}\r\n                onFocus={this.onFocus.bind(this)}\r\n            />\r\n            {this.after()}\r\n        </InputGroup>\r\n    }\r\n    label() {\r\n        let { label, widthLabel } = this.props\r\n        if (label !== undefined)\r\n            return <span style={{ width: widthLabel, position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{label}</span>\r\n        return <></>\r\n    }\r\n    after() {\r\n        let { after, widthAfter } = this.props\r\n        if (after !== undefined)\r\n            return <span style={{ width: widthAfter, position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{after}</span>\r\n        return <></>\r\n    }\r\n    stringValue() {\r\n        let input = this.ref.current ? this.ref.current : false;\r\n        if (input) {\r\n            let { setData, update } = this.props;\r\n            if (update !== undefined)\r\n                setData({ [update]: input.value.toUpperCase() });\r\n            input.value = input.value.toUpperCase();\r\n        }\r\n    }\r\n    numberValue() {\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { minValue, setData, update } = this.props,\r\n                r = (input.value === \"\") ? 0 : parseFloat(input.value);\r\n            if (minValue)\r\n                if (r < minValue)\r\n                    r = minValue;\r\n            if (update !== undefined)\r\n                setData({ [update]: r });\r\n        }\r\n    }\r\n    onBlur() {\r\n        this.setState({ selected: false })\r\n        let { type } = this.props\r\n        if (type === \"number\") {\r\n            this.numberValue();\r\n        } else {\r\n            this.stringValue();\r\n        }\r\n    }\r\n    keyUp(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { update, setData, type, mask } = this.props\r\n        let { value } = e.currentTarget\r\n        if (type !== \"number\" && type !== 'password') {\r\n            let r = value.toUpperCase()\r\n            if (mask) {\r\n                if (e.keyCode !== 8) {\r\n                    r = maskFormat(r, mask);\r\n                    e.currentTarget.value = r;\r\n                }\r\n                if (update !== undefined)\r\n                    setData({ [update]: r })\r\n            }\r\n        }\r\n    }\r\n    onFocus() {\r\n        this.setState({ selected: true })\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { value } = this.props;\r\n            input.value = value + '';\r\n        }\r\n    }\r\n    getValue() {\r\n        let { value, type } = this.props;\r\n        if (type === 'number') {\r\n            let r = value as number;\r\n            return this.state.selected ? r : numberFormat(r);\r\n        }\r\n        let s = value as string\r\n        return s.toUpperCase();\r\n    }\r\n    getProps() {\r\n        let { type, step } = this.props\r\n        if (type === 'number') {\r\n            if (this.state.selected) {\r\n                return { step, minLength: 0, min: 0, type, defaultValue: this.getValue() };\r\n            }\r\n        }\r\n        if (this.state.selected) {\r\n            return { type, defaultValue: this.getValue() };\r\n        }\r\n        return { type, value: this.getValue() }\r\n    }\r\n\r\n}","import Proveedor, { ProveedorNull } from \"./Proveedor\";\r\nexport type ClienteLabel = 'codigo' | 'nombre' | 'telefono' | 'correo' | 'contacto' | 'direccion' | 'estatus' | 'tipo_contribuyente' | 'retencion'\r\nexport default interface Cliente extends Proveedor {\r\n    tipo_contribuyente: string,\r\n    retencion: number\r\n}\r\nexport var ClienteNull: Cliente = {\r\n    ...ProveedorNull,\r\n    tipo_contribuyente: \"ORDINARIO\",\r\n    retencion: 0\r\n}","export default interface Proveedor {\r\n    codigo: string\r\n    nombre: string\r\n    telefono: string\r\n    correo: string\r\n    contacto: string\r\n    direccion: string\r\n    estatus: number\r\n}\r\nexport var ProveedorNull: Proveedor = {\r\n    codigo: \"\",\r\n    nombre: \"\",\r\n    telefono: \"\",\r\n    correo: \"\",\r\n    contacto: \"\",\r\n    direccion: \"\",\r\n    estatus: 1\r\n}\r\n","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormControl } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport Cliente, { ClienteNull } from '../../Modelos/Cliente'\r\nimport Proveedor from '../../Modelos/Proveedor'\r\nimport InputText from '../../Utils/InputText'\r\nimport SetText from '../../Utils/setTex'\r\nimport { post } from '../../Utils/Utiles'\r\ninterface Props {\r\n    open: boolean\r\n    cliente: Cliente | Proveedor | null\r\n    type: 'Cliente' | 'Proveedor'\r\n    title: string\r\n    close: () => void\r\n    add?: (c: Cliente) => void\r\n}\r\nexport default class FormCliente extends React.Component<Props, Cliente | Proveedor> {\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        if (p.cliente !== null)\r\n            this.state = p.cliente\r\n        else\r\n            this.state = ClienteNull;\r\n    }\r\n\r\n    render() {\r\n        let { setState, state } = this\r\n        return <Modal animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h4>{this.props.title}</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        {this.inputCodeMode()}\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder=\"AILANTHUS SISTEMS C.A.\" widthLabel={150} label=\"RASON SOCIAL\" maxLength={150}\r\n                            value={state.nombre} setData={setState} update=\"nombre\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder=\"VENTAS@AILANTHUS-SISTEMS.COM\" widthLabel={100} label=\"CORREO\" maxLength={150}\r\n                            value={state.correo} setData={setState} update=\"correo\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder='(58) 251-2378406 (TELEFAX) / 4826705, (58) 414-5088735 / 416-6506831' maxLength={120}\r\n                            widthLabel={100} label=\"TEL√âFONO\" value={state.telefono} setData={setState} update=\"telefono\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder='ARMANDO SULBARAN' widthLabel={200} label=\"PERSONA DE CONTACTO\"\r\n                            maxLength={50} value={state.contacto} setData={setState} update=\"contacto\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <b>DIRECCION</b>\r\n                        <SetText placeholder='CARRERA 4, ESQUINA CALLE 18, ZONA INDUSTIAL I, GALPON MANPEG, PISO. 1 OFC.2 Y 3, BARQUISIMETO, ESTADO LARA.'\r\n                            value={state.direccion} setData={setState} update=\"direccion\" type='textarea' maxLength={300} />\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"pull-right\" onClick={this.get.bind(this)} bsStyle=\"primary\">\r\n                    <span className=\"glyphicon glyphicon-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    isInvalid(s: string) {\r\n        if (s === \"\")\r\n            return true\r\n        return false\r\n    }\r\n    inputCodeMode() {\r\n        let { setState, state } = this\r\n        if (this.props.cliente !== null)\r\n            return <InputGroup className=\"mb-3\">\r\n                <span style={{ width: '5px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">RIF</span>\r\n                <FormControl disabled defaultValue={state.codigo} />\r\n            </InputGroup>\r\n        return <InputText mask='A-99999999-9' placeholder=\"_-________-_\" widthLabel={50} maxLength={20}\r\n            label=\"RIF\" value={state.codigo} setData={setState} update=\"codigo\" />\r\n    }\r\n    get() {\r\n        if (this.state.codigo === \"\") {\r\n            toast('DEBE COLOCAR EL DOCUMENTO LEGAL DEL CLIENTE', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.nombre === \"\") {\r\n            toast('DEBE COLOCAR EL RASON SOCIAL', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.codigo === \"\") {\r\n            toast('DEBE COLOCAR UN CORREO', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.direccion === \"\") {\r\n            toast('DEBE COLOCAR UNA DIRECCION', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.contacto === \"\") {\r\n            toast('DEBE COLOCAR LA PERSONA DE CONTACTO', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            if (this.props.cliente === null) {\r\n                this.create()\r\n            } else {\r\n                this.update()\r\n            }\r\n        }\r\n    }\r\n\r\n    async update() {\r\n        this.props.close()\r\n    }\r\n\r\n    async create() {\r\n        post('api/' + this.props.type + '/nuevo',\r\n            this.state, data => {\r\n                if (this.props.add)\r\n                    this.props.add(data)\r\n                this.props.close()\r\n            })\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react'\r\nimport { Row, Col, Button, InputGroup, ButtonGroup, Panel } from 'react-bootstrap'\r\nimport FormCliente from './FormCliente'\r\nimport Cliente, { ClienteNull } from '../../Modelos/Cliente'\r\nimport { busqueda, getPreCache } from '../../Utils/Utiles'\r\ninterface Props {\r\n    type: 'Cliente' | 'Proveedor'\r\n    Cliente: string\r\n    add: (Cliente: string) => void\r\n}\r\ninterface State {\r\n    lista: Cliente[]\r\n    cliente: Cliente\r\n    buscarNumbre: string\r\n    buscarCodigo: string\r\n    nuevoCliente: boolean\r\n    open: boolean\r\n}\r\nexport default class ClienteSelector extends React.Component<Props, State> {\r\n    nombre = React.createRef<HTMLInputElement>();\r\n    codigo = React.createRef<HTMLInputElement>();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { nuevoCliente: false,  open: false, lista: [], cliente: ClienteNull, buscarCodigo: '', buscarNumbre: '' }\r\n    }\r\n    render() {\r\n        const { state: { nuevoCliente,  lista, open, cliente, buscarCodigo, buscarNumbre }, props: { type } } = this\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={open}>\r\n            <FormCliente type={type} cliente={null} title={\"NUEVO \" + this.getLabel()} open={nuevoCliente} add={this.seleccion.bind(this)} close={this.close.bind(this)} />\r\n            <Panel.Body>\r\n                <Row><Col xs={12}><h4><b>DATOS DEL {this.getLabel()}</b></h4></Col></Row>\r\n                <Row>\r\n                    <Col style={{ width: '30%' }} xs={4}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '50px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">RIF</span>\r\n                            <input style={{ width: 'calc(100% - 60px)', position: 'relative' }} list=\"inputCodigo\" className=\"form-control\"\r\n                                ref={this.codigo}\r\n                                onKeyUp={this.limpiarCodigo.bind(this)}\r\n                                onChange={this.setBuscarCodigo.bind(this)}\r\n                                defaultValue={buscarCodigo} />\r\n                        </InputGroup>\r\n                        <datalist id=\"inputCodigo\">\r\n                            {this.getList(busqueda(lista, buscarCodigo, ['codigo']), 'codigo')}\r\n                        </datalist>\r\n                    </Col>\r\n                    <Col style={{ width: 'calc(70% - 120px)' }} xs={6}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">NOMBRE</span>\r\n                            <input style={{ width: 'calc(100% - 100px)' }} list=\"inputNombre\" className=\"form-control\"\r\n                                ref={this.nombre}\r\n                                onKeyUp={this.limpiarNombre.bind(this)}\r\n                                onChange={this.setBuscarNombre.bind(this)}\r\n                                defaultValue={buscarNumbre} />\r\n                        </InputGroup>\r\n                        <datalist id=\"inputNombre\">\r\n                            {this.getList(busqueda(lista, buscarCodigo, ['nombre']), 'nombre')}\r\n                        </datalist>\r\n                    </Col>\r\n                    <Col style={{ width: \"110px\" }} xs={2}>\r\n                        <ButtonGroup className=\"float-right\">\r\n                            <Button data-tip=\"VER MAS\" onClick={() => { this.setState({ open: !open }) }}>\r\n                                <i className=\"glyphicon glyphicon-eye-open\"></i>\r\n                            </Button>\r\n                            <Button data-tip={\"NUEVO \" + this.getLabel()} onClick={() => { this.setState({ nuevoCliente: true }) }} bsStyle=\"info\">\r\n                                <i className=\"glyphicon glyphicon-edit\"></i>\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                </Row>\r\n                <Panel.Collapse>\r\n                    <br />\r\n                    <Row>\r\n                        <Col xs={4}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">CORREO</span>\r\n                                <span style={{ width: 'calc(100% - 150px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.correo}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={3}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">TELEFONO</span>\r\n                                <span style={{ width: 'calc(100% - 150px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.telefono}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={5}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '240px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">PERSONA DE CONTACTO</span>\r\n                                <span style={{ width: 'calc(100% - 250px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.contacto}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <br />\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">DICECCION</span>\r\n                                <span style={{ width: 'calc(100% - 150px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.direccion}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </Row>\r\n                </Panel.Collapse>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    seleccion(c: Cliente) {\r\n        this.set();\r\n        this.props.add(c.codigo);\r\n        if (this.nombre.current)\r\n            this.nombre.current.value = c.nombre;\r\n        if (this.codigo.current)\r\n            this.codigo.current.value = c.codigo;\r\n        this.setState({ cliente: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n    }\r\n    setBuscarNombre(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarNumbre: b });\r\n        this.state.lista.forEach((c) => {\r\n            if (c.nombre === b)\r\n                this.props.add(c.codigo);\r\n        });\r\n    }\r\n    setBuscarCodigo(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarCodigo: b });\r\n        this.state.lista.forEach((c) => {\r\n            if (c.codigo === b)\r\n                this.props.add(c.codigo);\r\n        });\r\n    }\r\n    limpiarNombre(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiarCodigo(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiar() {\r\n        this.setState({ cliente: ClienteNull, buscarCodigo: '', buscarNumbre: '' })\r\n        if (this.nombre.current)\r\n            this.nombre.current.value = \"\";\r\n        if (this.codigo.current)\r\n            this.codigo.current.value = \"\";\r\n    }\r\n    getList(lista: Cliente[], label: 'codigo' | 'nombre') {\r\n        return lista.map(c => {\r\n            return <option key={label + c.codigo}>{c[label]}</option>\r\n        })\r\n    }\r\n    close() {\r\n        this.setState({\r\n            nuevoCliente: false\r\n        })\r\n    }\r\n    componentWillReceiveProps(p: Props) {\r\n        if (this.state.cliente.codigo !== p.Cliente)\r\n            this.state.lista.forEach((c) => {\r\n                if (c.codigo === p.Cliente) {\r\n                    if (this.nombre.current)\r\n                        this.nombre.current.value = c.nombre;\r\n                    if (this.codigo.current)\r\n                        this.codigo.current.value = c.codigo;\r\n                    this.setState({ cliente: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n                }\r\n            });\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    set() {\r\n        getPreCache('/api/' + this.props.type + '/lista', data => {\r\n            // data = filtro(data, 1, 'status');\r\n            this.setState({ lista: data });\r\n        });\r\n    }\r\n    getLabel() {\r\n        if (this.props.type === 'Cliente')\r\n            return 'CLIENTE'\r\n        return 'PROVEEDOR'\r\n    }\r\n}","\r\ninterface proto {\r\n    label?: string,\r\n    isCompare?: (a: any, b: any) => boolean\r\n}\r\ninterface compareElement extends proto {\r\n    a: any\r\n    b: any\r\n}\r\ninterface compareArray extends proto {\r\n    a: Array<any>,\r\n    b: Array<any>,\r\n}\r\ninterface removeArray extends proto {\r\n    a: Array<any>,\r\n    b: any\r\n}\r\ninterface notRepitArray extends proto {\r\n    a: Array<Array<any>>\r\n}\r\nfunction comprare(com: compareElement) {\r\n    let { a, b, label, isCompare } = com\r\n    if (label !== undefined) {\r\n        return (a[label] === b[label])\r\n    } else if (isCompare !== undefined) {\r\n        return isCompare(a, b)\r\n    } else {\r\n        return false\r\n    }\r\n}\r\nexport function inertJoin(com: compareArray) {\r\n    let { a, b, label, isCompare } = com\r\n    let c: Array<any> = []\r\n    a.forEach(d => {\r\n        let g = true\r\n        b.forEach(e => {\r\n            if (comprare({ a: d, b: e, label, isCompare }))\r\n                c.forEach(f => {\r\n                    if (comprare({ a: d, b: f, label, isCompare }))\r\n                        g = false\r\n                })\r\n        })\r\n        if (g)\r\n            c.push(d)\r\n    })\r\n    return c\r\n}\r\nexport function removeElement(com: removeArray) {\r\n    let { a, b, label, isCompare } = com\r\n    let c = a.filter(c => {\r\n        return !comprare({ a: c, b, label, isCompare })\r\n    })\r\n    return c\r\n}\r\nexport function ifArray(com: removeArray) {\r\n    let { a, b, label, isCompare } = com\r\n    let d = false\r\n    a.forEach(c => {\r\n        if (comprare({ a: c, b, label, isCompare }))\r\n            d = true\r\n    })\r\n    return d\r\n}\r\nexport function UpdateElement(com: removeArray) {\r\n    let { a, b, label, isCompare } = com\r\n    return a.map(c => {\r\n        if (comprare({ a: c, b, label, isCompare })) {\r\n            return b\r\n        } else {\r\n            return c\r\n        }\r\n    })\r\n}\r\nexport function addUpdateArray(com: removeArray) {\r\n    let { a } = com\r\n    if (ifArray(com))\r\n        a = UpdateElement(com)\r\n    else\r\n        a.push(com.b)\r\n    return a\r\n}\r\nexport function noRepit(com: notRepitArray) {\r\n    let { a, label, isCompare } = com\r\n    let ret: Array<any> = []\r\n    a.forEach(arr => {\r\n        arr.forEach(iten => {\r\n            let n = true\r\n            ret.forEach(b => {\r\n                if (comprare({ a: iten, b, label, isCompare }))\r\n                    n = false\r\n            })\r\n            if (n)\r\n                ret.push(iten)\r\n        })\r\n    })\r\n    return ret\r\n}","export type productoLabel = \"codigo\" | \"descripcion\" | \"departamento\" | \"estatus\" | \"enser\" | \"tipo\" | \"costo\" | \"precio1\" | \"precio3\" | \"cantidad\" | \"unidad\" | \"fecha_creacion\";\r\nexport interface Producto {\r\n    codigo: string,\r\n    departamento: string,\r\n    descripcion: string,\r\n    estatus: number,\r\n    enser: number,\r\n    tipo: number,\r\n    costo: number,\r\n    precio1: number,\r\n    precio2: number,\r\n    precio3: number,\r\n    cantidad: number,\r\n    unidad: number,\r\n    exento: boolean,\r\n    fecha_creacion: string\r\n}\r\nexport var ProductoNull: Producto = {\r\n    codigo: \"\",\r\n    departamento: \"\",\r\n    descripcion: \"\",\r\n    estatus: 1,\r\n    enser: 0,\r\n    tipo: 1,\r\n    costo: 1,\r\n    precio1: 1,\r\n    precio2: 1,\r\n    precio3: 1,\r\n    cantidad: 0,\r\n    exento: false,\r\n    unidad: 1,\r\n    fecha_creacion: \"\"\r\n}\r\nexport interface Departamento {\r\n    codigo: string\r\n    descripcion: string\r\n}\r\nexport interface Unidad {\r\n    codigo: number\r\n    descripcion: string\r\n}\r\nexport interface Tipo {\r\n    codigo: number\r\n    descripcion: string\r\n}","import React from 'react'\r\nimport { Departamento } from '../../../Modelos/Productos';\r\nimport { getPreCache } from '../../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: string) => void\r\n    defaultValue: string\r\n    width?: string\r\n}\r\ninterface State {\r\n    Departamentos: Departamento[] | 'carro'\r\n}\r\nexport default class DepartamentoSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { Departamentos: 'carro' };\r\n    }\r\n    setUsers(c: Departamento[]) {\r\n        this.setState({ Departamentos: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>SELECCIONAR UN DEPARTAMENTO</option>\r\n            {(this.state.Departamentos !== 'carro') ? this.state.Departamentos.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        this.props.change(value)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Producto/departamentos', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Unidad } from '../../../Modelos/Productos';\r\nimport { getPreCache } from '../../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n\r\n}\r\ninterface State {\r\n    Unidades: Unidad[] | 'carro'\r\n}\r\nexport default class UnidadesSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { Unidades: 'carro' };\r\n    }\r\n    setUsers(c: Unidad[]) {\r\n        this.setState({ Unidades: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>SELECCIONAR UNIDAD DE MEDIDA</option>\r\n            {(this.state.Unidades !== 'carro') ? this.state.Unidades.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Producto/unidad', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Tipo } from '../../../Modelos/Productos';\r\nimport { getPreCache } from '../../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n\r\n}\r\ninterface State {\r\n    tipos: Tipo[] | 'carro'\r\n}\r\nexport default class TipoSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { tipos: 'carro' };\r\n    }\r\n    setUsers(c: Tipo[]) {\r\n        this.setState({ tipos: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>SELECCIONAR TIPO DE PRODUCTO</option>\r\n            {(this.state.tipos !== 'carro') ? this.state.tipos.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Producto/tipo', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormControl } from 'react-bootstrap'\r\nimport InputText from '../../Utils/InputText'\r\nimport { Producto, ProductoNull } from '../../Modelos/Productos'\r\nimport { numberFormat, post } from '../../Utils/Utiles'\r\nimport SetText from '../../Utils/setTex'\r\nimport DepartamentoSelector from './Departamento/Selector'\r\nimport UnidadesSelector from './Unidad/Selector'\r\nimport TipoSelector from './Tipos/Selector'\r\nimport { toast } from 'react-toastify'\r\ninterface Props {\r\n    open: boolean\r\n    close: () => void\r\n    add: (p: Producto) => void\r\n}\r\ninterface State extends Producto {\r\n    cateName?: string\r\n}\r\nexport default class FormProductos extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = ProductoNull;\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    setDepartamento(departamento: string) {\r\n        this.setState({ departamento })\r\n    }\r\n\r\n    setUnidad(unidad: number) {\r\n        this.setState({ unidad })\r\n    }\r\n\r\n    setTipo(tipo: number) {\r\n        this.setState({ tipo })\r\n    }\r\n    render() {\r\n        let { setState, state: { descripcion, precio1, precio2, precio3, costo, tipo, unidad, departamento }, props: { open, close } } = this;\r\n        return <Modal bsSize=\"lg\" animation show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVO PRODUCTO</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <DepartamentoSelector defaultValue={departamento} change={this.setDepartamento.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <b>DESCRIPCI√ìN</b>\r\n                        <SetText type=\"textarea\" rows={3} maxLength={300} value={descripcion} setData={setState} update=\"descripcion\" />\r\n                    </Col>\r\n                    <Col xs={6}><br />\r\n                        <UnidadesSelector defaultValue={unidad} change={this.setUnidad.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={6}><br />\r\n                        <TipoSelector defaultValue={tipo} change={this.setTipo.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText minValue={1} step=\"0.01\" type=\"number\" label=\"COSTO\" widthLabel={70} value={costo} setData={setState} update=\"costo\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputText minValue={1} step=\"1\" after=\"%\" widthAfter={40} type=\"number\" label=\"UTILIDAD 1\" widthLabel={120} value={precio1} setData={setState} update=\"precio1\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputText minValue={1} step=\"1\" after=\"%\" widthAfter={40} type=\"number\" label=\"UTILIDAD 2\" widthLabel={120} value={precio2} setData={setState} update=\"precio2\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputText minValue={1} step=\"1\" after=\"%\" widthAfter={40} type=\"number\" label=\"UTILIDAD 3\" widthLabel={120} value={precio3} setData={setState} update=\"precio3\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                                className=\"form-control\">PRECIO 1</span>\r\n                            <FormControl style={{ width: 'calc(100% - 100px)' }} disabled value={numberFormat(this.getPrecio(precio1))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                                className=\"form-control\">PRECIO 1</span>\r\n                            <FormControl style={{ width: 'calc(100% - 100px)' }} disabled value={numberFormat(this.getPrecio(precio2))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                                className=\"form-control\">PRECIO 1</span>\r\n                            <FormControl style={{ width: 'calc(100% - 100px)' }} disabled value={numberFormat(this.getPrecio(precio3))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button onClick={this.create.bind(this)} bsStyle=\"primary\">\r\n                    <span className=\"glyphicon glyphicon-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    getPrecio(price: number) {\r\n        let utilidad = (price / 100) + 1\r\n        return this.state.costo * utilidad\r\n    }\r\n    create() {\r\n        let { descripcion } = this.state;\r\n        if (descripcion === '') {\r\n            toast('debe colocar la persona de contacto', { type: toast.TYPE.ERROR })\r\n        }\r\n        post('api/Producto/nuevo', this.state, data => {\r\n            this.props.add(data);\r\n            this.props.close();\r\n        })\r\n    }\r\n}\r\n","\r\nimport React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles { }\r\nexport default class FilaProducto extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <td>{codigo}</td>\r\n            <td>{descripcion}</td>\r\n            <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n            <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={precio} update=\"precio\" /></td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(precio * unidades)}</span>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n                <ButtonGroup>\r\n                    <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                        <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </td>\r\n        </tr>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","import React from \"react\"\r\nimport { getPreCache, numberFormat } from \"../../../Utils/Utiles\";\r\n\r\ninterface Props {\r\n    imponible: number\r\n    exento: number\r\n}\r\n\r\nexport default class CalcularImpuesto extends React.Component<Props> {\r\n    impuesto = 0;\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    render() {\r\n        let { imponible, exento } = this.props\r\n        return <>\r\n            <tr>\r\n                <th colSpan={2} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n            {exento > 0 ? <>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n                </tr>\r\n            </> : <></>}\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {this.impuesto}%:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calImpuesto()}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calPagar()}</th>\r\n            </tr>\r\n        </>\r\n    }\r\n    calImpuesto() {\r\n        let { imponible } = this.props;\r\n        let impuesto = (this.impuesto / 100);\r\n        return numberFormat(imponible * impuesto);\r\n    }\r\n    calPagar() {\r\n        let { imponible, exento } = this.props;\r\n        let impuesto = this.impuesto / 100;\r\n        let total = imponible + exento + (imponible * impuesto);\r\n        return numberFormat(total)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Row, Col, Button, Table, ButtonGroup } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { removeElement, addUpdateArray } from '../../../Utils/ArrayFun'\r\nimport { GeneralData, Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport FormProductos from '../../Productos/FormProductos'\r\nimport BuscarProducto from '../../Productos/BuscarProducto'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport FilaProducto from './FilaProducto'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\ninterface State {\r\n    nuevoProducto: boolean\r\n    buscarProducto: boolean\r\n}\r\ninterface Props {\r\n    data: GeneralData\r\n    setData: (data: GeneralData) => void\r\n    Prosesar?: () => void\r\n}\r\nexport default class AuxiliarCompra extends React.Component<Props, State> {\r\n    setData: (data: any) => void;\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.state = { nuevoProducto: false, buscarProducto: false };\r\n    }\r\n    addProductos(producto: Detalles) {\r\n        let cant = this.props.data.detalles.length;\r\n        producto.precio = parseFloat(producto.precio.toFixed(2));\r\n        let aux = {\r\n            a: this.props.data.detalles, b: producto,\r\n            isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false }\r\n        }\r\n        let detalles = addUpdateArray(aux);\r\n        if (cant < detalles.length)\r\n            toast('PRODUCTO ' + producto.descripcion + \" AGREGADO\", { type: toast.TYPE.SUCCESS })\r\n        this.setData({ detalles })\r\n    }\r\n    removeProductos(producto: Detalles) {\r\n        let aux = { a: this.props.data.detalles, b: producto, isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false } }\r\n        this.setData({ detalles: removeElement(aux) })\r\n        toast('PRODUCTO ' + producto.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo, comentario: \"\" });\r\n    }\r\n    render() {\r\n        let imp: number = 0;\r\n        let ext: number = 0;\r\n        let { nuevoProducto, buscarProducto } = this.state;\r\n        return <>\r\n            <FormProductos open={nuevoProducto} close={this.close.bind(this)} add={this.createProducto.bind(this)} />\r\n            <BuscarProducto type='Compra' open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <Row>\r\n                <Col xs={6}>\r\n                    {this.props.children}\r\n                </Col>\r\n                <Col xs={6}>\r\n                    <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} bsStyle=\"success\"\r\n                        className=\"pull-right\" onClick={this.props.Prosesar} >\r\n                        <span className=\"glyphicon glyphicon-print\" />\r\n                    </Button>\r\n                    <ButtonGroup className=\"pull-right\" style={{ marginRight: \"15px\" }}>\r\n                        <Button data-tip=\"NUEVO PRODUCTO\" onClick={() => { this.setState({ nuevoProducto: true }) }} bsStyle=\"info\">\r\n                            <i className=\"glyphicon glyphicon-edit\"></i>\r\n                        </Button>\r\n                        <Button data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-search\"></span>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <thead>\r\n                    <tr className='info'>\r\n                        <th style={{ width: \"100px\" }}>CODIGO</th>\r\n                        <th>DESCRIPCI√ìN</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                        <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                        <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n                        <th style={{ width: \"110px\", textAlign: 'right' }}>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.props.data.detalles.map(producto => {\r\n                        if (producto.exento) {\r\n                            ext += producto.precio * producto.unidades\r\n                        } else {\r\n                            imp += producto.precio * producto.unidades\r\n                        }\r\n                        return <FilaProducto\r\n                            key={producto.codigo}\r\n                            producto={producto}\r\n                            edit={this.addProductos.bind(this)}\r\n                            remove={this.removeProductos.bind(this)} />\r\n                    })}\r\n                    <CalcularImpuesto exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    close() {\r\n        this.setState({ nuevoProducto: false, buscarProducto: false })\r\n    }\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { GeneralFila } from '../Modelos/General'\r\nimport { formatoFecha, zfill } from './Utiles'\r\ninterface PropsFila {\r\n    data: GeneralFila,\r\n    add: (iten: GeneralFila) => void\r\n    color?: string\r\n    type: 'Cotizacion' | 'Orden' | 'Nota' | 'Factura' | 'Compra'\r\n}\r\nexport default class FilaGeneraModal extends React.Component<PropsFila>{\r\n    render() {\r\n        let { data } = this.props\r\n        return <tr>\r\n            <th>{zfill(data.codigo)}</th>\r\n            <th>{formatoFecha(data.fecha)}</th>\r\n            <th>{data.nombre}</th>\r\n            <th>{this.getStatus()}</th>\r\n            <th style={{ textAlign: 'center' }}>\r\n                <Button data-tip=\"Agregar Producto\" onClick={() => { this.props.add(data) }} bsStyle=\"primary\">\r\n                    <i className=\"glyphicon glyphicon-plus\" />\r\n                </Button>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">{this.getStatus1()}</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">{this.getStatus2()}</span>\r\n        }\r\n    }\r\n    getStatus1() {\r\n        let { type } = this.props;\r\n        switch (type) {\r\n            case 'Orden': return 'EN ESPERA';\r\n            case 'Compra': return 'SIN FACTURA';\r\n            case 'Cotizacion': return 'PENDIENTE';\r\n            case 'Nota': return 'ENTREGADO';\r\n        }\r\n    }\r\n    getStatus2() {\r\n        let { type } = this.props;\r\n        switch (type) {\r\n            case 'Compra': case 'Nota':\r\n                return 'FACTURADA';\r\n            case 'Orden': case 'Cotizacion': case 'Factura':\r\n                return 'PROCESADA';\r\n        }\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarOrden extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n\r\n    title() {\r\n        return <h4>BUSCAR ORDEN DE COMPRA</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>PROVEEDOR {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Orden' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Orden/lista');\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Orden, ordenNull, sentOrden } from \"../../Modelos/Compra\";\r\nimport { GeneralFila } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport InputText from \"../../Utils/InputText\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport AuxiliarCompra from \"../Compra/Nuevo/AuxiliarCompra\";\r\nimport BuscarOrden from \"./BuscarOrden\";\r\ninterface State extends Orden {\r\n    open: boolean\r\n    cargar: boolean\r\n}\r\nexport default class NuevaOrden extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...ordenNull, open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Orden/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarOrden open={state.cargar} add={this.cargar.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA ORDEN DE COMPRA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Proveedor' Cliente={state.cod_proveedor} add={this.setProveedor.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>CONDICIONES</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"VALIDES DE LA OFERTA\" value={state.validez} setData={this.setState} update=\"validez\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"TIEMPO DE ENTREGA\" value={state.tiempo_entrega} setData={this.setState} update=\"tiempo_entrega\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"FORMA DE PAGO\" value={state.forma_pago} setData={this.setState} update=\"forma_pago\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <SetText type='textarea' rows={3} maxLength={250} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarCompra Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ cargar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR ORDEN <br> DE COMPRA\" bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-duplicate\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <CacheStorage data={this.props.data} setData={this.props.setData} Identificador='NuevaOrden' />\r\n                </AuxiliarCompra>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        getPreCache('api/Orden/detalles/' + d.codigo, data => {\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_proveedor: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_proveedor === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Orden/nuevo', sentOrden(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Compra, compraNull, sentCompra } from \"../../Modelos/Compra\";\r\nimport { GeneralFila } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport InputText from \"../../Utils/InputText\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarOrden from \"../Orden/BuscarOrden\";\r\nimport AuxiliarCompra from \"./Nuevo/AuxiliarCompra\";\r\ninterface State extends Compra {\r\n    open: boolean\r\n    cargar: boolean\r\n}\r\nexport default class NuevaCompra extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...compraNull, open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Compra/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarOrden open={state.cargar} add={this.cargar.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA COMPRA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Proveedor' Cliente={state.cod_proveedor} add={this.setProveedor.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>DATOS OPCIONALES</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col data-tip=\"NUMERO DE FACTURA\" xs={3}>\r\n                                    <InputText maxLength={10} widthLabel={70} label=\"N¬∞ F\" value={state.cod_documento} setData={this.setState} update=\"cod_documento\" />\r\n                                </Col>\r\n                                <Col data-tip=\"NUMERO DE CONTROL\" xs={3}>\r\n                                    <InputText maxLength={10} widthLabel={70} label=\"N¬∞ C\" value={state.nun_control} setData={this.setState} update=\"nun_control\" />\r\n                                </Col>\r\n                                <Col data-tip=\"FECHA DE LA FACTURA\" xs={3}>\r\n                                    <InputText type='date' widthLabel={80} label=\"FECHA\" value={state.fecha_documento} setData={this.setState} update=\"fecha_documento\" />\r\n                                </Col>\r\n                                <Col data-tip=\"NUMERO DE NOTA DE ENTREGA\" xs={3}>\r\n                                    <InputText maxLength={10} widthLabel={80} label=\"N¬∞ N/E\" value={state.cod_nota} setData={this.setState} update=\"cod_nota\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <SetText type='textarea' rows={4} maxLength={600} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarCompra Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ cargar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR ORDEN <br> DE COMPRA\" bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-folder-open\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <CacheStorage data={this.props.data} setData={this.props.setData} Identificador='NuevaCompra' />\r\n                </AuxiliarCompra>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        getPreCache('api/Orden/detalles/' + d.codigo, data => {\r\n            data.id_orden = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_proveedor: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_proveedor === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Compra/nuevo', sentCompra(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import { CondicionesData, GeneralData, getSubtotal, sentDetalles, getCosto } from \"./General\";\r\n\r\nexport interface Cotizacion extends CondicionesData {\r\n    cod_cliente: string\r\n    plantilla: number\r\n}\r\nexport function sentCotizacion(e: Cotizacion, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_cliente, validez, tiempo_entrega, forma_pago, nota, plantilla } = e;\r\n    return {\r\n        cod_cliente,\r\n        plantilla,\r\n        validez,\r\n        tiempo_entrega,\r\n        forma_pago,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport interface Nota extends GeneralData {\r\n    cod_cliente: string\r\n}\r\nexport function sentNota(e: Nota, porc_impuesto: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (porc_impuesto / 100),\r\n        total = subtotal + impuesto;\r\n\r\n    let { cod_cliente, nota } = e;\r\n    return {\r\n        cod_cliente,\r\n        porc_impuesto,\r\n        impuesto,\r\n        subtotal,\r\n        total,\r\n        nota,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport interface Factura extends GeneralData {\r\n    cod_cliente: string\r\n    condicion: string\r\n}\r\nexport function sentFactura(e: Factura, porc_impuesto: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        costo = getCosto(e.detalles),\r\n        impuesto = subtotal * (porc_impuesto / 100),\r\n        total = subtotal + impuesto;\r\n\r\n    let { cod_cliente, nota, condicion, } = e;\r\n    return {\r\n        cod_cliente,\r\n        condicion,\r\n        porc_impuesto,\r\n        costo,\r\n        impuesto,\r\n        subtotal,\r\n        total,\r\n        nota,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarCotizacion extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n\r\n    title() {\r\n        return <h4>BUSCAR COTIZACION</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>CLIENTE {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Cotizacion' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Cotizacion/lista');\r\n    }\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { getPreCache, numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    nota?: number\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\nexport default class FilaProducto extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, costo, precio1, precio2, precio3, cantidad } = this.state;\r\n        return <tr className={(cantidad < unidades) ? 'danger' : (costo > precio) ? 'warning' : ''}>\r\n            <td>{codigo}</td>\r\n            <td>{descripcion}</td>\r\n            <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(cantidad)}</span>\r\n            </td>\r\n            <td>\r\n                <SetText step='0.01' listLabel={costo + 'list'}\r\n                    minValue={parseFloat((costo * (1 + precio1 / 100)).toFixed(2))} type=\"number\"\r\n                    setData={this.setState} value={precio} update=\"precio\" />\r\n                <datalist id={costo + 'list'}>\r\n                    <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                </datalist>\r\n            </td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(precio * unidades)}</span>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n                <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button>\r\n            </td>\r\n        </tr>\r\n    }\r\n    componentWillUpdate(p: Props, s: Detalles) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades)\r\n            this.props.edit(s)\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Producto/ver/' + this.state.codigo, data => {\r\n            this.setState(data);\r\n        })\r\n    }\r\n}","import React from \"react\"\r\nimport { getPreCache, numberFormat } from \"../../../Utils/Utiles\";\r\n\r\ninterface Props {\r\n    imponible: number\r\n    exento: number\r\n}\r\n\r\nexport default class CalcularImpuesto extends React.Component<Props> {\r\n    impuesto = 0;\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    render() {\r\n        let { imponible, exento } = this.props\r\n        return <>\r\n            <tr>\r\n                <th colSpan={3} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n            {exento > 0 ? <>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n                </tr>\r\n            </> : <></>}\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {this.impuesto}%:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calImpuesto()}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calPagar()}</th>\r\n            </tr>\r\n        </>\r\n    }\r\n    calImpuesto() {\r\n        let { imponible } = this.props;\r\n        let impuesto = (this.impuesto / 100);\r\n        return numberFormat(imponible * impuesto);\r\n    }\r\n    calPagar() {\r\n        let { imponible, exento } = this.props;\r\n        let impuesto = this.impuesto / 100;\r\n        let total = imponible + exento + (imponible * impuesto);\r\n        return numberFormat(total)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Row, Col, Button, Table } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { removeElement, addUpdateArray } from '../../../Utils/ArrayFun'\r\nimport { GeneralData, Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport BuscarProducto from '../../Productos/BuscarProducto'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport FilaProducto from './FilaProducto'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\ninterface State {\r\n    buscarProducto: boolean\r\n}\r\ninterface Props {\r\n    data: GeneralData\r\n    setData: (data: GeneralData) => void\r\n    Prosesar?: () => void\r\n}\r\nexport default class AuxiliarFactura extends React.Component<Props, State> {\r\n    setData: (data: any) => void;\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.state = { buscarProducto: false };\r\n    }\r\n    addProductos(producto: Detalles) {\r\n        let cant = this.props.data.detalles.length;\r\n        producto.precio = parseFloat(producto.precio.toFixed(2));\r\n        let aux = {\r\n            a: this.props.data.detalles, b: producto,\r\n            isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false }\r\n        }\r\n        let detalles = addUpdateArray(aux);\r\n        if (cant < detalles.length)\r\n            toast('PRODUCTO ' + producto.descripcion + \" AGREGADO\", { type: toast.TYPE.SUCCESS })\r\n        this.setData({ detalles })\r\n    }\r\n    removeProductos(producto: Detalles) {\r\n        let aux = { a: this.props.data.detalles, b: producto, isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false } }\r\n        this.setData({ detalles: removeElement(aux) })\r\n        toast('PRODUCTO ' + producto.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo * (1 + p.precio2 / 100), comentario: \"\" });\r\n    }\r\n    render() {\r\n        let imp: number = 0;\r\n        let ext: number = 0;\r\n        let { buscarProducto } = this.state;\r\n        return <>\r\n            <BuscarProducto type='Factura' open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <Row>\r\n                <Col xs={6}>\r\n                    {this.props.children}\r\n                </Col>\r\n                <Col xs={6}>\r\n                    <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} bsStyle=\"success\"\r\n                        className=\"pull-right\" onClick={this.props.Prosesar} >\r\n                        <span className=\"glyphicon glyphicon-print\" />\r\n                    </Button>\r\n                    <Button style={{ marginRight: \"15px\" }} className=\"pull-right\" data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span>\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <thead>\r\n                    <tr className='info'>\r\n                        <th style={{ width: \"100px\" }}>CODIGO</th>\r\n                        <th>DESCRIPCI√ìN</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>DISPONIBLE</th>\r\n                        <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                        <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n                        <th style={{ width: \"110px\", textAlign: 'right' }}>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.props.data.detalles.map(producto => {\r\n                        if (producto.exento) {\r\n                            ext += producto.precio * producto.unidades\r\n                        } else {\r\n                            imp += producto.precio * producto.unidades\r\n                        }\r\n                        return <FilaProducto\r\n                            key={producto.codigo}\r\n                            producto={producto}\r\n                            edit={this.addProductos.bind(this)}\r\n                            remove={this.removeProductos.bind(this)} />\r\n                    })}\r\n                    <CalcularImpuesto exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    close() {\r\n        this.setState({ buscarProducto: false })\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Nota, sentNota } from \"../../Modelos/Factura\";\r\nimport { GeneralFila, generalNull } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarCotizacion from \"../Cotizacion/BuscarCotizacion\";\r\nimport AuxiliarFactura from \"../Facturas/Nuevo/AuxiliarFactura\";\r\ninterface State extends Nota {\r\n    open: boolean\r\n    cargar: boolean\r\n}\r\nexport default class NuevaNota extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...generalNull, cod_cliente: '', open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Factura/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarCotizacion open={state.cargar} add={this.cargarCotizacion.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA NOTA DE ENTREGA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Cliente' Cliente={state.cod_cliente} add={this.setCliente.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>NOTA</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <SetText type='textarea' rows={3} maxLength={600} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarFactura Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ cargar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR COTIZACION\" bsStyle=\"primary\">\r\n                            <span className=\"fa fa-fw fa fa-calculator\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <CacheStorage data={this.props.data} setData={this.props.setData} Identificador='NuevaNota' />\r\n                </AuxiliarFactura>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargarCotizacion(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/detalles/' + d.codigo, data => {\r\n            data.id_cotizacion = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Factura/nuevo', sentNota(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarNota extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n\r\n    title() {\r\n        return <h4>BUSCAR NOTA DE ENTREGA</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>CLIENTE {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Nota' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Nota/lista');\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, ButtonGroup, Col, InputGroup, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Factura, sentFactura } from \"../../Modelos/Factura\";\r\nimport { GeneralFila, generalNull } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarCotizacion from \"../Cotizacion/BuscarCotizacion\";\r\nimport BuscarNota from \"../Nota/BuscarNota\";\r\nimport AuxiliarFactura from \"./Nuevo/AuxiliarFactura\";\r\ninterface State extends Factura {\r\n    open: boolean\r\n    cargarCotizacion: boolean\r\n    cargarNota: boolean\r\n}\r\nexport default class NuevaFactura extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...generalNull, cod_cliente: '', condicion: 'CONTADO', open: false, cargarCotizacion: false, cargarNota: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Nota/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarCotizacion open={state.cargarCotizacion} add={this.cargarCotizacion.bind(this)} close={() => { this.setState({ cargarCotizacion: false }) }} />\r\n            <BuscarNota open={state.cargarNota} add={this.cargarNota.bind(this)} close={() => { this.setState({ cargarNota: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA FACTURA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Cliente' Cliente={state.cod_cliente} add={this.setCliente.bind(this)} />\r\n                <Col xs={5}>\r\n                    <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                        <span style={{ width: 100, position: 'relative', backgroundColor: \"#eee\" }}\r\n                            className=\"form-control\">CONDICION</span>\r\n                        <select style={{ width: 'calc(100% - 100px)' }} onChange={this.setCondicion.bind(this)}\r\n                            className=\"form-control\"\r\n                            defaultValue={this.props.condicion}>\r\n                            <option value=\"CONTADO\">CONTADO</option>\r\n                            <option value=\"CREDITO\">CREDITO</option>\r\n                        </select>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>OBSERVACI√ìN</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <SetText type='textarea' rows={4} maxLength={600} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarFactura Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"118px\" }} xs={2}>\r\n                        <ButtonGroup>\r\n                            <Button onClick={() => { this.setState({ cargarCotizacion: true }) }}\r\n                                data-class=\"toolbody\" data-html=\"true\"\r\n                                data-tip=\"CARGAR COTIZACION\" bsStyle=\"primary\">\r\n                                <span className=\"fa fa-fw fa fa-calculator\" />\r\n                            </Button>\r\n                            <Button onClick={() => { this.setState({ cargarNota: true }) }}\r\n                                data-class=\"toolbody\" data-html=\"true\"\r\n                                data-tip=\"CARGAR NOTA\" bsStyle=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-send\" />\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                    <CacheStorage setData={this.setState} data={state} Identificador=\"NuevaFactura\" />\r\n                </AuxiliarFactura>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargarCotizacion(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/detalles/' + d.codigo, data => {\r\n            data.id_cotizacion = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    cargarNota(d: GeneralFila) {\r\n        getPreCache('api/Nota/detalles/' + d.codigo, data => {\r\n            data.id_nota = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n        getPreCache('api/Config/getFactura', data => {\r\n            this.setState({ nota: data.observacion });\r\n        })\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    setCondicion(v: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = v.currentTarget.value as string\r\n        this.props.change(value)\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Nota/nuevo', sentFactura(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Row } from 'react-bootstrap';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarGuardado extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n\r\n    title() {\r\n        return <h4>BUSCAR GUARDADOS</h4>\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"col-md-9\">\r\n                <div style={{ position: 'relative', width: \"100%\" }}  className=\"input-group\">\r\n                    <input style={{ position: 'relative', width: \"70%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                    <div className=\"input-group-append\">\r\n                        <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                    </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Button style={{ width: '200px', }} bsStyle=\"warning\">\r\n                <span className=\"glyphicon glyphicon-open-file\"></span> CARGAR DESDE CACHE\r\n            </Button>\r\n        </Row>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>USUARIO {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo + c.status} data={c} type='Cotizacion' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Cotizacion/plantillas');\r\n    }\r\n}","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport InputText from '../../../Utils/InputText'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nexport default class FilaFactura extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, comentario, open, costo, precio1, precio2, precio3, cantidad } = this.state\r\n        return <>\r\n            <tr>\r\n                <td>{codigo}</td>\r\n                <td>{descripcion}</td>\r\n                <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n                <td>\r\n                    <SetText step='0.01' listLabel={costo + 'list'}\r\n                        minValue={costo * (1 + precio1 / 100)} type=\"number\"\r\n                        setData={this.setState} value={precio} update=\"precio\" />\r\n                    <datalist id={costo + 'list'}>\r\n                        <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                        <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                        <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                    </datalist>\r\n                </td>\r\n                <td>\r\n                    <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                        className=\"form-control\">{(precio * unidades).toFixed(2)}</span>\r\n                </td>\r\n                <td style={{ textAlign: 'right' }}>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"glyphicon glyphicon-edit\"></span>\r\n                        </Button>\r\n                        <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <InputText widthLabel={150} label=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n}","import React from \"react\"\r\nimport { getPreCache, numberFormat } from \"../../../Utils/Utiles\";\r\n\r\ninterface Props {\r\n    imponible: number\r\n    exento: number\r\n}\r\n\r\nexport default class CalcularImpuesto extends React.Component<Props> {\r\n    impuesto = 0;\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    render() {\r\n        let { imponible, exento } = this.props\r\n        return <>\r\n            <tr>\r\n                <th colSpan={3} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n            {exento > 0 ? <>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n                </tr>\r\n            </> : <></>}\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {this.impuesto}%:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calImpuesto()}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calPagar()}</th>\r\n            </tr>\r\n        </>\r\n    }\r\n    calImpuesto() {\r\n        let { imponible } = this.props;\r\n        let impuesto = (this.impuesto / 100);\r\n        return numberFormat(imponible * impuesto);\r\n    }\r\n    calPagar() {\r\n        let { imponible, exento } = this.props;\r\n        let impuesto = this.impuesto / 100;\r\n        let total = imponible + exento + (imponible * impuesto);\r\n        return numberFormat(total)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Row, Col, Button, Table } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { removeElement, addUpdateArray } from '../../../Utils/ArrayFun'\r\nimport { GeneralData, Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport BuscarProducto from '../../Productos/BuscarProducto'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport FilaProducto from './FilaProducto'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\ninterface State {\r\n    buscarProducto: boolean\r\n}\r\ninterface Props {\r\n    data: GeneralData\r\n    setData: (data: GeneralData) => void\r\n    Prosesar?: () => void\r\n}\r\nexport default class AuxiliarCotizacion extends React.Component<Props, State> {\r\n    setData: (data: any) => void;\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.state = { buscarProducto: false };\r\n    }\r\n    addProductos(producto: Detalles) {\r\n        let cant = this.props.data.detalles.length;\r\n        producto.precio = parseFloat(producto.precio.toFixed(2));\r\n        let aux = {\r\n            a: this.props.data.detalles, b: producto,\r\n            isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false }\r\n        }\r\n        let detalles = addUpdateArray(aux);\r\n        if (cant < detalles.length)\r\n            toast('PRODUCTO ' + producto.descripcion + \" AGREGADO\", { type: toast.TYPE.SUCCESS })\r\n        this.setData({ detalles })\r\n    }\r\n    removeProductos(producto: Detalles) {\r\n        let aux = { a: this.props.data.detalles, b: producto, isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false } }\r\n        this.setData({ detalles: removeElement(aux) })\r\n        toast('PRODUCTO ' + producto.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo * (1 + p.precio2 / 100), comentario: \"\" });\r\n    }\r\n    render() {\r\n        let imp: number = 0;\r\n        let ext: number = 0;\r\n        let { buscarProducto } = this.state;\r\n        return <>\r\n            <BuscarProducto type='Cotizacion' open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <Row>\r\n                <Col xs={6}>\r\n                    {this.props.children}\r\n                </Col>\r\n                <Col xs={6}>\r\n                    <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} bsStyle=\"success\"\r\n                        className=\"pull-right\" onClick={this.props.Prosesar} >\r\n                        <span className=\"glyphicon glyphicon-print\" />\r\n                    </Button>\r\n                    <Button style={{ marginRight: \"15px\" }} className=\"pull-right\" data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span>\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <thead>\r\n                    <tr className='info'>\r\n                        <th style={{ width: \"100px\" }}>CODIGO</th>\r\n                        <th>DESCRIPCI√ìN</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                        <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                        <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n                        <th style={{ width: \"110px\", textAlign: 'right' }}>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.props.data.detalles.map(producto => {\r\n                        if (producto.exento) {\r\n                            ext += producto.precio * producto.unidades\r\n                        } else {\r\n                            imp += producto.precio * producto.unidades\r\n                        }\r\n                        return <FilaProducto\r\n                            key={producto.codigo}\r\n                            producto={producto}\r\n                            edit={this.addProductos.bind(this)}\r\n                            remove={this.removeProductos.bind(this)} />\r\n                    })}\r\n                    <CalcularImpuesto exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    close() {\r\n        this.setState({ buscarProducto: false })\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, ButtonGroup, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Cotizacion, sentCotizacion } from \"../../Modelos/Factura\";\r\nimport { condicionesNull, GeneralFila } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport InputText from \"../../Utils/InputText\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarCotizacion from \"./BuscarCotizacion\";\r\nimport BuscarGuardado from \"./BuscarGuardado\";\r\nimport AuxiliarCotizacion from \"./Nuevo/AuxiliarCotizacion\";\r\ninterface State extends Cotizacion {\r\n    open: boolean\r\n    cargar: boolean\r\n    copiar: boolean\r\n}\r\nexport default class NuevaCotizacion extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...condicionesNull, cod_cliente: '', plantilla: 0, copiar: false, open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Cotizacion/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarCotizacion open={state.copiar} add={this.copiar.bind(this)} close={() => { this.setState({ copiar: false }) }} />\r\n            <BuscarGuardado open={state.cargar} add={this.cargar.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA COTIZACION</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Cliente' Cliente={state.cod_cliente} add={this.setProveedor.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>CONDICIONES</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"VALIDES DE LA OFERTA\" value={state.validez} setData={this.setState} update=\"validez\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"TIEMPO DE ENTREGA\" value={state.tiempo_entrega} setData={this.setState} update=\"tiempo_entrega\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"FORMA DE PAGO\" value={state.forma_pago} setData={this.setState} update=\"forma_pago\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <SetText type='textarea' rows={3} maxLength={250} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarCotizacion Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ copiar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR COTIZACION\" bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-duplicate\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"info\" onClick={this.guardar.bind(this)} data-tip=\"GUARDAR\">\r\n                            <span className=\"glyphicon glyphicon-save-file\"></span>\r\n                        </Button>\r\n                        <Button bsStyle=\"warning\" onClick={() => { this.setState({ cargar: true }) }} data-tip=\"CARGAR\">\r\n                            <span className=\"glyphicon glyphicon-open-file\" />\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </AuxiliarCotizacion>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    copiar(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/detalles/' + d.codigo, data => {\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/cargar/' + d.codigo, data => {\r\n            data.plantilla = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    guardar() {\r\n        localStorage.setItem('guardarNuevaCotizacion', JSON.stringify(this.props.data));\r\n        post('api/Cotizacion/guardar', sentCotizacion(this.state, this.impuesto), data => {\r\n            this.setState({ plantilla: data })\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Cotizacion/nuevo', sentCotizacion(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport { getPreCache } from '../Utils/Utiles';\r\ninterface State {\r\n    id_usuario: number\r\n    nivel: number;\r\n    usuario: string\r\n    open: boolean\r\n}\r\nexport default class Header extends React.Component<any, State> {\r\n    state = { id_usuario: 0, nivel: 0, usuario: '', open: false };\r\n    render() {\r\n        let { usuario, open } = this.state;\r\n        return <header className=\"main-header\">\r\n            <a href=\"/admin\" className=\"logo\">\r\n                <span className=\"logo-mini\">\r\n                    <img src=\"/logos/logo.svg\" width=\"95%\" />\r\n                </span>\r\n                <span className=\"logo-lg\">\r\n                    <img src=\"/logos/logo-text.svg\" width=\"100%\" />\r\n                </span>\r\n            </a>\r\n            <nav style={{ height: \"50px\" }} className=\"navbar navbar-static-top\" role=\"navigation\">\r\n                <a style={{ height: \"50px\" }} id=\"molestia\" href=\"#\" className=\"sidebar-toggle\" data-toggle=\"offcanvas\" role=\"button\">\r\n                    <span className=\"sr-only\">Toggle navigation</span>\r\n                </a>\r\n                <div className=\"navbar-custom-menu\">\r\n                    <ul className=\"nav navbar-nav\">\r\n                        <li className={\"dropdown user user-menu\" + ((open) ? ' open' : '')}>\r\n                            <a href=\"#\" onClick={() => { this.setState({ open: !open }) }} className=\"dropdown-toggle\" data-toggle=\"dropdown\" aria-expanded=\"true\">\r\n                                <span className=\"hidden-xs\">{usuario}</span>\r\n                            </a>\r\n                            <ul className=\"dropdown-menu\">\r\n                                <li className=\"user-header\">\r\n                                    <p>\r\n                                        {usuario}\r\n                                    </p>\r\n                                </li>\r\n                                <li className=\"user-footer\">\r\n                                    <div className=\"pull-right\">\r\n                                        <a href=\"config/salir.php\" className=\"btn btn-default btn-flat\">Salir</a>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    }\r\n\r\n    componentDidMount() {\r\n        getPreCache('/api/Usuario/actual', data => {\r\n            this.setState(data)\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Menu extends React.Component {\r\n    render() {\r\n        return <aside className=\"main-sidebar\">\r\n            <section className=\"sidebar\">\r\n                <ul className=\"sidebar-menu\">\r\n                    <li className=\"active\">\r\n                        <a href=\"/panel_ad\">\r\n                            <i className=\"fa fa-dashboard\"></i> <span>Inicio</span>\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_ordenes\">\r\n                            <i className=\"fa fa-fw fa fa-paperclip\"></i> <span style={{ width: \"200px\" }}> ORDENES DE COMPRA </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_compras\">\r\n                            <i className=\"fa fa-fw fa fa-shopping-cart\"></i> <span> COMPRAS </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_cotizaciones\">\r\n                            <i className=\"fa fa-fw fa fa-calculator\"></i> <span> COTIZACIONES </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_notas\">\r\n                            <i className=\"fa fa-fw fa fa-send\"></i> <span> NOTAS DE ENTREGA </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_facturas\">\r\n                            <i className=\"fa fa-fw fa fa-usd\"></i> <span> FACTURAS </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"/ver_proveedores\">\r\n                            <i className=\"fa fa-fw fa fa-truck\"></i> <span> PROVEEDORES</span>\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"/ver_clientes\">\r\n                            <i className=\"fa fa-fw fa fa-user\"></i><span> CLIENTES</span>\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"treeview \">\r\n                        <a href=\"#\">\r\n                            <i className=\"fa fa-fw fa fa-laptop\"></i>\r\n                            <span style={{ width: \"200px\" }}>INVENTARIO</span>\r\n                            <span className=\"pull-right-container\">\r\n                                <i className=\"fa fa-angle-left pull-right\"></i>\r\n                            </span>\r\n                        </a>\r\n                        <ul style={{ width: \"200px\" }} className=\"treeview-menu\">\r\n                            <li>\r\n                                <a href=\"ver_productos\">\r\n                                    <i className=\"fa fa-circle-o\"></i> Consulta de inventario\r\n                                </a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"nuevo_producto\">\r\n                                    <i className=\"fa fa-circle-o\"></i> Registro de productos\r\n                                </a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"ajuste_inventario\">\r\n                                    <i className=\"fa fa-circle-o\"></i> Ajuste de inventario\r\n                                </a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"ajuste_utilidad\">\r\n                                    <i className=\"fa fa-circle-o\"></i> Ajuste de utilidad\r\n                                </a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"ajuste_precio\">\r\n                                    <i className=\"fa fa-circle-o\"></i> Ajuste de Precio\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li className=\"treeview \">\r\n                        <a href=\"#\">\r\n                            <i className=\"fa fa-fw fa-bar-chart\"></i>\r\n                            <span style={{ width: \"300px\" }}>REPORTES</span>\r\n                            <span className=\"pull-right-container\">\r\n                                <i className=\"fa fa-angle-left pull-right\"></i>\r\n                            </span>\r\n                        </a>\r\n                        <ul style={{ width: \"300px\" }} className=\"treeview-menu\">\r\n                            <li>\r\n                                <a href=\"reporte_compras\"><i className=\"fa fa-circle-o\"></i> Reporte de compras</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"reporte_ventas\"><i className=\"fa fa-circle-o\"></i> Reporte de ventas</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"reporte_vendedor\"><i className=\"fa fa-circle-o\"></i> Reporte de vendedores</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"reporte_ajustes\"><i className=\"fa fa-circle-o\"></i> Reporte de ajustes de inventario</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"reporte_inventario\"><i className=\"fa fa-circle-o\"></i> Reporte de inventario</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"rubros\"><i className=\"fa fa-circle-o\"></i> Reporte de rubros por mes</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"seguimiento\"><i className=\"fa fa-circle-o\"></i> Seguimiento de compras</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"historico\"><i className=\"fa fa-circle-o\"></i> historico de productos</a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"/ver_usuarios\">\r\n                            <i className=\"fa fa-fw fa fa-users\"></i><span> USUARIOS</span>\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"treeview \">\r\n                        <a href=\"#\">\r\n                            <i className=\"fa fa-fw fa fa-sliders\"></i>\r\n                            <span style={{ width: \"200px\" }}>PARAMETROS</span>\r\n                            <span className=\"pull-right-container\">\r\n                                <i className=\"fa fa-angle-left pull-right\"></i>\r\n                            </span>\r\n                        </a>\r\n                        <ul style={{ width: \"200px\" }} className=\"treeview-menu\">\r\n                            <li>\r\n                                <a href=\"tipo_producto\"><i className=\"fa fa-circle-o\"></i> Tipo de producto</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"unidades\"><i className=\"fa fa-circle-o\"></i> Unidades</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"departamentos\"><i className=\"fa fa-circle-o\"></i> Departamentos</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"moneda\"><i className=\"fa fa-circle-o\"></i> Monedas</a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li className=\"treeview \">\r\n                        <a href=\"#\">\r\n                            <i className=\"fa fa-fw fa fa-wrench\"></i>\r\n                            <span style={{ width: \"250px\" }}>CONFIGURACION</span>\r\n                            <span className=\"pull-right-container\">\r\n                                <i className=\"fa fa-angle-left pull-right\"></i>\r\n                            </span>\r\n                        </a>\r\n                        <ul style={{ width: \"250px\" }} className=\"treeview-menu\">\r\n                            <li>\r\n                                <a href=\"conf_ventas\"> <i className=\"fa fa-circle-o\"></i> Configuraci√≥n de ventas</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"conf_region\"> <i className=\"fa fa-circle-o\"></i> Configuraci√≥n de regi√≥n</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"conf_factura\"> <i className=\"fa fa-circle-o\"></i> Configuraci√≥n de factura</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"conf_empresa\"> <i className=\"fa fa-circle-o\"></i> Datos de la empresa</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"horarios\"> <i className=\"fa fa-circle-o\"></i> Horarios de Trabajo</a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </section>\r\n        </aside>\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Footer extends React.Component {\r\n    render() {\r\n        return <footer className=\"main-footer\" style={{ position: 'relative', bottom: 0 }}>\r\n            <div className=\"pull-right hidden-xs\"><b>Version</b> 2.1.3</div>\r\n            <strong> <a href=\"http://ailanthus-sistems.com/\"><img src=\"/logos/logo-text.svg\" width=\"150px\" /></a> Copyright ¬© 2021-2025.</strong>\r\n        </footer>\r\n    }\r\n}","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport 'react-toastify/dist/ReactToastify.css';\nimport './CSS/font-awesome/css/font-awesome.min.css';\nimport './CSS/skins.min.css';\nimport './CSS/AdminLTE.min.css';\nimport './CSS/App.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ListCotizaciones from './App/Cotizacion';\nimport ListFactura from './App/Facturas';\nimport ListNotas from './App/Nota';\nimport ListOrdenes from './App/Orden';\nimport ListConpra from './App/Compra';\nimport NuevaOrden from './App/Orden/Nuevo';\nimport NuevaCompra from './App/Compra/Nuevo';\nimport { ToastContainer } from 'react-toastify';\nimport NuevaNota from './App/Nota/Nuevo';\nimport NuevaFactura from './App/Facturas/Nuevo';\nimport NuevaCotizacion from './App/Cotizacion/Nueva';\nimport Header from './Template/Header';\nimport Menu from './Template/Menu';\nimport Footer from './Template/Footer';\n\nfunction App() {\n  return (<Router>\n    <Header key='headerBar' />\n    <Menu key='MenuAside' />\n    <section style={{ marginLeft: \"50px\", minHeight: \"calc(100vh - 110px)\", }} className=\"content\">\n      <ToastContainer position='bottom-right' />\n      <Switch>\n        <Route path=\"/ver_cotizaciones\" component={ListCotizaciones} />\n        <Route path=\"/nueva_cotizacion\" component={NuevaCotizacion} />\n        <Route path=\"/ver_ordenes\" component={ListOrdenes} />\n        <Route path=\"/nueva_orden\" component={NuevaOrden} />\n        <Route path=\"/ver_facturas\" component={ListFactura} />\n        <Route path=\"/nueva_factura\" component={NuevaFactura} />\n        <Route path=\"/ver_notas\" component={ListNotas} />\n        <Route path=\"/nueva_nota\" component={NuevaNota} />\n        <Route path=\"/ver_compras\" component={ListConpra} />\n        <Route path=\"/nueva_compra\" component={NuevaCompra} />\n      </Switch>\n    </section>\n    <Footer />\n  </Router>);\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(); \n"],"sourceRoot":""}