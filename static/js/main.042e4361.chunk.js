(this.webpackJsonpsisreact=this.webpackJsonpsisreact||[]).push([[0],{66:function(t,e,a){},80:function(t,e,a){},94:function(t,e,a){},96:function(t,e,a){},97:function(t,e,a){"use strict";a.r(e);var c=a(1),s=a.n(c),n=a(30),r=a.n(n),i=(a(80),a(17)),o=a(23),l=a(9),j=a(11),d=a(2),u=a(3),h=a(4),O=a(5),b=a(20),x=a(15),p=a.n(x),f=a(67);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=Math.abs(t),c=t.toString().length,s="0";return e<=c?t<0?"-"+a.toString():a.toString():t<0?"-"+s.repeat(e-c)+a.toString():s.repeat(e-c)+a.toString()}function m(t){return t.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}function A(t){var e=new Date(t),a=e.getFullYear(),c=e.getMonth()+1;return v(e.getDate(),2)+"/"+v(c,2)+"/"+a}function g(t){var e=t?new Date(t):new Date,a=e.getHours(),c=e.getMinutes(),s=e.getSeconds(),n=" AM";return a>=12&&(n=" PM"),a>12&&(a-=12),0===a&&(a+=12),v(a,2)+":"+v(c,2)+":"+v(s,2)+n}function E(t){var e=new Date(t),a=e.getFullYear(),c=e.getMonth()+1,s=e.getDate(),n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=a+v(c,2)+v(s,2)+v(n,2)+v(r,2)+v(i,2);return parseInt(o)}var C=function(){function t(e){Object(d.a)(this,t),this.url=void 0,this.data=void 0,this.persistencia=0,this.url=e;var a=localStorage.getItem(e);if(null!==a){var c=JSON.parse(a);Object(f.isArray)(c.data)&&(this.data=c.data.map((function(t){return t}))),this.persistencia=c.persistencia}}return Object(u.a)(t,[{key:"setData",value:function(t){localStorage.setItem(this.url,JSON.stringify({data:t,persistencia:this.tiempoNumber()}))}},{key:"renovar",value:function(t){return!(void 0!==t&&this.persistencia+t>this.tiempoNumber())}},{key:"tiempoNumber",value:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,c=t.getDate()+1,s=t.getHours(),n=t.getMinutes(),r=t.getSeconds(),i=e+v(a,2)+v(c,2)+v(s,2)+v(n,2)+v(r,2);return parseInt(i)}}]),t}(),y=function(t){};function N(){return navigator.onLine?(y(!0),!0):(y(!1),!1)}var R=function(){function t(){Object(d.a)(this,t),this.persistencia=0,this.update=-100,this.clase="",this.state="",this.init=!0}return Object(u.a)(t,[{key:"updater",value:function(t){}},{key:"commadUpdate",value:function(){this.updater(this.clase)}},{key:"cambios",value:function(){var t=Object(b.a)(p.a.mark((function t(e,a){var c,s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(),c=localStorage.getItem("Authorization"),s="/api/"+this.clase+"/cambios/"+this.state.replace(" ","/"),t.prev=3,t.next=6,fetch(s,{headers:{Authorization:"Bearer "+c}});case 6:return n=t.sent,t.next=9,n.json();case 9:return r=t.sent,t.t0=Array,t.next=13,r.data;case 13:if(t.t1=t.sent,!t.t0.isArray.call(t.t0,t.t1)){t.next=29;break}return t.next=17,r.data.length;case 17:if(t.t2=t.sent,0===t.t2){t.next=28;break}return t.next=21,r.fecha;case 21:return this.state=t.sent,t.t3=e,t.next=25,r.data;case 25:t.t4=t.sent,(0,t.t3)(t.t4),this.init&&(this.init=!1);case 28:a&&a();case 29:t.next=34;break;case 31:t.prev=31,t.t5=t.catch(3),console.log(t.t5);case 34:case"end":return t.stop()}}),t,this,[[3,31]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"cargarListaCache",value:function(t){var e="/api/"+this.clase+"/lista",a=new C(e);void 0!==a.data&&t(a.data)}},{key:"cargarListaWeb",value:function(){var t=Object(b.a)(p.a.mark((function t(e){var a,c,s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("Authorization"),c="/api/"+this.clase+"/lista",t.prev=2,t.next=5,fetch(c,{headers:{Authorization:"Bearer "+a}});case 5:return s=t.sent,t.next=8,s.json();case 8:return n=t.sent,t.t0=Array,t.next=12,n;case 12:if(t.t1=t.sent,!t.t0.isArray.call(t.t0,t.t1)){t.next=24;break}return t.t2=e,t.next=17,n;case 17:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=this,t.next=22,n;case 22:t.t5=t.sent,t.t4.saveLista.call(t.t4,t.t5);case 24:t.next=29;break;case 26:t.prev=26,t.t6=t.catch(2),console.log(t.t6);case 29:case"end":return t.stop()}}),t,this,[[2,26]])})));return function(e){return t.apply(this,arguments)}}()},{key:"lista",value:function(){var t=Object(b.a)(p.a.mark((function t(e){var a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cargarListaCache(e),a=localStorage.getItem("Authorization"),t.prev=2,t.next=5,fetch("/api/Auth/estado",{headers:{Authorization:"Bearer "+a}});case 5:return c=t.sent,t.next=8,c.json();case 8:return s=t.sent,t.t0=this.update,t.next=12,s[this.clase];case 12:if(t.t1=t.sent,!(t.t0<t.t1)){t.next=18;break}return t.next=16,s[this.clase];case 16:this.update=t.sent,this.cargarListaWeb(e);case 18:t.next=23;break;case 20:t.prev=20,t.t2=t.catch(2),N()&&console.log(t.t2);case 23:case"end":return t.stop()}}),t,this,[[2,20]])})));return function(e){return t.apply(this,arguments)}}()},{key:"detalle",value:function(){var t=Object(b.a)(p.a.mark((function t(e,a){var c,s,n,r,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c="/api/"+this.clase+"/detalles/"+e,s=this.clase+"/detalles/"+e,null===(n=localStorage.getItem(s))){t.next=7;break}a(JSON.parse(n)),t.next=33;break;case 7:return t.prev=7,r=localStorage.getItem("Authorization"),t.next=11,fetch(c,{headers:{Authorization:"Bearer "+r}});case 11:return i=t.sent,t.next=14,i.json();case 14:return o=t.sent,t.t0=a,t.next=18,o;case 18:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=localStorage,t.t3=s,t.t4=JSON,t.next=25,o;case 25:t.t5=t.sent,t.t6=t.t4.stringify.call(t.t4,t.t5),t.t2.setItem.call(t.t2,t.t3,t.t6),t.next=33;break;case 30:t.prev=30,t.t7=t.catch(7),N()&&console.log(t.t7);case 33:case"end":return t.stop()}}),t,this,[[7,30]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"cancelar",value:function(){var t=Object(b.a)(p.a.mark((function t(e,a){var c,s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=localStorage.getItem("Authorization"),t.prev=1,t.next=4,fetch("/api/"+this.clase+"/cancelar/"+e,{headers:{Authorization:"Bearer "+c}});case 4:return s=t.sent,t.next=7,s.json();case 7:n=t.sent,a&&a(n),this.commadUpdate(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),N()&&console.log(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"nuevo",value:function(t,e,a){this.post("/api/"+this.clase+"/nuevo",t,e,a)}},{key:"actualizar",value:function(t,e,a,c){this.post("/api/"+this.clase+"/actualizar/"+t,e,a,c)}},{key:"checkListaCache",value:function(t,e,a){}},{key:"saveLista",value:function(t){var e="/api/"+this.clase+"/lista";new C(e).setData(t),localStorage.setItem(this.clase+"Update",this.update+"")}},{key:"get",value:function(){var t=Object(b.a)(p.a.mark((function t(e,a){var c,s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(c=new C(e)).data&&a(c.data),!c.renovar(this.persistencia)){t.next=26;break}return t.prev=3,s=localStorage.getItem("Authorization"),t.next=7,fetch(e,{headers:{Authorization:"Bearer "+s}});case 7:return n=t.sent,t.next=10,n.json();case 10:return r=t.sent,t.t0=a,t.next=14,r;case 14:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=c,t.next=19,r;case 19:t.t3=t.sent,t.t2.setData.call(t.t2,t.t3),t.next=26;break;case 23:t.prev=23,t.t4=t.catch(3),N()&&console.log(t.t4);case 26:case"end":return t.stop()}}),t,this,[[3,23]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"forceGetWeb",value:function(){var t=Object(b.a)(p.a.mark((function t(e,a,c){var s,n,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=localStorage.getItem("Authorization"),t.next=4,fetch(e,{headers:{Authorization:"Bearer "+s}});case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,t.t0=a,t.next=11,r;case 11:return t.t1=t.sent,(0,t.t0)(t.t1),i=new C(e),t.t2=i,t.next=17,r;case 17:t.t3=t.sent,t.t2.setData.call(t.t2,t.t3),t.next=24;break;case 21:t.prev=21,t.t4=t.catch(0),N()&&(console.log(t.t4),c&&c(t.t4));case 24:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e,a,c){return t.apply(this,arguments)}}()},{key:"getCacheOnly",value:function(t,e){var a=new C(t);void 0!==a.data&&e(a.data)}},{key:"post",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){},n=localStorage.getItem("Authorization"),r=new XMLHttpRequest;r.responseType="json",r.open("POST",e),null!==n&&r.setRequestHeader("Authorization","Bearer "+n),r.onreadystatechange=function(e){4===r.readyState?200===r.status?(c(r.response),t.commadUpdate()):N()&&s(r):console.log(r.readyState)},r.send(this.FormDataFotmat(a))}},{key:"FormDataFotmat",value:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){if("object"===typeof t[a])e.append(a,JSON.stringify(t[a]));else e.append(a,t[a])})),e}}]),t}(),S=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this)).config=void 0,c.config=t,c}return Object(u.a)(a,[{key:"pull",value:function(t){this.forceGetWeb("/api/Config/get/"+this.config,t)}},{key:"push",value:function(t,e){this.post("/api/Config/set/"+this.config,t,(function(t){e(t),Object(l.b)("CONFIGURACION GUARDADA EXITOSAMENTE",{type:l.b.TYPE.SUCCESS})}))}}]),a}(R);function T(t){return new S(t)}var D=new(function(){function t(){Object(d.a)(this,t),this.turnos=[],this.index=0,this.block=!0,this.add=this.add.bind(this),this.next=this.next.bind(this),this.clean=this.clean.bind(this),this.isTurn=this.isTurn.bind(this)}return Object(u.a)(t,[{key:"add",value:function(t){this.turnos.push(t)}},{key:"clean",value:function(t){this.turnos=this.turnos.filter((function(e){return e!==t})),this.index>=this.turnos.length&&(this.index=0)}},{key:"isTurn",value:function(t){return!(!this.block||this.turnos[this.index]!==t)&&(this.block=!1,!0)}},{key:"next",value:function(){this.block=!0,this.index++,this.index>=this.turnos.length&&(this.index=0)}}]),t}());function I(){return D}var k=a(0),P=Object(c.createContext)({tasa:1});function w(t){var e,a=t.children,s=Object(c.useState)(1),n=Object(j.a)(s,2),r=n[0],i=n[1],o=I(),l=Object(c.useCallback)((function(){o.isTurn("Dolares")&&T("").forceGetWeb("/api/Dolares/valor",(function(t){r!==t&&i(t),o.next()}))}),[r]);return Object(c.useEffect)((function(){return e=setInterval(l,100),function(){return clearInterval(e)}}),[r]),Object(c.useEffect)((function(){return o.add("Dolares"),function(){return o.clean("Dolares")}}),[]),Object(k.jsx)(P.Provider,{value:{tasa:r},children:a})}P.Consumer;var U=a(114),L=a(105),F=a(68),M={id_usuario:-1,usuario:"",nivel:0,fecha:"",rol:"",permisos:[]},B=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Usuario",t.persistencia=1e6,t}return Object(u.a)(a,[{key:"listaRoles",value:function(t){this.forceGetWeb("/api/Usuario/listar_roles",t)}},{key:"listaPermisos",value:function(t){this.forceGetWeb("/api/Usuario/listar_permisos",t)}},{key:"PermisosRol",value:function(t,e){this.forceGetWeb("/api/Usuario/detalles_rol/"+t,e)}},{key:"nuevoRol",value:function(t,e){this.post("/api/"+this.clase+"/nuevo_rol",t,e)}},{key:"actualizarRol",value:function(t,e,a){this.post("/api/"+this.clase+"/actualizar_rol/"+t,e,a)}},{key:"clave",value:function(t,e,a,c){this.post("/api/"+this.clase+"/clave/"+t,e,a,c)}}]),a}(R);function _(){return new B}var V=a(6),z={margen_sup:15,margen_inf:15,margen_izq:15,margen_der:15,version:"nuevo",encabezado:!0,piepagina:!0,tipo_papel:"LETTER"},G={codigo:0,nota:"",fecha:"",subtotal:0,total:0,impuesto:0,tasa:0,detalles:[]},H=Object(V.a)(Object(V.a)({},G),{},{forma_pago:"",tiempo_entrega:"",validez:""}),Y={status:1,hora:"CARGADO DESDE CACHE"},Z=a(19);function W(t){var e=0;return t.forEach((function(t){var a=t.precio,c=t.unidades;e+=a*c})),e}function J(t){return t.map((function(t){return{codigo:t.codigo,precio:t.precio,unidades:t.unidades,comentario:t.comentario}}))}function K(t,e,a){var c,s=(c=t,c.map((function(t){return{codigo:t[0],rif:t[1],nombre:t[2],fecha:t[3],monto:t[4],usuario:t[5],status:t[6],detalles:t[7],tasa:t[8]?t[8]:0}}))).filter((function(t){var a=e.findIndex((function(e){return e.codigo===t.codigo}));return!(a>-1)||(e[a]=t,!1)})),n=[].concat(Object(Z.a)(e),Object(Z.a)(s));return a.saveLista(n),n}var q,Q=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Moneda",t.persistencia=1e3,t}return Object(u.a)(a)}(R);function X(){return new Q}function $(t){return q([t])}function tt(t){return q(t)}var et=Object(c.createContext)(null);function at(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(Y),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)(M),h=Object(j.a)(u,2),O=h[0],x=h[1],f=Object(c.useState)([]),v=Object(j.a)(f,2),m=v[0],A=v[1],E=Object(c.useState)(!1),C=Object(j.a)(E,2),N=C[0],R=C[1],S=Object(c.useState)(!0),T=Object(j.a)(S,2),D=T[0],I=T[1],P=Object(c.useState)(!0),w=Object(j.a)(P,2),U=w[0],L=w[1];y=R;var F=Object(c.useCallback)(Object(b.a)(p.a.mark((function t(){var e,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Auth/me",{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,I(!1),L(0!==c.id_usuario),A(c.permisos),x(c),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),[]),B=Object(c.useCallback)(Object(b.a)(p.a.mark((function t(){var e,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Auth/close",{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,localStorage.removeItem("Authorization"),t.next=8,a.json();case 8:F(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),[]),V=Object(c.useCallback)((function(){U&&(d({status:2,hora:"...ACTUALIZANDO"}),_().cargarListaWeb((function(t){r(t),d({status:3,hora:g(void 0)})})))}),[]);return q=function(t){return t.some((function(t){return m.some((function(e){return e===t}))}))},Object(c.useEffect)((function(){_().cargarListaWeb(r),V()}),[U]),Object(c.useEffect)((function(){F()}),[]),Object(k.jsx)(et.Provider,{value:{data:{usuarios:n,User:O,Permisos:m,online:N,cargando:D,seccion:U,estUsuarios:l},user:F,logout:B,atcUsuario:V,usuarios:n},children:e})}et.Consumer;var ct=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.context.data.User;return Object(k.jsxs)(U.a,{as:L.a,className:"user-menu",children:[Object(k.jsxs)(U.a.Toggle,{variant:"success",children:[Object(k.jsx)("img",{src:"/logos/user.jpg",className:"user-image img-circle elevation-2",alt:"Logo2"}),Object(k.jsx)("span",{className:"d-none d-md-inline",children:t.usuario})]}),Object(k.jsxs)(U.a.Menu,{children:[Object(k.jsxs)("li",{className:"user-header bg-info",children:[Object(k.jsx)("img",{src:"/logos/user.jpg",className:"img-circle elevation-2",alt:"Logo"}),Object(k.jsxs)("p",{children:[t.usuario,Object(k.jsx)("small",{children:A(t.fecha)})]})]}),Object(k.jsxs)("li",{className:"user-footer",children:[Object(k.jsx)(F.a,{onClick:this.cacheClear.bind(this),className:"btn btn-warning btn-flat",children:"LIMPIAR"}),Object(k.jsx)(F.a,{onClick:this.context.logout,className:"btn btn-danger btn-flat float-right",children:"SALIR"})]})]})]})}},{key:"cacheClear",value:function(){_().forceGetWeb("/api/Auth/token",(function(t){localStorage.clear(),localStorage.setItem("Authorization",t.token)}))}}]),a}(s.a.Component);ct.contextType=et;var st=ct;function nt(){var t=Object(c.useContext)(P).tasa,e=Object(c.useState)(localStorage.getItem("menu")),a=Object(j.a)(e,2),s=a[0],n=a[1],r=function(t){n(t),localStorage.setItem("menu",t)};null===s&&r("open");return Object(c.useEffect)((function(){var t=document.getElementsByTagName("body")[0];t&&("cerrado"===s?t.classList.add("sidebar-collapse"):t.classList.remove("sidebar-collapse"))}),[s]),Object(k.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-success navbar-light",children:[Object(k.jsx)("ul",{className:"navbar-nav",children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)("div",{className:"nav-link",onClick:function(){r("open"===s?"cerrado":"open")},children:Object(k.jsx)("i",{className:"fa fa-bars"})})})}),Object(k.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)("span",{className:"btn bg-success active",children:["TASA ACTUAL: ",Object(k.jsx)("b",{children:m(t)})]})}),Object(k.jsx)(st,{})]})]})}function rt(t){var e=t.permiso,a=t.to,c=t.children;return $(e)?Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(i.b,{className:"nav-link",to:a,children:c})}):Object(k.jsx)(k.Fragment,{})}function it(){return Object(k.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary",children:[Object(k.jsxs)(i.b,{to:"/",className:"brand-link bg-success",style:{width:"100%",height:"57px"},children:[Object(k.jsx)("img",{width:33,height:33,src:"/logos/logo.svg",alt:"logo",className:"brand-image img-circle"}),Object(k.jsx)("img",{src:"/logos/texto.svg",alt:"letras",className:"brand-image brand-text",style:{transitionDelay:".2s"}})]}),Object(k.jsx)("div",{className:"sidebar",children:Object(k.jsx)("nav",{className:"mt-2",children:Object(k.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsxs)(i.b,{to:"/",className:"nav-link",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-home"})," ",Object(k.jsx)("p",{children:"INICIO"})]})}),Object(k.jsxs)(rt,{to:"/orden/lista",permiso:"ORDEN",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-paperclip"})," ",Object(k.jsx)("p",{style:{width:"200px"},children:" ORDENES DE COMPRA "})]}),Object(k.jsxs)(rt,{to:"/compra/lista",permiso:"COMPRA",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-shopping-cart"})," ",Object(k.jsx)("p",{children:" COMPRAS "})]}),Object(k.jsxs)(rt,{to:"/cotizacion/lista",permiso:"COTIZACION",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-calculator"})," ",Object(k.jsx)("p",{children:" COTIZACIONES "})]}),Object(k.jsxs)(rt,{to:"/nota/lista",permiso:"NOTA",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-paper-plane"})," ",Object(k.jsx)("p",{children:" NOTAS DE ENTREGA "})]}),Object(k.jsxs)(rt,{to:"/factura/lista",permiso:"FACTURA",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-tag"})," ",Object(k.jsx)("p",{children:" FACTURAS "})]}),Object(k.jsxs)(rt,{to:"/proveedores",permiso:"PROVEEDOR",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-truck"})," ",Object(k.jsx)("p",{children:" PROVEEDORES"})]}),Object(k.jsxs)(rt,{to:"/clientes",permiso:"CLIENTE",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-user"}),Object(k.jsx)("p",{children:" CLIENTES"})]}),Object(k.jsxs)(rt,{to:"/producto",permiso:"PRODUCTO",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-laptop"})," ",Object(k.jsx)("p",{children:" INVENTARIO"})]}),Object(k.jsxs)(rt,{to:"/producto/ajuste/lista",permiso:"AJUSTE",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-th-large"})," ",Object(k.jsx)("p",{children:"AJUSTES"})]}),Object(k.jsxs)(rt,{to:"/usuarios",permiso:"USUARIO",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-users"}),Object(k.jsx)("p",{children:" USUARIOS"})]}),Object(k.jsxs)(rt,{to:"/reporte",permiso:"REPORTE",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-chart-line"}),Object(k.jsx)("p",{children:" REPORTES"})]}),Object(k.jsxs)(rt,{to:"/config",permiso:"CONFIG",children:[Object(k.jsx)("i",{className:"nav-icon fa fa-wrench"}),Object(k.jsx)("p",{children:" CONFIGURACION"})]})]})})})]})}var ot=a(71);function lt(){var t=Object(c.useContext)(et).data.online;return Object(c.useMemo)((function(){return Object(k.jsx)("footer",{className:"main-footer"+(t?"":" bg-danger"),style:{position:"fixed",bottom:0,left:0,right:0},children:t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"float-right hidden-xs",children:[Object(k.jsx)("b",{children:"Version"})," 2.2.5"]}),Object(k.jsxs)("strong",{children:[" ",Object(k.jsx)("a",{href:"http://ailanthus-sistems.com/",children:Object(k.jsx)("img",{src:"/logos/logo-text.svg",width:"150px",alt:"logo"})})," Copyright \xa9 2021-2025."]})]}):Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("strong",{children:["SE ENCUENTRA ACTULAMENTE SIN CONEXION A INTERNET, PUEDE NAVEGAR Y MONTAR LAS OPERACIONES PERO NO PODRA PROCESARLAS.",Object(k.jsx)("br",{}),Object(k.jsx)(ot.a,{xs:12,style:{textAlign:"center"},children:"TOMAR PREVISIONES"})]})})})}),[t])}var jt=a(13),dt=a(115),ut=a(107),ht=a(108),Ot=a(106),bt=a(119),xt=a(32);function pt(t){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),s=a[0],n=a[1];return Object(k.jsx)(bt.a,Object(V.a)(Object(V.a)({},function(){var e=Object(V.a)({},t);return e.value=void 0,Object(V.a)(Object(V.a)({},e),s?{defaultValue:t.value}:{value:t.value})}()),{},{as:"textarea",onFocus:function(){n(!0)},onBlur:function(){n(!1)},onKeyUp:function(e){13===e.keyCode&&t.next&&t.next()},onChange:function(e){var a=e.currentTarget.value;t.upper&&(a=a.toUpperCase()),t.lower&&(a=a.toLowerCase()),t.update?t.setData(Object(xt.a)({},t.update,a)):t.setData(a)}}))}function ft(t){var e=t.error&&t.update?!!t.error[t.update]:!!t.error;return Object(k.jsxs)(Ot.a,{hasValidation:e,children:[t.before?Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:t.before})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(pt,Object(V.a)(Object(V.a)({},Object(V.a)({},t)),{},{isInvalid:e})),t.after?Object(k.jsx)(Ot.a.Append,{children:Object(k.jsx)(Ot.a.Text,{children:t.after})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:t.error&&t.update?t.error[t.update]?t.error[t.update]:t.error:""})]})}function vt(t){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),s=a[0],n=a[1];return Object(k.jsx)(bt.a,Object(V.a)(Object(V.a)({},function(){var e=Object(V.a)({},t);return e.value=void 0,e.type="date",Object(V.a)(Object(V.a)({},e),s?{defaultValue:t.value}:""!==t.value?{value:t.value}:{value:"dd/mm/aaaa"})}()),{},{onFocus:function(){n(!0)},onBlur:function(){n(!1)},onKeyUp:function(e){13===e.keyCode&&t.next&&t.next()},onChange:function(e){var a=e.currentTarget.value;t.update?t.setData(Object(xt.a)({},t.update,a)):t.setData(a)}}))}function mt(t){var e=t.error&&t.update?!!t.error[t.update]:!!t.error;return Object(k.jsxs)(Ot.a,{hasValidation:e,children:[t.before?Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:t.before})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(vt,Object(V.a)(Object(V.a)({},Object(V.a)({},t)),{},{isInvalid:e})),t.after?Object(k.jsx)(Ot.a.Append,{children:Object(k.jsx)(Ot.a.Text,{children:t.after})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:t.error&&t.update?t.error[t.update]?t.error[t.update]:t.error:""})]})}function At(t){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),s=a[0],n=a[1];return Object(k.jsx)(bt.a,Object(V.a)(Object(V.a)({},function(){var e=Object(V.a)({},t),a=t.style;return a=Object(V.a)(Object(V.a)({},a),{},{textAlign:"right"}),e.value=void 0,e.style=void 0,Object(V.a)(Object(V.a)(Object(V.a)({},e),s?{defaultValue:t.value,type:"number"}:{value:m(t.value)}),{},{style:a})}()),{},{onFocus:function(){n(!0)},onBlur:function(){n(!1)},onKeyUp:function(e){13===e.keyCode&&t.next&&t.next()},onChange:function(e){var a=e.currentTarget.value,c=""!==a?parseFloat(a):0;t.min&&t.min>c&&(c=t.min),t.max&&t.max<c&&(c=t.max),t.update?t.setData(Object(xt.a)({},t.update,c)):t.setData(c)}}))}function gt(t){var e=t.error&&t.update?!!t.error[t.update]:!!t.error;return Object(k.jsxs)(Ot.a,{hasValidation:e,children:[t.before?Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:t.before})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(At,Object(V.a)(Object(V.a)({},Object(V.a)({},t)),{},{isInvalid:e})),t.after?Object(k.jsx)(Ot.a.Append,{children:Object(k.jsx)(Ot.a.Text,{children:t.after})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:t.error&&t.update?t.error[t.update]?t.error[t.update]:t.error:""})]})}function Et(t){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),s=a[0],n=a[1];return Object(k.jsx)(bt.a,Object(V.a)(Object(V.a)({},function(){var e=Object(V.a)({},t);return e.value=void 0,Object(V.a)(Object(V.a)({},e),s?{defaultValue:t.value}:{value:t.value})}()),{},{as:"input",onFocus:function(){n(!0)},onBlur:function(){n(!1)},onKeyUp:function(e){13===e.keyCode&&t.next&&t.next()},onChange:function(e){var a=e.currentTarget.value;t.only&&(a=function(t,e){var a="";return t.length>0?(t.split("").forEach((function(t){switch(e){case"alphanumeric":/[A-Za-z0-9]/g.test(t)&&(a+=t);break;case"letter":/[A-Za-z]/g.test(t)&&(a+=t);break;case"number":/[0-9]/g.test(t)&&(a+=t)}})),a):""}(a,t.only)),t.mask&&(a=function(t,e){var a="";return t.length>0?(e.split("").forEach((function(e,c){"a"===e?/[A-Za-z]/g.test(t[c])&&(a+=t[c]):"A"===e?/[A-Za-z]/g.test(t[c])&&(a+=t[c].toUpperCase()):"9"===e?/[0-9]/g.test(t[c])&&(a+=t[c]):"*"===e?/[A-Za-z0-9]/g.test(t[c])&&(a+=t[c]):void 0!==t[c]?a.length===c&&(a+=e):void 0===t[c]&&"a"!==e&&"A"!==e&&"9"!==e&&"*"!==e&&a.length===c&&(a+=e)})),a):""}(a,t.mask)),t.upper&&(a=a.toUpperCase()),t.lower&&(a=a.toLowerCase()),e.currentTarget.value=a,t.update?t.setData(Object(xt.a)({},t.update,a)):t.setData(a)}}))}function Ct(t){var e=t.error&&t.update?!!t.error[t.update]:!!t.error;return Object(k.jsxs)(Ot.a,{hasValidation:e,children:[t.before?Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:t.before})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(Et,Object(V.a)(Object(V.a)({},Object(V.a)({},t)),{},{isInvalid:e})),t.after?Object(k.jsx)(Ot.a.Append,{children:Object(k.jsx)(Ot.a.Text,{children:t.after})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:t.error&&t.update?t.error[t.update]?t.error[t.update]:t.error:""})]})}var yt=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={roles:"carro"},c}return Object(u.a)(a,[{key:"setUsers",value:function(t){this.setState({roles:t})}},{key:"render",value:function(){return Object(k.jsxs)(bt.a,{as:"select",onChange:this.setRol.bind(this),value:this.props.defaultValue,isInvalid:this.props.isInvalid,children:[Object(k.jsx)("option",{value:-1,children:"SELECCIONAR ROL"}),"carro"!==this.state.roles?this.state.roles.map((function(t){return Object(k.jsx)("option",{value:t.id,children:t.nombre},"unids"+t.id)})):Object(k.jsx)(k.Fragment,{})]})}},{key:"componentDidMount",value:function(){this.set()}},{key:"setRol",value:function(t){var e=t.currentTarget.value,a=parseInt(e);this.props.change(a)}},{key:"set",value:function(){_().listaRoles(this.setUsers.bind(this))}}]),a}(s.a.Component),Nt=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=_(),c.error=[],c.setState=c.setState.bind(Object(jt.a)(c)),null!==t.user?c.state=t.user:c.state={clave:"",codigo:0,nombre:"",correo:"",rol:"",nivel:-1,estado:1},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState,e=this.state,a=e.clave,c=e.nombre,s=e.correo,n=e.nivel,r=this.props,i=r.open,o=r.close,l=r.title;return Object(k.jsxs)(dt.a,{animation:!0,show:i,onHide:o,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h4",{className:"mr-auto",children:l})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,placeholder:"VICTOR REQUENA",before:"NOMBRE",maxLength:150,value:c,setData:t,update:"nombre"})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,placeholder:"VENTAS@AILANTHUS-SISTEMS.COM",before:"CORREO",maxLength:150,value:s,setData:t,update:"correo"})}),null===this.props.user?Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,placeholder:"*********",maxLength:120,type:"password",before:"CLAVE",value:a||"",setData:t,update:"clave"})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsxs)(ot.a,{as:Ot.a,hasValidation:!!this.error.nivel,xs:12,children:[Object(k.jsx)(yt,{isInvalid:!!this.error.nivel,defaultValue:n,change:function(e){t({nivel:e})}}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:this.error.nivel?this.error.nivel:""})]})]})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.get.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," Guardar"]})})]})}},{key:"get",value:function(){var t=this;this.error=[],""===this.state.nombre&&(this.error.nombre="DEBE COLOCAR EL RASON SOCIAL"),""===this.state.correo&&(this.error.correo="DEBE COLOCAR UN CORREO"),-1===this.state.nivel&&(this.error.nivel="DEBE SELECCINAR UN ROL PARA EL USUARIO"),null===this.props.user?(""===this.state.clave&&(this.error.clave="DEBE COLOCAR UNA CLAVE"),0===Object.keys(this.error).length&&this.con.nuevo(this.state,(function(e){t.props.add&&t.props.add(e),Object(l.b)("GUARDADO EXITOSAMENTE",{type:l.b.TYPE.SUCCESS}),t.props.close()}),this.setError.bind(this))):0===Object.keys(this.error).length&&this.con.actualizar(this.props.user.codigo,this.state,(function(e){t.props.add&&t.props.add(e),Object(l.b)("GUARDADO EXITOSAMENTE",{type:l.b.TYPE.SUCCESS}),t.props.close()}),this.setError.bind(this)),this.forceUpdate()}},{key:"setError",value:function(t){var e=this;t.response&&(t.response.errores.forEach((function(t){t.sql?t.sql.forEach((function(t){return Object(l.b)(t,{type:l.b.TYPE.ERROR})})):Object.keys(t).forEach((function(a){return e.error[a]=t[a]}))})),console.log(this.error),this.forceUpdate())}}]),a}(s.a.Component),Rt=a(109);function St(t){var e=t.width,a=t.children,c=t.align,s=t.tip;return Object(k.jsx)("th",{"data-tip":s,style:{paddingTop:"1.25rem",minWidth:e,maxWidth:e,width:e,textAlign:c},children:Object(k.jsxs)("span",{children:[a," "]})})}function Tt(t){var e=t.width,a=t.children,c=t.align,s=t.tip;return Object(k.jsx)("th",{style:{minWidth:e,maxWidth:e,width:e,textAlign:c},"data-tip":s,children:a})}var Dt=a(72),It=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=_(),c.error=[],c.action=void 0,c.setState=c.setState.bind(Object(jt.a)(c)),c.state={clave:"",repetir_clave:""},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState,e=this.state,a=e.clave,c=e.repetir_clave,s=this.props,n=s.open,r=s.close,i=s.title;return Object(k.jsxs)(dt.a,{animation:!0,show:n,onHide:r,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h4",{className:"mr-auto",children:i})}),Object(k.jsxs)(dt.a.Body,{children:[Object(k.jsx)(ut.a,{children:Object(k.jsxs)(Dt.a,{children:[Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,placeholder:"*********",maxLength:120,type:"password",before:"CLAVE",value:a,setData:t,update:"clave"})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,placeholder:"*********",maxLength:120,type:"password",before:"REPETIR",value:c,setData:t,update:"repetir_clave"})})]})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.get.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," Guardar"]})})]})]})}},{key:"get",value:function(){var t=this,e=this.state,a=e.clave,c=e.repetir_clave,s=!0;""===a&&(this.error.clave="DEBE COLOCAR UNA CLAVE",s=!1),c!==a&&(this.error.repetir_clave="DEBEN SER IGUALES",s=!1),s&&this.con.post("/api/Usuario/clave/"+this.props.user.codigo,this.state,(function(){Object(l.b)("CLAVE GUARDADA",{type:l.b.TYPE.SUCCESS}),t.props.close()}),(function(){return Object(l.b)("ERROR AL GUARDAR",{type:l.b.TYPE.ERROR})})),this.forceUpdate()}},{key:"setError",value:function(t){var e=this;t.response&&(t.response.errores.forEach((function(t){t.sql?t.sql.forEach((function(t){return Object(l.b)(t,{type:l.b.TYPE.ERROR})})):Object.keys(t).forEach((function(a){return e.error[a]=t[a]}))})),console.log(this.error),this.forceUpdate())}}]),a}(s.a.Component),kt=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=_(),c.state=Object(V.a)(Object(V.a)({},t.d),{},{edit:!1,cambiar_clave:!1}),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.nombre,c=e.correo,s=e.rol,n=e.estado,r=e.edit,i=e.cambiar_clave;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"calc(100% - 680px)",children:a}),Object(k.jsx)(St,{width:"350px",children:c}),Object(k.jsx)(St,{width:"150px",children:s}),Object(k.jsx)(St,{width:"70px",children:this.getStatus()}),Object(k.jsx)("th",{style:{width:"110px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:function(){t.setState({edit:!0})},children:Object(k.jsx)("i",{className:"fa fa-edit"})}),Object(k.jsx)(Nt,{user:this.state,title:"EDITAR USUARIO DE "+a,open:r,close:function(){t.setState({edit:!1})},add:this.props.update}),Object(k.jsx)(It,{user:this.state,title:"CAMBIAR CONTRASE\xd1A "+a,open:i,close:function(){t.setState({cambiar_clave:!1})},add:this.props.update}),Object(k.jsx)(F.a,{"data-tip":"CAMBIAR CONTRASE\xd1A",variant:"warning",onClick:function(){t.setState({cambiar_clave:!0})},children:Object(k.jsx)("i",{className:"fa fa-lock"})}),1===n?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsxs)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:[Object(k.jsx)("i",{className:"fa fa-check"})," "]})]})})]})}},{key:"getStatus",value:function(){return 1===this.state.estado?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"cancelar",value:function(){var t=this.props,e=t.update,a=t.d.codigo;this.con.cancelar(a,e)}}]),a}(s.a.Component),Pt=a(110),wt=a(120);function Ut(t){if(0===t.length)return Object(k.jsx)(k.Fragment,{});var e=t.setpage,a=t.length,c=t.mostrar,s=t.page,n=Math.ceil(a/c),r=[];1===s?r.push(Object(k.jsx)(wt.a.Item,{active:!0,children:"1"},"active1")):r.push(Object(k.jsx)(wt.a.Item,{onClick:e.bind(t,1),children:"1"},"p1"));for(var i=3;i>0;i--)s-i>1&&(3===i?r.push(Object(k.jsx)(wt.a.Ellipsis,{},"Ellipsis1")):r.push(Object(k.jsx)(wt.a.Item,{onClick:e.bind(t,s-i),children:s-i},"p"+(s-i))));for(n>s&&s>1&&r.push(Object(k.jsx)(wt.a.Item,{active:!0,children:s})),i=1;i<4;i++)s+i<n&&(3===i?r.push(Object(k.jsx)(wt.a.Ellipsis,{},"Ellipsis2")):r.push(Object(k.jsx)(wt.a.Item,{onClick:e.bind(t,s+i),children:s+i},"p"+(s+i))));return s===n?1<n&&r.push(Object(k.jsx)(wt.a.Item,{active:!0,children:n},"active"+n)):r.push(Object(k.jsx)(wt.a.Item,{onClick:e.bind(t,n),children:n},"p"+n)),Object(k.jsx)(wt.a,{style:{position:"relative",float:"right"},children:r})}function Lt(t){var e=t.children,a=t.col,s=t.row,n=t.mostrar,r=t.itens,i=Object(c.useState)(1),o=Object(j.a)(i,2),l=o[0],d=o[1];function u(t,e){t.codigo,t.id;var a=(l-1)*n;return e>=a&&e<a+n}function h(t){return Object(k.jsx)(k.Fragment,{children:s(t)})}function O(){var t=r.filter(u);return Object(k.jsx)(k.Fragment,{children:t.map((function(t){return Object(k.jsx)(h,Object(V.a)({},t),function(t){var e=t.codigo,a=t.id,c=t.status,s=t.estado,n=t.estatus,r="key";return c&&(r+=c),s&&(r+=s),n&&(r+=n),e&&(r+=e),a&&(r+=a),"key"===r?r+Math.random():r}(t))}))})}return Object(c.useEffect)((function(){return d(1)}),[r.length]),Object(k.jsxs)(Pt.a,{striped:!0,hover:!0,children:[Object(k.jsx)("thead",{children:e}),Object(k.jsx)("tbody",{children:Object(k.jsx)(O,{})},"mostrar"+l),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:a,children:Object(k.jsx)(Ut,{page:l,length:r.length,mostrar:n,setpage:d})})})]})}function Ft(t){var e=t.width,a=t.label,c=t.children,s=t.aling,n=void 0===s?"center":s,r=t.orden,i=t.by,o=t.setOrden;function l(){return i===a?"desc"===r?Object(k.jsx)("i",{className:"fa fa-arrow-up"}):Object(k.jsx)("i",{className:"fa fa-arrow-down"}):Object(k.jsx)(k.Fragment,{})}return Object(k.jsxs)("th",{style:{width:e,maxWidth:e,minHeight:e,textAlign:n,backgroundColor:i===a?"#afd9ee":"#bfe9fe"},onClick:function(){a&&o&&o(i===a?"asc"===r?{orden:"desc"}:{orden:"asc"}:{orden:"desc",by:a})},children:[" ",c," ",Object(k.jsx)(l,{}),"    "]})}var Mt,Bt=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).buscarEn=[],c.buscarLabel="BUSCAR",c.col=8,c.mostar=7,c.state={itens:[],buscar:"",by:"codigo",orden:"desc",modal:!1,open:!1,aux:!1,dolar:!1},c.setState=c.setState.bind(Object(jt.a)(c)),c.Buscador=c.Buscador.bind(Object(jt.a)(c)),c.busqueda=c.busqueda.bind(Object(jt.a)(c)),c.Body=c.Body.bind(Object(jt.a)(c)),c.Header=c.Header.bind(Object(jt.a)(c)),c.Row=c.Row.bind(Object(jt.a)(c)),c.Th=c.Th.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"Buscador",value:function(){return Object(k.jsxs)(Ot.a,{style:{paddingBottom:"15px"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{className:"form-control",upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-search"})," BUSCAR"]})})]})}},{key:"Th",value:function(t){var e=this.setState,a=this.state,c=a.by,s=a.orden;return Object(k.jsx)(Ft,Object(V.a)(Object(V.a)({},t),{},{setOrden:e,by:c,orden:s}))}},{key:"Body",value:function(){var t=this.col,e=this.mostar,a=this.Row,c=this.Header;return Object(k.jsx)(Lt,{mostrar:e,col:t,row:a,itens:this.filter(),children:Object(k.jsx)(c,{})})}},{key:"render",value:function(){var t=this.Body,e=this.Buscador;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(e,{}),Object(k.jsx)(t,{})]})}},{key:"Header",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Row",value:function(t){return Object(k.jsx)(k.Fragment,{})}},{key:"getItens",value:function(){return this.state.itens}},{key:"filter",value:function(){return this.ordenar()}},{key:"busqueda",value:function(){var t=this.state.buscar,e=this.buscarEn;return""!==t?this.getItens().filter((function(a){var c=t.split(" "),s=!1;return e.forEach((function(t){var e=0;c.forEach((function(c){"fecha"===t?A(a[t]).indexOf(c)>-1&&e++:isNaN(a[t])?a[t].toUpperCase().indexOf(c)>-1&&e++:v(parseFloat(a[t])).indexOf(c)>-1&&e++})),c.length===e&&(s=!0)})),s})):this.getItens()}},{key:"ordenar",value:function(){var t=this.state,e=t.by,a=t.orden,c=this.busqueda,s=this.datetonomber;return c().sort((function(t,c){if("fecha"===e){var n=s(t.fecha),r=s(c.fecha);return"desc"===a?r<n?-1:r>n?1:0:n<r?-1:n>r?1:0}return isNaN(c[e])?"desc"===a?t[e]<c[e]?-1:t[e]>c[e]?1:0:c[e]<t[e]?-1:c[e]>t[e]?1:0:"desc"===a?c[e]-t[e]:t[e]-c[e]}))}},{key:"datetonomber",value:function(t){var e=t?new Date(t):new Date,a=e.getFullYear(),c=e.getMonth()+1;return(a*=1e4)+(c*=100)+(e.getDate()+1)}}]),a}(s.a.Component),_t=a(118),Vt=a(117),zt=a(111),Gt={codigo:"",nombre:"",telefono:"",correo:"",contacto:"",direccion:"",estatus:1},Ht=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Proveedor",t.persistencia=1e3,t}return Object(u.a)(a)}(R);function Yt(){return void 0===Mt&&(Mt=new Ht),Mt}var Zt=Object(V.a)(Object(V.a)({},H),{},{cod_proveedor:"",id_orden:0,cod_documento:"",cod_nota:"",nun_control:"",fecha_documento:""});function Wt(t,e){var a=W(t.detalles),c=a*(e/100),s=a+c,n=t.cod_proveedor,r=t.nota,i=t.cod_documento,o=t.nun_control,l=t.fecha_documento;return{id_orden:t.id_orden,cod_proveedor:n,cod_documento:i,nun_control:o,fecha_documento:l,nota:r,total:s,impuesto:c,subtotal:a,detalles:J(t.detalles)}}var Jt=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this)).clase=t,c}return Object(u.a)(a)}(R);function Kt(t){return new Jt(t)}var qt,Qt=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Compra",t.persistencia=1e3,t}return Object(u.a)(a,[{key:"commadUpdate",value:function(){this.updater(this.clase),this.updater("Producto")}},{key:"facturar",value:function(t,e,a){this.post("/api/Compra/facturar/"+t,e,(function(t){a&&a(t)}))}}]),a}(R);function Xt(){return void 0===qt&&(qt=new Qt),qt}function $t(){return Kt("Compra/credito")}function te(){return Kt("Compra/debito")}var ee,ae=Object(V.a)(Object(V.a)({},H),{},{cod_proveedor:""}),ce=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Orden",t.persistencia=1e3,t}return Object(u.a)(a)}(R);function se(){return void 0===ee&&(ee=new ce),ee}var ne,re=Object(V.a)(Object(V.a)({},Gt),{},{tipo_contribuyente:"ORDINARIO",retencion:0}),ie=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Cliente",t.persistencia=1e3,t}return Object(u.a)(a)}(R);function oe(){return void 0===ne&&(ne=new ie),ne}var le=Object(V.a)({cod_cliente:"",plantilla:0,dolar:!1},H);function je(t,e){var a=W(t.detalles),c=a*(e/100),s=a+c,n=t.cod_cliente,r=t.validez,i=t.tiempo_entrega,o=t.forma_pago,l=t.nota;return{cod_cliente:n,plantilla:t.plantilla,validez:r,tiempo_entrega:i,forma_pago:o,nota:l,total:s,impuesto:c,subtotal:a,detalles:J(t.detalles)}}var de,ue=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Cotizacion",t.persistencia=1e3,t}return Object(u.a)(a)}(R);function he(){return void 0===de&&(de=new ue),de}var Oe=Object(V.a)({cod_cliente:"",condicion:"CONTADO"},G);function be(t,e){var a=W(t.detalles),c=function(t){var e=0;return t.forEach((function(t){var a=t.costo,c=t.unidades;e+=a*c})),e}(t.detalles),s=a*(e/100),n=a+s,r=t.cod_cliente,i=t.nota,o=t.condicion;return{id_nota:t.id_nota,id_cotizacion:t.id_cotizacion,cod_cliente:r,condicion:o,porc_impuesto:e,costo:c,impuesto:s,subtotal:a,total:n,nota:i,detalles:J(t.detalles)}}var xe,pe=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Factura",t.persistencia=1e3,t}return Object(u.a)(a,[{key:"commadUpdate",value:function(){this.updater(this.clase),this.updater("Producto")}}]),a}(R);function fe(){return void 0===xe&&(xe=new pe),xe}function ve(t,e){var a=W(t.detalles),c=a*(e/100),s=a+c,n=t.cod_cliente,r=t.nota;return{id_cotizacion:t.id_cotizacion,cod_cliente:n,impuesto:c,total:s,nota:r,detalles:J(t.detalles)}}var me,Ae=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Nota",t.persistencia=1e3,t}return Object(u.a)(a,[{key:"commadUpdate",value:function(){this.updater(this.clase),this.updater("Producto")}}]),a}(R);function ge(){return void 0===me&&(me=new Ae),me}function Ee(t,e,a){return{id_cotizacion:t.codigo,cod_cliente:t.cod_cliente,detalles:0===t.tasa||a?t.detalles:t.detalles.map((function(a){var c=a.codigo,s=a.departamento,n=a.descripcion,r=a.estatus,i=a.enser,o=a.tipo,l=a.costo,j=a.precio1,d=a.precio2,u=a.precio3,h=a.cantidad,O=a.unidad,b=a.exento,x=a.fecha_creacion,p=a.tasa,f=a.medida,v=a.inventario,m=a.unidades,A=a.comentario,g=a.precio;return{codigo:c,departamento:s,descripcion:n,estatus:r,enser:i,tipo:o,costo:l,precio1:j,precio2:d,precio3:u,cantidad:h,unidad:O,exento:b,fecha_creacion:x,tasa:p,medida:f,inventario:v,unidades:m,comentario:A,precio:parseFloat((g*e/t.tasa).toFixed(2))}}))}}var Ce,ye={codigo:"",departamento:"TODO",descripcion:"",estatus:1,enser:0,tipo:-1,costo:1,precio1:1,precio2:1,precio3:1,cantidad:0,exento:!1,unidad:-1,fecha_creacion:"",tasa:1,inventario:3,medida:""},Ne=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Producto",t.persistencia=1e3,t}return Object(u.a)(a)}(R);function Re(){return void 0===Ce&&(Ce=new Ne),Ce}var Se=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Departamento",t.persistencia=1e4,t}return Object(u.a)(a)}(R);function Te(){return new Se}var De=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Unidad",t.persistencia=1e4,t}return Object(u.a)(a)}(R);function Ie(){return new De}var ke=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Tipo",t.persistencia=1e4,t}return Object(u.a)(a)}(R);function Pe(){return new ke}var we=Object(c.createContext)(null);function Ue(t){var e=t.children,a=Object(c.useState)(1),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(1),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)(1),h=Object(j.a)(u,2),O=h[0],b=h[1],x=Object(c.useState)(1),p=Object(j.a)(x,2),f=p[0],v=p[1],m=Object(c.useState)(!1),A=Object(j.a)(m,2),g=A[0],E=A[1],C=Object(c.useCallback)((function(){T("Region").pull((function(t){return v(t.impuesto)})),T("costo").pull((function(t){return E(t.tasa)})),T("utilidades").pull((function(t){r(t.precio1),d(t.precio2),b(t.precio3)}))}),[]);return Object(c.useEffect)(C,[]),Object(k.jsx)(we.Provider,{value:{dolar:g,impuesto:f,precio1:n,precio2:l,precio3:O,actConfig:C},children:e})}we.Consumer;var Le=Object(c.createContext)(null);function Fe(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(Y),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useContext)(P),h=Object(c.useContext)(we),O=Object(c.useContext)(et),b=I(),x=Object(c.useCallback)((function(){b.isTurn("Productos")&&Re().cambios((function(t){d({status:3,hora:g(Re().state)}),r(function(t,e){var a=function(t){return t.map((function(t){return{codigo:t[0],departamento:t[1],descripcion:t[2],estatus:t[3],enser:t[4],tipo:t[5],unidad:t[6],medida:t[7],costo:t[8],precio1:t[9],precio2:t[10],precio3:t[11],cantidad:t[12],fecha_creacion:t[13],inventario:t[14],exento:t[15],tasa:t[16]}}))}(t).filter((function(t){var a=e.findIndex((function(e){return e.codigo===t.codigo}));return!(a>-1)||(e[a]=t,!1)})),c=[].concat(Object(Z.a)(e),Object(Z.a)(a));return Re().saveLista(c),c}(t,n))}),b.next)}),[n]),p=Object(c.useCallback)((function(t,e){var a=n.find((function(e){return t.codigo===e.codigo}));void 0===a&&(a=t);var c=a,s=c.costo,r=c.precio1,i=c.precio2,o=c.precio3,l=c.tasa;return e?0!==l?s/=l:0!==u.tasa&&(s/=u.tasa):0!==l&&0!==u.tasa&&(s=parseFloat((s/l).toFixed(2))*u.tasa),Object(V.a)(Object(V.a)({},a),{},{costo:s,monto1:s*(1+r/100),monto2:s*(1+i/100),monto3:s*(1+o/100)})}),[n,u.tasa]);return Object(c.useEffect)((function(){return b.add("Productos"),""!==Re().state&&d({status:3,hora:g(Re().state)}),Re().cargarListaCache(r),function(){return b.clean("Productos")}}),[]),Object(c.useEffect)((function(){var t=setInterval(x,100);return function(){return clearInterval(t)}}),[n]),Object(k.jsx)(Le.Provider,{value:Object(V.a)(Object(V.a)(Object(V.a)({estProducto:l,actProducto:x,Productos:n,findProVen:p},u),h),O),children:e})}Le.Consumer;var Me=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).permiso="",c.con=he(),c.tasa=!0,c.Avansado=c.Avansado.bind(Object(jt.a)(c)),c.Actualizar=c.Actualizar.bind(Object(jt.a)(c)),c.Title=c.Title.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"Title",value:function(){var t=this;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!0})},children:[" ",Object(k.jsx)("i",{className:"fa fa-edit"})," NUEVO"]})})}},{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"render",value:function(){this.dolar();var t=this.Body,e=this.Buscador,a=this.Avansado,c=this.Title;return Object(k.jsxs)(_t.a,{as:Vt.a,children:[Object(k.jsx)(_t.a.Header,{className:"bg-info d-flex",children:Object(k.jsx)(c,{})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(e,{}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(a,{})})})}),Object(k.jsx)(ot.a,{md:12,children:Object(k.jsx)(t,{})})]})]})}},{key:"Buscador",value:function(){var t=this;return Object(k.jsxs)(ut.a,{className:"d-flex",style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,className:"mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsxs)(Ot.a.Append,{children:[Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]}),Object(k.jsxs)(F.a,{as:Vt.a.Toggle,eventKey:"0",variant:"default","data-tip":"BUSQUEDA AVANSADA",onClick:function(){t.setState({open:!t.state.open})},children:[Object(k.jsx)("i",{className:"fa fa-wrench"})," AVANZADO"]})]})]})}),this.Actualizar()]})}},{key:"Actualizar",value:function(){var t=this.getEstado(),e=t.status,a=t.hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(F.a,{size:"sm",onClick:this.set.bind(this),disabled:2===e,"data-tip":"ACTUALIZAR LISTA",variant:"info",children:2===e?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(zt.a,{animation:"border",size:"sm",role:"status"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("i",{className:"fa fa-refresh"})," ACTUALIZAR"]})}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),a]})]})}},{key:"set",value:function(){var t=this;this.con.cargarListaWeb((function(e){return t.setState({itens:e})}))}},{key:"componentDidMount",value:function(){this.set()}},{key:"getEstado",value:function(){return Y}},{key:"dolar",value:function(){var t=this.context,e=t.dolar;0!==t.tasa&&this.tasa&&(this.setState({dolar:e}),this.tasa=!1)}},{key:"componentWillUnmount",value:function(){this.tasa=!0}}]),a}(Bt);Me.contextType=Le;var Be=Me;function _e(t){var e=t.rol,a=t.status,c=t.setData;return Object(k.jsxs)("div",{className:"row",children:[Object(k.jsxs)(ot.a,{"data-tip":"FILTRAR POR ROL",xs:7,style:{minWidth:"320px"},className:"RangoFechas",children:[Object(k.jsx)("br",{}),Object(k.jsx)(yt,{change:function(t){c({rol:t})},defaultValue:e})]}),Object(k.jsxs)(ot.a,{style:{minWidth:"230px"},xs:5,className:"productoStock",children:[Object(k.jsx)("br",{}),Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:function(t){c({status:parseInt(t.currentTarget.value)})},className:"form-control",value:a,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),Object(k.jsx)("option",{value:0,children:"INACTIVO"}),Object(k.jsx)("option",{value:1,children:"ACTIVO"})]})]})]})}var Ve=a(116),ze=a(112),Ge=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.usuarios;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Usuarios",children:[Object(k.jsx)(ze.a,{field:"nombre",title:"NOMBRE",width:500}),Object(k.jsx)(ze.a,{field:"correo",title:"CORREO",width:500}),Object(k.jsx)(ze.a,{field:"rol",title:"ROL",width:120})]})]})}}]),a}(s.a.Component),He=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=_(),t.placeholder="BUSCAR USUARIO",t.rol=-1,t.status=-1,t.buscarEn=["nombre","correo"],t}return Object(u.a)(a,[{key:"Title",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Nt,{user:null,title:"NUEVO USUARIO",open:this.state.modal,close:function(){t.setState({modal:!1})},add:this.set.bind(this)}),Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR USUARIO"]}),Object(k.jsxs)(F.a,{onClick:function(){t.setState({modal:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVO USUARIO"]})]})}},{key:"Avansado",value:function(){var t=this.rol,e=this.status,a=this.setAvansados;return Object(k.jsx)(_e,{rol:t,status:e,setData:a.bind(this)})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{width:"calc(100% - 710px)",label:"codigo",children:"NOMBRE"}),Object(k.jsx)(t,{width:"350px",label:"correo",children:"CORREO"}),Object(k.jsx)(t,{width:"150px",children:"ROL"}),Object(k.jsx)(t,{width:"150px",children:"ESTADO"}),Object(k.jsx)(t,{width:"110px",children:"ACCIONES"})]})}},{key:"setAvansados",value:function(t){var e=t.rol,a=t.status;e&&(this.rol=e),a&&(this.status=a),this.forceUpdate()}},{key:"filter",value:function(){var t=this;return this.ordenar().filter((function(e){return t.validar(e)}))}},{key:"validar",value:function(t){var e=t.nivel,a=t.estado,c=this.rol,s=this.status;return(-1===s||a===s)&&(-1===c||e===c)}},{key:"Row",value:function(t){return Object(k.jsx)(kt,{d:t,update:this.set.bind(this)},"usuario"+t.codigo+t.estado)}},{key:"getItens",value:function(){return this.context.usuarios}},{key:"set",value:function(){this.context.atcUsuario()}},{key:"getEstado",value:function(){return this.context.data.estUsuarios}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(Ge,{usuarios:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);He.contextType=et;var Ye=He,Ze=a(38);function We(t){var e=t.label,a=t.values,c=t.title,s=t.hAxisTitle,n=0;return 0!==a.length&&a.forEach((function(t){var e=t[1];e>n&&(n=e)})),Object(k.jsx)(Ze.a,{width:"1fr",height:"35rem",chartType:"AreaChart",loader:Object(k.jsx)("div",{children:"Loading Chart"}),data:[e].concat(Object(Z.a)(a)),options:{title:c,hAxis:{title:s,titleTextStyle:{color:"#333"}},vAxis:{minValue:n},chartArea:{width:"85%",height:"70%"},legend:{position:"none"}},rootProps:{"data-testid":"1"}})}var Je=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={dolares:[],valor:0,fecha:""},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.valor,a=t.fecha,c=this.props.p;return Object(k.jsxs)("div",{className:"Dolar",children:[Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsxs)(Ot.a,{style:{width:"calc(100% - 250px)"},children:[Object(k.jsxs)(Ot.a.Prepend,{children:[Object(k.jsx)(Ot.a.Text,{children:"TASA DE CAMBIO"}),Object(k.jsx)(Ot.a.Text,{children:Object(k.jsx)("i",{className:"fa fa-usd"})})]}),Object(k.jsx)(At,{min:0,value:e,setData:this.setState.bind(this),update:"valor",disabled:!c.some((function(t){return"DOLARES"===t}))}),c.some((function(t){return"DOLARES"===t}))?Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",onClick:this.actualizar.bind(this),children:[Object(k.jsx)("i",{className:"fa fa-refresh"})," ACTUALIZAR"]})}):Object(k.jsx)(k.Fragment,{})]}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"250px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",A(a),Object(k.jsx)("br",{}),Object(k.jsx)("strong",{children:"HORA:"})," ",g(a)]})]}),Object(k.jsx)(We,{label:["FECHA Y HORA","PRECIO"],values:this.get(),title:"FLUCTUACIONES DEL DOLAR",hAxisTitle:"FECHA Y HORA"})]})}},{key:"actualizar",value:function(){var t=this,e=T(""),a=this.state.valor;0!==a?e.post("/api/Dolares/set",{valor:a},(function(){t.send()})):Object(l.b)("LA TASA DE CAMBIO NO PUEDE SER 0",{type:l.b.TYPE.ERROR})}},{key:"get",value:function(){return this.state.dolares.map((function(t){return[A(t.fecha)+" "+g(t.fecha),t.valor]}))}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c,s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Dolares/formatter/last",{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,s=0,n="1999-01-01",c.forEach((function(t){E(t.fecha)>E(n)&&(s=t.valor,n=t.fecha)})),this.setState({dolares:c,valor:s,fecha:n}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),this.setState({dolares:[]});case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.send()}}]),a}(s.a.Component);function Ke(t){var e=t.label,a=t.value,c=t.red,s=t.yellow,n=t.green;return Object(k.jsx)(Ze.a,{width:"14rem",height:"14rem",chartType:"Gauge",loader:Object(k.jsx)("div",{children:"Loading Chart"}),data:[["Label","Value"],[e,a]],options:{redFrom:c,redTo:s,yellowFrom:s,yellowTo:n,greenFrom:n,greenTo:2*n,max:2*n,minorTicks:5},rootProps:{"data-testid":"1"}})}var qe=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={value:0},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState,e=this.state.value,a=this.props,c=a.open,s=a.close;return Object(k.jsxs)(dt.a,{animation:!0,show:c,size:"lg",centered:!0,onHide:s,children:[Object(k.jsx)(dt.a.Header,{className:"bg-primary",closeButton:!0,children:Object(k.jsx)("h4",{className:"mr-auto",children:"NUEVO PUNTO DE EQUILIBRIO"})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(gt,{before:"INGRESE EL NUEVO PUNTO DE EQUILIBRIO",value:e,setData:t.bind(this),update:"value"})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.get.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," GUARDAR"]})})]})}},{key:"get",value:function(){var t=T(""),e=this.state.value,a=this.props.close;t.post("/api/Factura/equilibrio/",{pto:e},(function(){a()}))}}]),a}(s.a.Component),Qe=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={equilibrio:100,ventas:0,open:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.equilibrio,c=e.ventas,s=e.open,n=this.props.p;return Object(k.jsxs)("div",{className:"center Equilibrio",children:[n.some((function(t){return"CONFIG"===t}))?Object(k.jsx)(qe,{open:s,close:function(){t.setState({open:!1}),t.send()}}):Object(k.jsx)(k.Fragment,{}),Object(k.jsxs)("div",{children:[Object(k.jsx)(Ke,{label:"Bs",value:c,red:0,yellow:a/2,green:a}),Object(k.jsx)("h5",{children:"PUNTO DE EQUILIBRIO"})]})]})}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c,s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,a=e.getFullYear(),c=e.getMonth()+1,t.prev=2,s=localStorage.getItem("Authorization"),t.next=6,fetch("/api/Factura/equilibrio/"+a+"/"+c,{headers:{Authorization:"Bearer "+s}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,this.setState({equilibrio:parseFloat(r[0]),ventas:Math.floor(r[1])}),0===parseFloat(r[0])&&this.setState({equilibrio:100,open:!0}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0),this.setState({equilibrio:100,ventas:0});case 18:case"end":return t.stop()}}),t,this,[[2,14]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.send()}}]),a}(s.a.Component),Xe=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={utilidad:0},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.utilidad;return Object(k.jsx)("div",{className:"center Utilidad",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(Ke,{label:"%",value:t,red:0,yellow:10,green:30}),Object(k.jsx)("h5",{children:"PROMEDIO DE UTILIDAD"})]})})}},{key:"componentDidMount",value:function(){this.send()}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c,s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,a=e.getFullYear(),c=e.getMonth()+1,t.prev=2,s=localStorage.getItem("Authorization"),t.next=6,fetch("/api/Factura/utilidad/"+a+"/"+c,{headers:{Authorization:"Bearer "+s}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,this.setState({utilidad:parseFloat(r)}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0),this.setState({utilidad:0});case 17:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}()}]),a}(s.a.Component),$e=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={clientes:0,proveedores:0,compras:0,ordenes:0,notas:0,cotizaciones:0,facturas:0,inventario:0},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.clientes,a=t.proveedores,c=t.compras,s=t.ordenes,n=t.notas,r=t.cotizaciones,i=t.facturas,o=t.inventario,l=this.props.p;return Object(k.jsxs)("div",{className:"Contadores col-12",children:[Object(k.jsx)(ta,{p:l,permiso:"ORDEN",to:"/orden/lista",ico:"paperclip",label:"ORDENES DE COMPRA",color:"info",cont:s}),Object(k.jsx)(ta,{p:l,permiso:"COMPRA",to:"/compra/lista",ico:"shopping-cart",label:"COMPRAS",color:"primary",cont:c}),Object(k.jsx)(ta,{p:l,permiso:"COTIZACION",to:"/cotizacion/lista",ico:"calculator",label:"COTIZACIONES",color:"danger",cont:r}),Object(k.jsx)(ta,{p:l,permiso:"NOTA",to:"/nota/lista",ico:"paper-plane",label:"NOTAS DE ENTREGA",color:"warning",cont:n}),Object(k.jsx)(ta,{p:l,permiso:"FACTURA",to:"/factura/lista",ico:"usd",label:"FACTURAS",color:"success",cont:i}),Object(k.jsx)(ta,{p:l,permiso:"CLIENTE",to:"/clientes",ico:"user",label:"CLIENTES",color:"teal",cont:e}),Object(k.jsx)(ta,{p:l,permiso:"PROVEEDOR",to:"/proveedores",ico:"truck",label:"PROVEEDORES",color:"lightblue",cont:a}),Object(k.jsx)(ta,{p:l,permiso:"PRODUCTO",to:"/producto",ico:"laptop",label:"INVENTARIO",color:"orange",cont:o})]})}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Config/contadores",{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,this.setState(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.send()}}]),a}(s.a.Component);function ta(t){var e=t.p,a=t.permiso,c=t.ico,s=t.color,n=t.label,r=t.cont,o=t.to;return e.every((function(t){return t!==a}))?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)("div",{className:"small-box bg-"+s,children:[Object(k.jsxs)("div",{className:"inner",children:[Object(k.jsx)("h3",{children:r}),Object(k.jsx)("p",{children:n})]}),Object(k.jsx)("div",{className:"icon",children:Object(k.jsx)("i",{className:"fa fa-"+c})}),Object(k.jsxs)(i.b,{to:o,className:"small-box-footer",children:["VER MAS ",Object(k.jsx)("i",{className:"fa fa-arrow-circle-right"})]})]})}a(94);function ea(t){var e=t.title,a=t.values;return Object(k.jsx)(Ze.a,{width:"18rem",height:"18rem",chartType:"PieChart",loader:Object(k.jsx)("div",{children:"Loading Chart"}),data:[["ESTADOS","CANT"]].concat(Object(Z.a)(a)),options:{title:e,legend:"none",slices:[{color:"#dc3545"},{color:"#ffc107"},{color:"#28a745"}]},rootProps:{"data-testid":"3"}})}var aa=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).estados=["CANCELADO","PENDIENTE","PROCESADA"],c.api="Cotizacion",c.title="",c.state={title:"",values:c.estados.map((function(t){return[t,0]}))},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.title,a=t.values;return Object(k.jsx)("div",{className:"center "+this.props.lugar,children:Object(k.jsxs)("div",{style:{textAlign:"center"},children:[this.isData()?Object(k.jsx)(ea,{title:e,values:a}):Object(k.jsx)("div",{style:{gridAutoRows:"18rem"},className:"center",children:Object(k.jsx)("div",{style:{gridAutoRows:"12rem"},className:"no-data bg-black center",children:Object(k.jsxs)("b",{children:["SIN REGISTROS",Object(k.jsx)("br",{})," EN EL MES"]})})}),Object(k.jsx)("h5",{children:this.title})]})})}},{key:"isData",value:function(){if(this.state.values.length>0)for(var t=0;t<3;t++)if(this.state.values[t][1]>0)return!0;return!1}},{key:"componentDidMount",value:function(){this.send()}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c,s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,a=e.getFullYear(),c=e.getMonth()+1,t.prev=2,s=localStorage.getItem("Authorization"),t.next=6,fetch("/api/"+this.api+"/torta/mes/"+a+"/"+c,{headers:{Authorization:"Bearer "+s}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,this.setState({values:this.estados.map((function(t,e){var a=r.find((function(t){return t.estatus===e}));return[t,a?a.cantidad:0]}))}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0),this.setState({values:this.estados.map((function(t){return[t,0]}))});case 17:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}()}]),a}(s.a.Component),ca=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","PENDIENTE","PROCESADA"],t.api="Cotizacion",t.title="COTIZACIONES",t}return Object(u.a)(a)}(aa),sa=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","SIN FACTURA","FACTURADA"],t.api="Compra",t.title="COMPRAS",t}return Object(u.a)(a)}(aa),na=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","ENTREGADA","FACTURADA"],t.api="Nota",t.title="NOTAS DE ENTREGA",t}return Object(u.a)(a)}(aa),ra=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","","FACTURADA"],t.api="Factura",t.title="FACTURAS",t}return Object(u.a)(a)}(aa),ia=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={dias:[]},c}return Object(u.a)(a,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"ventas",children:Object(k.jsx)(We,{label:["DIA","VENTAS"],values:this.get(),title:"VENTAS DEL MES",hAxisTitle:"DIA DEL MES"})})}},{key:"get",value:function(){return this.state.dias.sort((function(t,e){return t[0]-e[0]})).map((function(t){return[t[0]+"",t[1]]}))}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c,s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,a=e.getFullYear(),c=e.getMonth()+1,t.prev=2,s=localStorage.getItem("Authorization"),t.next=6,fetch("/api/Factura/linea/mes/"+a+"/"+c,{headers:{Authorization:"Bearer "+s}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,this.setState({dias:r}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0),this.setState({dias:[]});case 17:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.send()}}]),a}(s.a.Component);function oa(t){var e=t.label,a=t.values,c=t.title;return Object(k.jsx)(Ze.a,{width:"1fr",height:"37rem",chartType:"ComboChart",loader:Object(k.jsx)("div",{children:"Loading Chart"}),data:[e].concat(Object(Z.a)(a)),options:{title:c,seriesType:"bars",legend:{position:"none"}},rootProps:{"data-testid":"2"}})}var la=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={mejor:{ventas:0,mes:"",ano:0},actual:0},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.mejor,a=e.ventas,c=e.mes,s=e.ano,n=t.actual;return Object(k.jsx)("div",{className:"mejor",children:Object(k.jsx)(oa,{title:"MES ACTUAL VS MEJOR MES",label:["","ACTUAL",c+" DEL "+s],values:[["VENTAS",n,a]]})})}},{key:"componentDidMount",value:function(){this.send()}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Factura/mejor_mes",{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,this.setState(c),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),this.setState({mejor:{ventas:0,mes:"",ano:0},actual:0});case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}()}]),a}(s.a.Component);function ja(){var t=Object(c.useContext)(et),e=[];return null!==t&&(e=t.data.Permisos),Object(k.jsxs)(ut.a,{className:"Dasboard",children:[Object(k.jsx)($e,{p:e}),Object(k.jsx)(Qe,{p:e}),Object(k.jsx)(Xe,{}),Object(k.jsx)(Je,{p:e}),Object(k.jsx)(sa,{lugar:"tortar2"}),Object(k.jsx)(ca,{lugar:"tortar1"}),Object(k.jsx)(na,{lugar:"tortar1"}),Object(k.jsx)(ra,{lugar:"tortar1"}),Object(k.jsx)(ia,{}),Object(k.jsx)(la,{})]})}a(66);var da=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={correo:"",clave:""},t.logo="/logos/logo.svg",t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.correo,a=t.clave;return Object(k.jsx)("div",{className:"login-layoud",style:{backgroundImage:'url("/logos/fondo con arbol.jpg")'},children:Object(k.jsxs)("div",{className:"login-box",children:[Object(k.jsx)(l.a,{position:"bottom-right"}),Object(k.jsxs)(_t.a,{border:"primary",className:"card-outline",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[Object(k.jsx)(_t.a.Header,{className:"text-center",children:Object(k.jsx)(_t.a.Img,{variant:"top",src:this.logo,alt:"ImgLogin"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{before:"CORREO",maxLength:150,value:e,update:"correo",setData:this.setState.bind(this)})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{before:"CLAVE",maxLength:150,value:a,update:"clave",setData:this.setState.bind(this),type:"password"})}),Object(k.jsx)(F.a,{onClick:this.login.bind(this),variant:"primary",block:!0,children:"ENTRAR"})]})]})]})})}},{key:"login",value:function(){var t=this;T("").post("/api/Auth/login",this.state,(function(e){localStorage.setItem("Authorization",e.token),t.context.user()}),(function(t){Object(l.b)(t.response.error,{type:l.b.TYPE.ERROR})}))}},{key:"Logo",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/Auth/getConfig");case 3:return e=t.sent,t.next=6,e.json();case 6:return a=t.sent,t.t0="/public/imagenes/",t.next=10,a.logo;case 10:t.t1=t.sent,this.logo=t.t0+t.t1,this.forceUpdate(),t.next=18;break;case 15:t.prev=15,t.t2=t.catch(0),console.log(t.t2);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.Logo()}}]),a}(s.a.Component);da.contextType=et;var ua=da,ha=Object(c.createContext)(null);function Oa(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)([]),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)([]),h=Object(j.a)(u,2),O=h[0],b=h[1],x=Object(c.useState)(Y),p=Object(j.a)(x,2),f=p[0],v=p[1],m=Object(c.useState)(Y),A=Object(j.a)(m,2),E=A[0],C=A[1],y=Object(c.useState)(Y),N=Object(j.a)(y,2),R=N[0],S=N[1],T=Object(c.useCallback)((function(){Te().cargarListaWeb((function(t){r(t),v({status:3,hora:g(void 0)})}))}),[]),D=Object(c.useCallback)((function(){tt(["UNIDAD","PRODUCTO"])&&Ie().cargarListaWeb((function(t){b(t),S({status:3,hora:g(void 0)})}))}),[]),I=Object(c.useCallback)((function(){tt(["TIPO","PRODUCTO"])&&Pe().cargarListaWeb((function(t){d(t),C({status:3,hora:g(void 0)})}))}),[]);return Object(c.useEffect)((function(){T(),D(),I()}),[]),Object(k.jsx)(ha.Provider,{value:{Departamentos:n,estDepartamentos:f,actDepartamento:T,Tipos:l,estTipos:E,actUnidad:D,Unidades:O,estUnidades:R,actTipo:I},children:e})}var ba=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props.seguimiento,e=t.descripcion,a=t.usuario,c=t.fecha,s=t.correo;return Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{style:{width:"300px",maxWidth:"300px"},children:[a,Object(k.jsx)("br",{}),s]}),Object(k.jsxs)("th",{style:{width:"100px"},children:[A(c),Object(k.jsx)("br",{}),g(c)]}),Object(k.jsx)("th",{children:e})]})}}]),a}(s.a.Component),xa=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).ref=s.a.createRef(),c.msn=void 0,c.con=he(),c.state={msn:"",mensajes:[]},c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.mensajes;return Object(k.jsxs)(dt.a,{size:"xl",animation:!0,show:this.props.open,onHide:this.props.close,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsxs)("b",{children:["BITACORA DE COTIZACI\xd3N N\xb0 ",this.props.id]})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)(Pt.a,{children:Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"300px"},children:"USUARIO"}),Object(k.jsx)("th",{style:{width:"100px"},children:"FECHA"}),Object(k.jsx)("th",{children:"MENSAJE"})]})})}),Object(k.jsx)("div",{ref:this.ref,style:{overflowY:"auto",height:400,maxHeight:400,width:"100%"},children:Object(k.jsx)(Pt.a,{children:Object(k.jsx)("tbody",{children:t.map((function(t,e){return Object(k.jsx)(ba,{seguimiento:t},t.usuario+e)}))})})})]}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"MENSAJE"})}),Object(k.jsx)(bt.a,{onKeyUp:this.setMsn.bind(this),defaultValue:this.state.msn}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsx)(F.a,{onClick:this.enviar.bind(this),children:Object(k.jsx)("span",{className:"fa fa-send"})})})]})})]})})]})}},{key:"setMsn",value:function(t){var e=t.currentTarget.value;void 0===this.msn&&(this.msn=t.currentTarget),this.setState({msn:e}),13===t.keyCode&&this.enviar()}},{key:"enviar",value:function(){this.sent();var t=this.state.mensajes,e=(new Date).toDateString(),a=A(e)+" "+g(e);this.setState({mensajes:[].concat(Object(Z.a)(t),[{descripcion:this.state.msn,fecha:a,usuario:"",correo:""}])}),this.clear()}},{key:"clear",value:function(){void 0!==this.msn&&(this.msn.value="")}},{key:"componentWillReceiveProps",value:function(t){this.props.open!==t.open&&!0===t.open&&this.set()}},{key:"actualizar",value:function(){var t=this;this.set(),setTimeout((function(){t.actualizar()}),36e3)}},{key:"sent",value:function(){var t=this;this.con.post("/api/"+this.props.type+"/seguimiento_nuevo/"+this.props.id,{descripcion:this.state.msn},(function(e){t.set()}))}},{key:"set",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.con.forceGetWeb("/api/"+this.props.type+"/seguimiento/"+this.props.id,(function(t){e.setState({mensajes:t})}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),a}(s.a.Component);var pa=Object(c.createContext)(null);function fa(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(Y),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useCallback)((function(){var t=I();t.isTurn("Clientes")&&tt(["FACTURA","NOTA","COTIZACION","CLIENTE"])&&oe().cambios((function(t){r(function(t,e){var a=function(t){return t.map((function(t){return{codigo:t[0],nombre:t[1],telefono:t[2],correo:t[3],contacto:t[4],direccion:t[5],tipo_contribuyente:t[6],retencion:t[7],estatus:t[8]}}))}(t).filter((function(t){var a=e.findIndex((function(e){return e.codigo===t.codigo}));return!(a>-1)||(e[a]=t,!1)})),c=[].concat(Object(Z.a)(e),Object(Z.a)(a));return oe().saveLista(c),c}(t,n)),d({status:3,hora:g(oe().state)})}),t.next)}),[n]);Object(c.useEffect)((function(){return""!==oe().state&&d({status:3,hora:g(oe().state)}),tt(["FACTURA","NOTA","COTIZACION","CLIENTE"])&&oe().cargarListaCache(r),I().add("Clientes"),function(){return I().clean("Clientes")}}),[]),Object(c.useEffect)((function(){var t=setInterval(u,100);return function(){return clearInterval(t)}}),[n]);var h=Object(c.useCallback)((function(t){var e=n.find((function(e){return e.codigo===t}));return void 0!==e?e:re}),[n]);return Object(k.jsx)(pa.Provider,{value:{estCliente:l,Clientes:n,actCliente:u,findCliente:h},children:e})}pa.Consumer;function va(t){var e=t.fecha;return Object(k.jsx)(St,{width:"90px",align:"center",children:A(e)})}function ma(t){var e=t.monto;return Object(k.jsx)(St,{width:"160px",align:"right",children:m(e)})}var Aa=a(16);function ga(t){var e=t.tip,a=t.nombre;return Object(k.jsxs)("th",{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(F.a,{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"data-class":"toolbody","data-html":"true","data-tip":e,variant:"link",children:a})]})}function Ea(t){var e=t.status,a=t.type;return Object(k.jsx)("span",{className:"badge badge-".concat(["danger","warning","success"][e]),children:{Orden:["CANCELADA","EN ESPERA","PROCESADA"],Compra:["CANCELADA","SIN FACTURA","FACTURADA"],Cotizacion:["CANCELADA","PENDIENTE","PROCESADA"],Nota:["CANCELADA","ENTREGADO","FACTURADA"],Factura:["CANCELADA","ENTREGADO","PROCESADA"],notas:["CANCELADA","ENTREGADO","PROCESADA"]}[a][e]})}function Ca(t){var e=t.type,a=t.status;return Object(k.jsx)(St,{width:"160px",align:"right",children:Object(k.jsx)(Ea,{type:e,status:a})})}function ya(t){var e=t.id,a=t.open,s=t.close,n=t.titulo,r=t.con,i=Object(c.useContext)(Le).dolar,o=Object(c.useState)(G.detalles),l=Object(j.a)(o,2),d=l[0],u=l[1],h=Object(c.useState)(1),O=Object(j.a)(h,2),b=O[0],x=O[1],p=Object(c.useState)(i),f=Object(j.a)(p,2),v=f[0],A=f[1];return Object(c.useEffect)((function(){r.detalle(e,(function(t){u(t.detalles),0===t.tasa&&A(!1),x(t.tasa)}))}),[]),Object(k.jsx)(dt.a,{size:"xl",centered:!0,animation:!0,show:a,onHide:s,children:Object(c.useMemo)((function(){var t=function(t){return parseFloat((v?t/b:t).toFixed(2))},e=0;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:n})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{style:{padding:"0px 30px 0px 30px"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"col-12",children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("span",{className:"fa fa-print"}),"MOSTRAR VISTA"]}),Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{onClick:function(){return A(!1)},"data-tip":"CAMBIAR A PRECIO EN BOLIVARES",variant:(v?"outline-":"")+"primary",children:"PRECIO EN BOLIVARES"}),Object(k.jsx)(F.a,{onClick:function(){return A(!0)},"data-tip":"CAMBIAR A PRECIO EN DOLARES",variant:(v?"":"outline-")+"warning",children:"PRECIO EN DOLARES"})]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:"COD"}),Object(k.jsx)("th",{children:"DESCRIPCION"}),Object(k.jsx)("th",{style:{width:"40px",textAlign:"right"},children:"CANT"}),Object(k.jsx)("th",{style:{width:"80px",textAlign:"right"},children:"PRE/UNT"}),Object(k.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRECIO"})]})}),Object(k.jsxs)("tbody",{children:[d.map((function(a){return e+=a.precio*a.unidades,Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"100px"},children:a.codigo}),Object(k.jsx)("td",{children:a.descripcion}),Object(k.jsx)("td",{style:{width:"40px"},children:m(a.unidades)}),Object(k.jsx)("td",{style:{width:"80px",textAlign:"right"},children:m(t(a.precio))}),Object(k.jsx)("td",{style:{width:"150px",textAlign:"right"},children:m(t(a.precio)*a.unidades)})]})})),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{colSpan:3}),Object(k.jsx)("td",{style:{width:"80px",textAlign:"right"},children:Object(k.jsx)("b",{children:"TOTAL:"})}),Object(k.jsx)("td",{style:{width:"150px",textAlign:"right"},children:m(t(e))})]})]})]})]})})]})}),[d,b,v])})}function Na(t){var e=t.con,a=t.id,s=t.label,n=Object(c.useState)(!1),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(k.jsxs)("th",{style:{minWidth:"90px",width:"90px",maxWidth:"90px"},children:[Object(k.jsx)(ya,{con:e,titulo:"DETALLES DE LA "+s+" N\xb0 "+v(a),id:a,open:i,close:function(){return o(!1)}},"ModalDetalle"+s+a),Object(k.jsx)(F.a,{"data-tip":"VER DETALLES",onClick:function(){return o(!0)},variant:"link",children:v(a)})]})}function Ra(t){var e=t.title,a=t.close,c=t.msn,s=t.open,n=t.accion,r=t.variant,i=void 0===r?"warning":r;return Object(k.jsxs)(dt.a,{show:s,onHide:a,centered:!0,className:" modal-warning",children:[Object(k.jsx)(dt.a.Header,{style:{borderRadius:0},className:"bg-"+i,closeButton:!0,children:Object(k.jsx)("h4",{className:"m-0 font-weight-bold mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:e})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ut.a,{style:{padding:"10px 10px 10px 10px"},children:c})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsxs)(F.a,{onClick:function(){n(),a()},variant:"success",children:[Object(k.jsx)("span",{className:"fa fa-check-circle-o"})," Aceptar"]}),Object(k.jsxs)(F.a,{onClick:a,variant:"danger",children:[Object(k.jsx)("span",{className:"fa fa-remove-circle"})," Cancelar"]})]})})]})}function Sa(t){var e=t.con,a=t.id,s=t.label,n=t.msn,r=Object(c.useState)(!1),i=Object(j.a)(r,2),o=i[0],d=i[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ra,{title:"ELIMINAR "+s+" N\xb0 "+v(a),msn:"ESTA SEGURO QUE ELIMINARA LA "+s+" N\xb0"+v(a)+"?",open:o,close:function(){return d(!1)},accion:function(){return e.cancelar(a,(function(){Object(l.b)(n,{type:l.b.TYPE.SUCCESS})}))}},"ModalAlert"+s+a),Object(k.jsx)(F.a,{"data-tip":"VER DETALLES",onClick:function(){return d(!0)},variant:"danger",children:Object(k.jsx)("i",{className:"fa fa fa-ban"})})]})}function Ta(t){var e=t.tipo,a=t.id,s=t.dolar,n=Object(c.useState)(s),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"col-12",children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("span",{className:"fa fa-print"}),"MOSTRAR VISTA"]}),Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{onClick:function(){return o(!1)},"data-tip":"CAMBIAR A PRECIO EN BOLIVARES",variant:(i?"outline-":"")+"primary",children:"PRECIO EN BOLIVARES"}),Object(k.jsx)(F.a,{onClick:function(){return o(!0)},"data-tip":"CAMBIAR A PRECIO EN DOLARES",variant:(i?"":"outline-")+"warning",children:"PRECIO EN DOLARES"})]})]}),Object(k.jsx)("iframe",{src:"/api/".concat(e,"/").concat(i?"PDFD":"PDF","/").concat(a),title:"print",frameBorder:"0",width:"100%",height:"700wh",scrolling:"no"})]})}function Da(t){var e=t.title,a=t.close,s=t.tipo,n=t.id,r=t.open,i=Object(c.useContext)(Le).dolar;return Object(k.jsxs)(dt.a,{show:r,size:"xl",centered:!0,onHide:a,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:e})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(Ta,{tipo:s,id:n,dolar:i})})]})}function Ia(t){var e=t.id,a=t.label,s=t.tipo,n=Object(c.useState)(!1),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"primary",onClick:function(){return o(!0)},children:Object(k.jsx)("i",{className:"fa fa-download"})}),Object(k.jsx)(Da,{title:"IMPRIMIR "+a+" N\xb0 "+v(e),id:e,tipo:s,open:i,close:function(){return o(!1)}},"ModalPrint"+a+e)]})}var ka=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=void 0,c.label=void 0,c.data=void 0,c.type="Factura",c.label="",c.con=t.con,c.data=t.data,c.type="Factura",c.tip=c.tip.bind(Object(jt.a)(c)),c.Monto=c.Monto.bind(Object(jt.a)(c)),c.Status=c.Status.bind(Object(jt.a)(c)),c.Nombre=c.Nombre.bind(Object(jt.a)(c)),c.Botones=c.Botones.bind(Object(jt.a)(c)),c.Detalles=c.Detalles.bind(Object(jt.a)(c)),c.cancelado=c.cancelado.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.Detalles,e=this.Nombre,a=this.Monto,c=this.Status,s=this.Botones,n=this.data.fecha;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(t,{}),Object(k.jsx)(va,{fecha:n}),Object(k.jsx)(e,{}),Object(k.jsx)(a,{}),Object(k.jsx)(c,{}),Object(k.jsx)(s,{})]})}},{key:"Detalles",value:function(){var t=this.con,e=this.label,a=this.data.codigo;return Object(k.jsx)(Na,{con:t,label:e,id:a})}},{key:"Nombre",value:function(){var t=this.tip,e=this.data.nombre;return Object(k.jsx)(ga,{tip:t(),nombre:e})}},{key:"Monto",value:function(){var t=this.data.monto;return Object(k.jsx)(ma,{monto:t})}},{key:"Status",value:function(){var t=this.type,e=this.data.status;return Object(k.jsx)(Ca,{type:t,status:e})}},{key:"Botones",value:function(){var t=this.type,e=this.con,a=this.label,c=this.cancelado,s=this.data,n=s.status,r=s.codigo;return Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(Ia,{label:a,id:r,tipo:t}),1!==n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Sa,{con:e,label:a,id:r,msn:c()})]})})}},{key:"tip",value:function(){return""}},{key:"cancelado",value:function(){return"COMPRA N\xb0 "+this.data.codigo+" CANCELADA ESXITOSAMENTE"}}]),a}(s.a.Component),Pa=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).print=!1,t}return Object(u.a)(a,[{key:"tip",value:function(){var t=this.context.findCliente(this.props.data.rif);return t?"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br /><b>PERSONA DE CONTACTO:</b><br />"+t.contacto+"<br /><b>CORREO ELECTRONICO:</b><br />"+t.correo+"<br /><b>TELEFONO:</b><br />"+t.telefono:""}}]),a}(ka);Pa.contextType=pa;var wa=Pa;function Ua(t){var e=t.id,a=t.open,s=t.close,n=t.titulo,r=Object(c.useContext)(Le).dolar,i=Object(c.useState)(G.detalles),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(c.useState)(1),h=Object(j.a)(u,2),O=h[0],b=h[1],x=Object(c.useState)(r),p=Object(j.a)(x,2),f=p[0],v=p[1];return Object(c.useEffect)((function(){he().detalle(e,(function(t){d(t.detalles),b(t.tasa)}))}),[]),Object(k.jsx)(dt.a,{size:"xl",centered:!0,animation:!0,show:a,onHide:s,children:Object(c.useMemo)((function(){var t=function(t){return parseFloat((f?t/O:t).toFixed(2))},e=0;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:n})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{style:{padding:"0px 30px 0px 30px"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"col-12",children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("span",{className:"fa fa-print"}),"MOSTRAR VISTA"]}),Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{onClick:function(){return v(!1)},"data-tip":"CAMBIAR A PRECIO EN BOLIVARES",variant:(f?"outline-":"")+"primary",children:"PRECIO EN BOLIVARES"}),Object(k.jsx)(F.a,{onClick:function(){return v(!0)},"data-tip":"CAMBIAR A PRECIO EN DOLARES",variant:(f?"":"outline-")+"warning",children:"PRECIO EN DOLARES"})]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:"COD"}),Object(k.jsx)("th",{children:"DESCRIPCION"}),Object(k.jsx)("th",{style:{width:"40px",textAlign:"right"},children:"CANT"}),Object(k.jsx)("th",{style:{width:"80px",textAlign:"right"},children:"PRE/UNT"}),Object(k.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRECIO"}),Object(k.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"NOTA"})]})}),Object(k.jsxs)("tbody",{children:[l.map((function(a){return e+=a.precio*a.unidades,Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"100px"},children:a.codigo}),Object(k.jsx)("td",{children:a.descripcion}),Object(k.jsx)("td",{style:{width:"40px"},children:m(a.unidades)}),Object(k.jsx)("td",{style:{width:"80px",textAlign:"right"},children:m(t(a.precio))}),Object(k.jsx)("td",{style:{width:"150px",textAlign:"right"},children:m(t(a.precio)*a.unidades)}),Object(k.jsx)("td",{children:a.comentario})]})})),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{colSpan:3}),Object(k.jsx)("td",{style:{width:"80px",textAlign:"right"},children:Object(k.jsx)("b",{children:"TOTAL:"})}),Object(k.jsx)("td",{style:{width:"150px",textAlign:"right"},children:m(t(e))})]})]})]})]})})]})}),[l,O,f])})}function La(t){var e=t.id,a=t.label,s=Object(c.useState)(!1),n=Object(j.a)(s,2),r=n[0],i=n[1];return Object(k.jsxs)("th",{style:{minWidth:"90px",width:"90px",maxWidth:"90px"},children:[Object(k.jsx)(Ua,{id:e,titulo:"DETALLES DE LA ".concat(a,"  N\xb0  ").concat(v(e)),open:r,close:function(){return i(!1)}},"ModalDetalle".concat(a).concat(e)),Object(k.jsx)(F.a,{"data-tip":"VER DETALLES",onClick:function(){return i(!0)},variant:"link",children:v(e)})]})}function Fa(t){var e=t.id,a=Object(c.useState)(!1),s=Object(j.a)(a,2),n=s[0],r=s[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"outline-dark",onClick:function(){return r(!0)},children:Object(k.jsx)("i",{className:"fa fa-eye"})}),Object(k.jsx)(xa,{type:"Cotizacion",close:function(){return r(!1)},open:n,id:e},"SeguimientosCotizacion"+e)]})}var Ma=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=he(),c.print=!0,c.label="COTIZACI\xd3N",c.type="Cotizacion",c}return Object(u.a)(a,[{key:"Detalles",value:function(){var t=this.label,e=this.data.codigo;return Object(k.jsx)(La,{label:t,id:e})}},{key:"Botones",value:function(){var t=this.type,e=this.con,a=this.label,c=this.cancelado,s=this.data,n=s.status,r=s.codigo;return Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(Fa,{id:r}),Object(k.jsx)(Ia,{label:a,id:r,tipo:t}),1!==n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Sa,{con:e,label:a,id:r,msn:c()})]})})}},{key:"cancelado",value:function(){return"COTIZACION N\xb0 "+this.props.data.codigo+" CANCELADA ESXITOSAMENTE"}}]),a}(wa);function Ba(t){var e=t.producto,a=t.add,s=t.dolar,n=void 0!==s&&s,r=Object(c.useContext)(Le),i=r.findProVen,o=r.tasa,l=i(e,n),d=l.codigo,u=l.descripcion,h=l.costo,O=l.inventario,b=l.cantidad,x=Object(c.useState)(1),p=Object(j.a)(x,2),f=p[0],v=p[1],A=Object(c.useState)(parseFloat((n?h*o:h).toFixed(2))),g=Object(j.a)(A,2),E=g[0],C=g[1],y=n?E/o:E;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:d}),Object(k.jsx)(St,{width:"auto",children:u}),Object(k.jsx)(Tt,{width:"120px",tip:1===O?"NO APLICA":"DISPONIBLE: "+m(b),children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:v,value:f})}),Object(k.jsxs)(Tt,{width:"180px",children:[Object(k.jsx)(At,{list:h+"list",value:y,step:"0.01",setData:function(t){return C(n?t*o:t)}}),Object(k.jsx)(Aa.a,{})]}),Object(k.jsxs)(Tt,{width:"230px",children:[Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(parseFloat(y.toFixed(2))*f)})," "]}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",variant:"primary",onClick:function(){return a(Object(V.a)(Object(V.a)({},e),{},{precio:E,unidades:f,comentario:""}))},children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}var _a=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props.producto,a=e.codigo,c=e.descripcion;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:a}),Object(k.jsx)("th",{children:c}),Object(k.jsx)("th",{children:Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",onClick:function(){t.props.add(Object(V.a)(Object(V.a)({},t.props.producto),{},{unidades:1,comentario:"",precio:1}))},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}}]),a}(s.a.Component),Va=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state=Object(V.a)(Object(V.a)({},t.producto),{},{precio:t.producto.costo,unidades:0,comentario:""}),c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.unidades,c=e.descripcion,s=e.codigo,n=e.inventario,r=e.cantidad;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:s}),Object(k.jsx)(St,{width:"auto",children:c}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(At,{min:0,step:"0.01",setData:this.setState,value:a,update:"unidades"})}),Object(k.jsxs)(Tt,{width:"120px",children:[Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:1===n?"NO APLICA":m(r)})," "]}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",onClick:function(){return t.add(a)},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}},{key:"add",value:function(t){0!==t?this.props.add(this.state):Object(l.b)("DEBE UNGRESAR UNA CANTIDAD AL PRODUCTO",{type:l.b.TYPE.ERROR})}}]),a}(s.a.Component);function za(t){var e=t.producto,a=t.add,s=t.dolar,n=void 0!==s&&s,r=Object(c.useContext)(Le),i=r.findProVen,o=r.tasa,l=i(e,n),d=l.codigo,u=l.descripcion,h=l.costo,O=Object(c.useState)(n?h*o:h),b=Object(j.a)(O,2),x=b[0],p=b[1],f=n?x/o:x;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:d}),Object(k.jsx)(St,{width:"auto",children:u}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{value:f,step:"0.01",setData:function(t){return p(n?t*o:t)}})}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",onClick:function(){return a(Object(V.a)(Object(V.a)({},e),{},{precio:x,comentario:"",unidades:0}))},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}var Ga=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state=Object(V.a)(Object(V.a)({},t.producto),{},{precio:t.producto.costo,unidades:0,comentario:""}),c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.unidades,c=e.cantidad,s=e.descripcion,n=e.codigo;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:n}),Object(k.jsx)(St,{width:"auto",children:s}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(At,{min:0,step:"0.01",setData:this.setState,value:a,update:"unidades"})}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(c)})}),Object(k.jsx)(Tt,{width:"70px",children:c>0?Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",onClick:function(){return t.add(a)},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})}):Object(k.jsx)(k.Fragment,{})})]})}},{key:"add",value:function(t){0!==t?this.props.add(this.state):Object(l.b)("DEBE UNGRESAR UNA CANTIDAD AL PRODUCTO",{type:l.b.TYPE.ERROR})}}]),a}(s.a.Component),Ha=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state=Object(V.a)(Object(V.a)({},t.producto),{},{precio:t.producto.costo,unidades:1,comentario:""}),c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.codigo,c=e.descripcion,s=e.precio1,n=e.precio2,r=e.precio3,i=this.setState;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:a}),Object(k.jsx)(St,{width:"auto",children:c}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:i,value:s,update:"precio1"})}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:i,value:n,update:"precio2"})}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:i,value:r,update:"precio3"})}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",onClick:function(){t.props.add(t.state)},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}},{key:"componentDidMount",value:function(){var t=this.context,e=t.precio1,a=t.precio2,c=t.precio3;this.setState({precio1:e,precio2:a,precio3:c})}}]),a}(s.a.Component);Ha.contextType=Le;var Ya=Ha;function Za(t){var e=t.producto,a=t.add,s=t.dolar,n=void 0!==s&&s,r=t.venta,i=Object(c.useContext)(Le),o=i.findProVen,l=i.tasa,d=Object(c.useContext)(et).data.User.nivel,u=o(e,n),h=u.codigo,O=u.descripcion,b=u.costo,x=u.monto1,p=u.monto2,f=u.monto3,v=u.inventario,A=u.cantidad,g=Object(c.useState)(1),E=Object(j.a)(g,2),C=E[0],y=E[1],N=Object(c.useState)(parseFloat((n?p*l:p).toFixed(2))),R=Object(j.a)(N,2),S=R[0],T=R[1],D=n?S/l:S,I=function(){return r&&1!==v&&A<.01?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(F.a,{"data-tip":"AGREGAR PRODUCTO",variant:"primary",onClick:function(){return a(Object(V.a)(Object(V.a)({},e),{},{precio:S,unidades:C,comentario:""}))},children:Object(k.jsx)("i",{className:"fa fa-plus"})})};return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:h}),Object(k.jsx)(St,{width:"auto",children:O}),Object(k.jsx)(Tt,{width:"120px",tip:1===v?"NO APLICA":"DISPONIBLE: "+m(A),children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:y,value:C,max:r&&1!==v?A:void 0})}),Object(k.jsxs)(Tt,{width:"180px",tip:"MINIMO: "+m(0===d?b:x),children:[Object(k.jsx)(At,{list:b+"list",setData:function(t){return T(n?t*l:t)},value:D,min:0===d?b:x,step:"0.01"}),Object(k.jsxs)("datalist",{id:b+"list",children:[Object(k.jsx)("option",{children:x.toFixed(2)}),Object(k.jsx)("option",{children:p.toFixed(2)}),Object(k.jsx)("option",{children:f.toFixed(2)})]}),Object(k.jsx)(Aa.a,{})]}),Object(k.jsxs)(Tt,{width:"230px",children:[Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(parseFloat(D.toFixed(2))*C)})," "]}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(I,{})})]})}function Wa(t){var e=t.change,a=t.defaultValue,s=t.width,n=t.tipo,r=void 0===n?"TODOS LOS ":n,i=t.isInvalid,o=Object(c.useContext)(ha);return Object(k.jsxs)(bt.a,{as:"select",style:{width:s},onChange:function(t){e(t.currentTarget.value)},value:a,isInvalid:i,children:[Object(k.jsxs)("option",{value:"TODO",children:[r," DEPARTAMENTO"]}),o.Departamentos.filter((function(t){return 1===t.estatus})).map((function(t){return Object(k.jsx)("option",{value:t.codigo,children:t.descripcion},"user"+t.codigo)}))]})}var Ja=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=he(),c.variant="bg-info",c.Title=c.Title.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"render",value:function(){var t=this.Body,e=this.Buscador,a=this.Title,c=this.props,s=c.open,n=c.close;return Object(k.jsxs)(dt.a,{show:s,onHide:n,size:"xl",children:[Object(k.jsx)(dt.a.Header,{className:this.variant,closeButton:!0,children:Object(k.jsx)(a,{})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)("div",{style:{padding:"10px 10px 10px 10px",overflowX:"scroll"},children:[Object(k.jsx)(e,{}),Object(k.jsx)(t,{})]})})]})}},{key:"reset",value:function(){}},{key:"set",value:function(){var t=this;this.con.cargarListaWeb((function(e){t.setState({itens:e})}))}},{key:"componentDidMount",value:function(){this.set()}},{key:"getEstado",value:function(){return Y}},{key:"Actualizar",value:function(){var t=this.getEstado(),e=t.status,a=t.hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(F.a,{size:"sm",onClick:this.reset.bind(this),disabled:2===e,"data-tip":"ACTUALIZAR LISTA",variant:"info",children:2===e?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(zt.a,{animation:"border",size:"sm",role:"status"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("i",{className:"fa fa-refresh"})," ACTUALIZAR"]})}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),a]})]})}}]),a}(Bt),Ka=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Re(),t.buscarEn=["codigo","descripcion"],t.departamento="TODO",t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsx)("h4",{className:"mr-auto",children:"BUSCAR PRODUCTOS"})}},{key:"setDepartamento",value:function(t){this.departamento=t,this.forceUpdate()}},{key:"Buscador",value:function(){return Object(k.jsxs)(ut.a,{style:{marginBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{className:"form-control",upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Wa,{width:"300px",defaultValue:this.departamento,change:this.setDepartamento.bind(this)}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"90px",children:"COD"}),Object(k.jsx)(t,{label:"descripcion",width:"auto",children:"DESCRIPCION"}),this.head(),Object(k.jsx)(t,{width:"40px",children:" "})]})}},{key:"Row",value:function(t){var e=this.props,a=e.type,c=e.add,s=e.dolar;switch(a){case"Seleccion":return Object(k.jsx)(_a,{producto:t,add:c},t.codigo+"Seleccion");case"ENTRADA":return Object(k.jsx)(Va,{producto:t,add:c},t.codigo+"ENTRADA");case"SALIDA":return Object(k.jsx)(Ga,{producto:t,add:c},t.codigo+"SALIDA");case"COSTO":return Object(k.jsx)(za,{dolar:s,producto:t,add:c},t.codigo+"COSTO");case"UTILIDAD":return Object(k.jsx)(Ya,{producto:t,add:c},t.codigo+"UTILIDAD");case"Compra":case"Orden":return Object(k.jsx)(Ba,{dolar:s,producto:t,add:c},t.codigo+"Compra");case"Nota":case"Factura":case"Cotizacion":return Object(k.jsx)(Za,{dolar:s,venta:"Nota"===a||"Factura"===a,producto:t,add:c},t.codigo+"Factura")}}},{key:"filter",value:function(){var t=this.departamento,e=this.props.type;return this.ordenar().filter((function(a){return 0!==a.estatus&&(("TODO"===t||a.departamento===t)&&("ENTRADA"!==e&&"SALIDA"!==e||1!==a.inventario))}))}},{key:"componentDidMount",value:function(){this.set()}},{key:"head",value:function(){var t=this.Th;switch(this.props.type){case"ENTRADA":case"SALIDA":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(t,{width:"120px",children:"CANTIDAD"}),Object(k.jsx)(t,{width:"120px",children:"DISPONIBLE"})]});case"COSTO":return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(t,{width:"150px",children:"COSTO"})});case"UTILIDAD":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(t,{width:"150px",children:"% UTILIDAD 1"}),Object(k.jsx)(t,{width:"150px",children:"% UTILIDAD 2"}),Object(k.jsx)(t,{width:"150px",children:"% UTILIDAD 3"})]});case"Seleccion":return Object(k.jsx)(k.Fragment,{})}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(t,{width:"120px",children:"CANTIDAD"}),Object(k.jsx)(t,{width:"150px",children:"P.U."}),Object(k.jsx)(t,{width:"200px",children:"TOTAL"})]})}},{key:"reset",value:function(){this.context.resetPro()}},{key:"getItens",value:function(){return this.context.Productos}},{key:"set",value:function(){this.context.actProducto()}},{key:"getEstado",value:function(){return this.context.estProducto}}]),a}(Ja);Ka.contextType=Le;var qa=Ka;function Qa(t){var e=Object(c.useContext)(et);return Object(k.jsxs)("select",{onChange:function(e){t.change(parseInt(e.currentTarget.value))},className:"form-control",value:t.defaultValue,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS USUARIOS"}),null!==e?e.usuarios.map((function(t){return Object(k.jsx)("option",{value:t.codigo,children:t.nombre},"user"+t.codigo)})):Object(k.jsx)(k.Fragment,{})]})}function Xa(t){var e=t.fecha_init,a=t.fecha_fin,s=t.status,n=t.user,r=t.estatus,i=t.productos,o=t.setData,l=Object(c.useState)(!1),d=Object(j.a)(l,2),u=d[0],h=d[1];return Object(k.jsxs)(ut.a,{className:"form",children:[Object(k.jsx)(qa,{type:"Seleccion",open:u,add:function(t){o({productos:[].concat(Object(Z.a)(i),[t])})},close:function(){h(!1)}}),Object(k.jsx)(ot.a,{md:12,children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"RANGO DE FECHAS DEL"})}),Object(k.jsx)(vt,{value:e,setData:o,update:"fecha_init"}),Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"AL"})}),Object(k.jsx)(vt,{value:a,setData:o,update:"fecha_fin"}),Object(k.jsx)(F.a,{onClick:function(){o({fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa"})},"data-tip":"LIMPIAR FECHAS",variant:"danger",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})}),Object(k.jsxs)(ot.a,{"data-tip":"FILTRAR POR USUARIO QUE REALIZO LA OPERACION",md:6,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Qa,{change:function(t){o({user:t})},defaultValue:n})]}),Object(k.jsxs)(ot.a,{md:3,children:[Object(k.jsx)("br",{}),Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:function(t){o({status:parseInt(t.currentTarget.value)})},className:"form-control",value:s,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),r[0]?Object(k.jsx)("option",{value:0,children:r[0]}):Object(k.jsx)(k.Fragment,{}),r[1]?Object(k.jsx)("option",{value:1,children:r[1]}):Object(k.jsx)(k.Fragment,{}),r[2]?Object(k.jsx)("option",{value:2,children:r[2]}):Object(k.jsx)(k.Fragment,{})]})]}),Object(k.jsxs)(ot.a,{md:3,style:{textAlign:"center"},children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{"data-tip":"FILTRAR POR LOS PRODUCTOS SELECCIONADOS",block:!0,onClick:function(){h(!0)},children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR PRODUCTOS"]})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Pt.a,{striped:!0,hover:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"10%"},className:"text-center",children:"CODIGO"}),Object(k.jsx)("th",{style:{width:"80%"},children:"DESCRIPCION"}),Object(k.jsx)("th",{style:{width:"10%"},children:"QUITAR"})]})}),Object(k.jsx)("tbody",{children:i.map((function(t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"text-center",children:t.codigo}),Object(k.jsx)("td",{children:t.descripcion}),Object(k.jsx)("td",{className:"text-center",children:Object(k.jsx)(F.a,{variant:"danger",onClick:function(){var e;e=t.codigo,o({productos:i.filter((function(t){return t.codigo!==e}))})},children:Object(k.jsx)("i",{className:"fa fa-ban"})})})]})}))})]})]})]})}var $a=Object(c.createContext)(null);function tc(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useContext)(pa),o=Object(c.useContext)(Le),l=Object(c.useState)(Y),d=Object(j.a)(l,2),u=d[0],h=d[1],O=I(),b=Object(c.useCallback)((function(){O.isTurn("Cotizacion")&&tt(["FACTURA","NOTA","COTIZACION"])&&he().cambios((function(t){h({status:3,hora:g(he().state)}),r(K(t,n,he()))}),O.next)}),[n]);return Object(c.useEffect)((function(){return""!==he().state&&h({status:3,hora:g(he().state)}),tt(["FACTURA","NOTA","COTIZACION"])&&he().cargarListaCache(r),O.add("Cotizacion"),function(){return O.clean("Cotizacion")}}),[]),Object(c.useEffect)((function(){var t=setInterval(b,100);return function(){return clearInterval(t)}}),[n]),Object(k.jsx)($a.Provider,{value:Object(V.a)(Object(V.a)(Object(V.a)({},i),o),{},{estCotizacion:u,Cotizaciones:n,actCotizacion:b}),children:e})}$a.Consumer;var ec=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.cotizacion;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Cotizacion",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:150}),Object(k.jsx)(ze.a,{field:"nombre",title:"CLIENTE",width:500}),Object(k.jsx)(ze.a,{field:"monto",title:"MONTO",width:120})]})]})}}]),a}(s.a.Component),ac=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=he(),t.placeholder="BUSCAR COTIZACI\xd3N",t.buscarEn=["codigo","nombre","fecha","rif"],t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.productos=[],t.status=-1,t.user=-1,t}return Object(u.a)(a,[{key:"Avansado",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.setAvanzados;return Object(k.jsx)(Xa,{setData:n.bind(this),estatus:["CANCELADO","PENDIENTE","PROCESADA"],fecha_init:t,fecha_fin:e,status:a,user:c,productos:s})}},{key:"setAvanzados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.status,s=t.user,n=t.productos;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),s&&(this.user=s),c&&(this.status=c),0===c&&(this.status=c),n&&(this.productos=n),this.forceUpdate()}},{key:"filter",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.datetonomber;return this.ordenar().filter((function(r){if(r.status!==a&&-1!==a)return!1;if(r.usuario!==c&&-1!==c)return!1;var i=n(r.fecha);return!("dd/mm/aaaa"!==e&&i>n(e))&&(!("dd/mm/aaaa"!==t&&i<n(t))&&!!s.every((function(t){return r.detalles.some((function(e){return t.codigo===e}))})))}))}},{key:"Title",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR COTIZACI\xd3N"]}),Object(k.jsxs)(i.b,{to:"/cotizacion/nueva",className:"btn btn-primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVA COTIZACION"]})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 585px)",children:"CLIENTE"}),Object(k.jsx)(t,{width:"160px",children:"MONTO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Ma,{con:this.con,data:t},"cot"+t.codigo+t.status)}},{key:"getItens",value:function(){return this.context.Cotizaciones}},{key:"set",value:function(){this.context.actCotizacion()}},{key:"getEstado",value:function(){return this.context.estCotizacion}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(ec,{cotizacion:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);ac.contextType=$a;var cc=ac,sc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.data,a=e.validez,c=e.tiempo_entrega,s=e.forma_pago,n=e.nota,r=t.setData;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsx)(Ct,{upper:!0,name:"validez",maxLength:120,before:"VALIDES DE LA OFERTA",value:a,setData:r,update:"validez"})}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Ct,{upper:!0,name:"tiempo_entrega",maxLength:120,before:"TIEMPO DE ENTREGA",value:c,setData:r,update:"tiempo_entrega"})]}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Ct,{upper:!0,name:"forma_pago",maxLength:120,before:"FORMA DE PAGO",value:s,setData:r,update:"forma_pago"})]}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NOTA"}),Object(k.jsx)(pt,{upper:!0,autoComplete:"on",name:"nota",rows:3,maxLength:600,value:n,setData:r,update:"nota"})]})]})}}]),a}(s.a.Component);function nc(t){var e=Object(c.useContext)(ha);return Object(c.useEffect)((function(){e.actUnidad()}),[]),Object(k.jsxs)(bt.a,{as:"select",onChange:function(e){t.change(parseInt(e.currentTarget.value))},value:t.defaultValue,isInvalid:t.isInvalid,children:[Object(k.jsx)("option",{value:-1,children:"SELECCIONAR UNIDAD"}),e.Unidades.filter((function(t){return 1===t.estatus})).map((function(t){return Object(k.jsx)("option",{value:t.codigo,children:t.descripcion},"user"+t.codigo)}))]})}function rc(t){var e=Object(c.useContext)(ha);return Object(c.useEffect)((function(){e.actTipo()}),[]),Object(k.jsxs)(bt.a,{as:"select",onChange:function(e){t.change(parseInt(e.currentTarget.value))},value:t.defaultValue,isInvalid:t.isInvalid,children:[Object(k.jsx)("option",{value:-1,children:"SELECCIONAR TIPO"}),e.Tipos.filter((function(t){return 1===t.estatus})).map((function(t){return Object(k.jsx)("option",{value:t.codigo,children:t.descripcion},"user"+t.codigo)}))]})}var ic=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).error=[],c.utils=!0,c.procesar=!0,c.con=Re(),c.state=Object(V.a)(Object(V.a)({},ye),{},{monto_1:1,monto_2:1,monto_3:1,dolar:!!t.dolar}),c.reDol=c.reDol.bind(Object(jt.a)(c)),c.reDol=c.reDol.bind(Object(jt.a)(c)),c.setState=c.setState.bind(Object(jt.a)(c)),c.setPrecio=c.setPrecio.bind(Object(jt.a)(c)),c.setUtilidad=c.setUtilidad.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"setDepartamento",value:function(t){this.setState({departamento:t})}},{key:"setUnidad",value:function(t){this.setState({unidad:t})}},{key:"setTipo",value:function(t){this.setState({tipo:t})}},{key:"render",value:function(){var t=this;this.setContextUtilidades();var e=this.setState,a=this.setPrecio,c=this.setUtilidad,s=this.reDol,n=this.state,r=n.exento,i=n.descripcion,o=n.precio1,l=n.precio2,j=n.precio3,d=n.costo,u=n.tipo,h=n.unidad,O=n.departamento,b=n.enser,x=n.dolar,p=this.props,f=p.open,v=p.close;return Object(k.jsxs)(dt.a,{size:"xl",animation:!0,show:f,onHide:v,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," NUEVO PRODUCTO"]})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsxs)(ot.a,{xs:12,as:Ot.a,hasValidation:!!this.error.departamento,children:[Object(k.jsx)(Wa,{tipo:"SELECCIONAR",defaultValue:O,change:this.setDepartamento.bind(this),isInvalid:!!this.error.departamento}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:this.error.departamento?this.error.departamento:""})]}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"DESCRIPCI\xd3N"}),Object(k.jsx)(ft,{error:this.error,rows:3,maxLength:300,value:i,setData:e,update:"descripcion"})]}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsx)("br",{})}),Object(k.jsx)(ot.a,{md:4,children:Object(k.jsxs)(F.a,{block:!0,onClick:function(){t.setState({enser:1===b?0:1})},variant:0===b?"success":"danger",children:["PARA LA VENTA: ",0===b?"SI":"NO (ENSER)"]})}),Object(k.jsxs)(ot.a,{xs:4,as:Ot.a,hasValidation:!!this.error.unidad,children:[Object(k.jsx)(nc,{defaultValue:h,change:this.setUnidad.bind(this),isInvalid:!!this.error.unidad}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:this.error.unidad?this.error.unidad:""})]}),Object(k.jsxs)(ot.a,{xs:4,as:Ot.a,hasValidation:!!this.error.tipo,children:[Object(k.jsx)(rc,{defaultValue:u,change:this.setTipo.bind(this),isInvalid:!!this.error.tipo}),Object(k.jsx)(bt.a.Feedback,{type:"invalid",children:this.error.tipo?this.error.tipo:""})]}),Object(k.jsxs)(ot.a,{md:2,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{block:!0,onClick:function(){t.setState({exento:!r})},variant:r?"success":"primary",children:["EXENTO: ",r?"SI":"NO"]})]}),Object(k.jsxs)(ot.a,{md:2,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{block:!0,onClick:function(){t.setState({dolar:!x})},variant:x?"warning":"primary",children:["MONTOS EN: ",x?"USD":"BS"]})]}),Object(k.jsxs)(ot.a,{xs:8,style:{height:54},children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{error:this.error,after:x?"USD":"BS",min:.01,step:".01",before:"COSTO",update:"costo",value:s(d),setData:this.setCosto.bind(this)})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",after:"%",before:"UTILIDAD 1",value:o,setData:c,update:"precio1"})]}),Object(k.jsxs)(ot.a,{xs:8,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",after:x?"USD":"BS",before:"PRECIO 1",value:this.getPrecio(o),setData:a,update:"monto_1"})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",after:"%",before:"UTILIDAD 2",value:l,setData:c,update:"precio2"})]}),Object(k.jsxs)(ot.a,{xs:8,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",after:x?"USD":"BS",before:"PRECIO 2",value:this.getPrecio(l),setData:a,update:"monto_2"})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",after:"%",before:"UTILIDAD 3",value:j,setData:c,update:"precio3"})]}),Object(k.jsxs)(ot.a,{xs:8,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",after:x?"USD":"BS",before:"PRECIO 3",value:this.getPrecio(j),setData:a,update:"monto_3"})]})]})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{onClick:this.create.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," Guardar"]})})]})}},{key:"setCosto",value:function(t){var e=t.costo;this.setState({costo:this.rBol(e)})}},{key:"rBol",value:function(t){var e=this.context.tasa;return this.state.dolar?t*e:t}},{key:"reDol",value:function(t){var e=this.context.tasa;return this.state.dolar?t/e:t}},{key:"getPrecio",value:function(t){var e=t/100+1;return(0,this.reDol)(this.state.costo*e)}},{key:"setPrecio",value:function(t){var e=this.rBol;t.monto_1&&this.setState({monto_1:e(t.monto_1),precio1:this.getUtilidad(e(t.monto_1))}),t.monto_2&&this.setState({monto_2:e(t.monto_2),precio2:this.getUtilidad(e(t.monto_2))}),t.monto_3&&this.setState({monto_3:e(t.monto_3),precio3:this.getUtilidad(e(t.monto_3))})}},{key:"getUtilidad",value:function(t){var e=100*(t/this.state.costo-1);return parseFloat(e.toFixed(2))}},{key:"setUtilidad",value:function(t){t.precio1&&this.setState({monto_1:this.getPrecio(t.precio1),precio1:t.precio1}),t.precio2&&this.setState({monto_2:this.getPrecio(t.precio2),precio2:t.precio2}),t.precio3&&this.setState({monto_3:this.getPrecio(t.precio3),precio3:t.precio3})}},{key:"create",value:function(){var t=this;this.error=[];var e=!0,a=this.state,c=a.descripcion,s=a.tipo,n=a.unidad,r=a.departamento,i=a.costo;"descripcion"===c&&(this.error.descripcion="DEBE COLOCAR UNA DESCRIPCION",e=!1),"TODO"===r&&(this.error.departamento="DEBE SELECCIONAR UN DEPARTAMENTO",e=!1),-1===s&&(this.error.tipo="DEBE SELECCIONAR UN TIPO DE PRODUCTO",e=!1),-1===n&&(this.error.unidad="DEBE SELECCIONAR UNA UNIDAD DE MEDIDA",e=!1),0===i&&(this.error.costo="DEBE COLOCAR EL COSTO",e=!1),this.forceUpdate(),e&&this.procesar&&(this.procesar=!1,this.con.nuevo(this.state,(function(e){t.props.add(e),t.procesar=!0,t.setState(Object(V.a)({},ye));var a=t.context,c=a.precio1,s=a.precio2,n=a.precio3;t.setUtilidad({precio1:c,precio2:s,precio3:n}),t.props.close()})))}},{key:"setContextUtilidades",value:function(){if(this.utils){var t=this.context,e=t.precio1,a=t.precio2,c=t.precio3;e>1&&(this.setUtilidad({precio1:e,precio2:a,precio3:c}),this.utils=!1)}}},{key:"setError",value:function(t){var e=this;t.response&&(t.response.errores.forEach((function(t){t.sql?t.sql.forEach((function(t){return Object(l.b)(t,{type:l.b.TYPE.ERROR})})):Object.keys(t).forEach((function(a){return e.error[a]=t[a]}))})),console.log(this.error),this.forceUpdate())}},{key:"componentWillReceiveProps",value:function(t){var e=t.dolar;this.state.dolar!==e&&this.setState({dolar:!!e})}}]),a}(s.a.Component);ic.contextType=Le;var oc=ic;function lc(t){var e=t.imponible,a=t.exento,s=t.cols,n=void 0===s?3:s,r=Object(c.useContext)(we).impuesto;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{colSpan:n,rowSpan:8}),Object(k.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"SUBTOTAL:"}),Object(k.jsx)("th",{style:{textAlign:"right"},children:m(e+a)})]}),a>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"EXENTO:"}),Object(k.jsx)("th",{style:{textAlign:"right"},children:m(a)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"BASE IMPONIBLE:"}),Object(k.jsx)("th",{style:{textAlign:"right"},children:m(e)})]})]}):Object(k.jsx)(k.Fragment,{}),Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{style:{textAlign:"right"},colSpan:2,children:["IMPUESTO ",r,"%:"]}),Object(k.jsx)("th",{style:{textAlign:"right"},children:m(e*(r/100))})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"TOTAL:"}),Object(k.jsx)("th",{style:{textAlign:"right"},children:m(e+a+e*(r/100))})]})]})}var jc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).setData=void 0,c.nuevo=!1,c.productos="Compra",c.setData=t.setData,c.Row=c.Row.bind(Object(jt.a)(c)),c.THead=c.THead.bind(Object(jt.a)(c)),c.precio=c.precio.bind(Object(jt.a)(c)),c.Calcular=c.Calcular.bind(Object(jt.a)(c)),c.BotonesLeft=c.BotonesLeft.bind(Object(jt.a)(c)),c.BotonesRight=c.BotonesRight.bind(Object(jt.a)(c)),c.addProductos=c.addProductos.bind(Object(jt.a)(c)),c.removeProductos=c.removeProductos.bind(Object(jt.a)(c)),c.createProducto=c.createProducto.bind(Object(jt.a)(c)),c.state={nuevoProducto:!1,buscarProducto:!1,aux:!1,aux2:!1,aux3:!1,aux4:!1,aux5:!1},c}return Object(u.a)(a,[{key:"addProductos",value:function(t){var e=this.props.data.detalles;t.precio=parseFloat(t.precio.toFixed(2)),e.some((function(e){return e.codigo===t.codigo}))?this.setData({detalles:e.map((function(e){return e.codigo===t.codigo?t:e}))}):this.setData({detalles:[].concat(Object(Z.a)(e),[t])})}},{key:"removeProductos",value:function(t){var e=this.props.data.detalles;this.setData({detalles:e.filter((function(e){return e.codigo!==t.codigo}))}),Object(l.b)("PRODUCTO "+t.descripcion+" QUITADO",{type:l.b.TYPE.SUCCESS})}},{key:"createProducto",value:function(t){this.addProductos(Object(V.a)(Object(V.a)({},t),{},{unidades:1,precio:t.costo,comentario:""}))}},{key:"Row",value:function(t){t.data,t.add,t.remove;return Object(k.jsx)(k.Fragment,{})}},{key:"BotonesRight",value:function(){var t=this,e=this.props,a=e.setData,c=e.data.dolar;return Object(k.jsxs)(ot.a,{xs:6,style:{textAlign:"right"},className:"float-right",children:[Object(k.jsxs)(F.a,{"data-tip":"CAMBIAR A "+(c?"BOLIVARES":"DOLARES"),style:{marginRight:"15px"},variant:c?"warning":"primary",onClick:function(){return a({dolar:!c})},size:"sm",children:[c?Object(k.jsx)("span",{className:"fa fa-dollar-sign"}):Object(k.jsx)("b",{children:"BS"})," DOCUMENTO EN ",c?"DOLARES":"BOLIVARES"]}),Object(k.jsx)(F.a,{"data-tip":"PROCESAR",style:{marginRight:"15px"},variant:"success",className:"float-right",onClick:function(){return t.setData({procesar:!0})},children:Object(k.jsx)("span",{className:"fa fa-print"})}),Object(k.jsxs)(Rt.a,{className:"float-right",style:{marginRight:"15px"},children:[this.createProductoValidation()?Object(k.jsx)(F.a,{"data-tip":"NUEVO PRODUCTO",onClick:function(){t.setState({nuevoProducto:!0})},variant:"info",children:Object(k.jsx)("i",{className:"fa fa-edit"})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(F.a,{"data-tip":"BUSCAR PRODUCTO",onClick:function(){t.setState({buscarProducto:!0})},variant:"primary",children:Object(k.jsx)("span",{className:"fa fa-search"})})]})]})}},{key:"BotonesLeft",value:function(){return Object(k.jsx)(ot.a,{xs:6})}},{key:"render",value:function(){var t=0,e=0,a=this.BotonesRight,c=this.BotonesLeft,s=this.THead,n=this.Row,r=this.Calcular,i=this.addProductos,o=this.removeProductos,l=this.precio,j=this.state,d=j.nuevoProducto,u=j.buscarProducto,h=this.props.data,O=h.detalles,b=h.dolar;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(oc,{open:d,dolar:b,close:this.close.bind(this),add:this.createProducto.bind(this)}),Object(k.jsx)(qa,{type:this.productos,dolar:b,open:u,add:this.addProductos.bind(this),close:this.close.bind(this)}),Object(k.jsx)(Aa.a,{}),Object(k.jsx)("br",{}),Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(c,{}),Object(k.jsx)(a,{})]}),Object(k.jsx)("hr",{}),Object(k.jsxs)(Pt.a,{className:"accordion",striped:!0,hover:!0,children:[Object(k.jsx)(s,{}),Object(k.jsxs)("tbody",{children:[O.map((function(a){return a.exento?e+=l(a.precio)*a.unidades:t+=l(a.precio)*a.unidades,Object(k.jsx)(n,{data:a,add:i,remove:o})})),Object(k.jsx)(r,{exento:e,imponible:t})]})]})]})}},{key:"precio",value:function(t){var e=this.context.tasa;return this.props.data.dolar?parseFloat((t/e).toFixed(2)):t}},{key:"THead",value:function(){return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)("th",{style:{width:"90px",textAlign:"center"},children:"COD"}),Object(k.jsx)("th",{style:{textAlign:"center"},children:"DESCRIPCI\xd3N"}),Object(k.jsx)("th",{style:{width:"120px",textAlign:"center"},children:"CANT"}),Object(k.jsx)("th",{style:{width:"120px",textAlign:"center"},children:"DISP"}),Object(k.jsx)("th",{style:{width:"180px",textAlign:"center"},children:"P.U."}),Object(k.jsx)("th",{style:{width:"230px",textAlign:"center"},children:"TOTAL"}),Object(k.jsx)("th",{style:{width:"110px",textAlign:"center"}})]})}},{key:"Calcular",value:function(t){var e=t.imponible,a=t.exento;return Object(k.jsx)(lc,{exento:a,imponible:e})}},{key:"close",value:function(){this.setState({nuevoProducto:!1,buscarProducto:!1,aux:!1})}},{key:"createProductoValidation",value:function(){return!(!this.nuevo||!this.context.data.Permisos.some((function(t){return"PRODUCTO"===t})))}}]),a}(s.a.Component);jc.contextType=Le;var dc=jc,uc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).tasa=!0,c.impuesto=0,c.con=he(),c.procesar=!0,c.tipo="Cotizacion",c.title="",c.msn="",c.setData=void 0,c.setData=c.setState.bind(Object(jt.a)(c)),c.setState=c.setState.bind(Object(jt.a)(c)),c.Productos=c.Productos.bind(Object(jt.a)(c)),c.PDF=c.PDF.bind(Object(jt.a)(c)),c.Top=c.Top.bind(Object(jt.a)(c)),c.Procesar=c.Procesar.bind(Object(jt.a)(c)),c.state=Object(V.a)(Object(V.a)({},G),{},{procesar:!1,cod_cliente:"",cod_proveedor:""}),c}return Object(u.a)(a,[{key:"render",value:function(){this.dolar();var t=this.state,e=t.codigo,a=t.procesar,c=this.setState,s=this.Top,n=this.PDF,r=this.Productos,i=this.msn,o=this.title;return e>0?Object(k.jsx)(n,{}):Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Ra,{variant:"info",title:"CONFIRMAR",open:a,msn:"DESEA PROCESAR "+i,close:function(){return c({procesar:!1})},accion:this.Procesar}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," NUEVO ",o]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(s,{}),Object(k.jsx)(r,{})]})]})}},{key:"Top",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Productos",value:function(){return Object(k.jsx)(dc,{setData:this.setState,data:this.state})}},{key:"PDF",value:function(){var t=this.state,e=t.codigo,a=t.dolar;return Object(k.jsx)(Ta,{id:e,tipo:this.tipo,dolar:!!a})}},{key:"Procesar",value:function(){}},{key:"validacionGenerica",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.state.detalles.length&&(Object(l.b)("DEBE SELECCIONAR AL MENOS UN PRODUCTO",{type:l.b.TYPE.ERROR}),t=!1),t&&(this.procesar&&t?this.procesar=!1:(Object(l.b)("YA SE ESTA PROCESANDO "+this.msn,{type:l.b.TYPE.ERROR}),t=!1)),t}},{key:"valdacionPrecio",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.context,a=e.data.User.nivel,c=e.findProVen;return void 0===this.state.id_nota&&this.state.detalles.forEach((function(e){var s=c(e,!1);(0===a?s.costo:s.costo*(1+s.precio1/100))>e.precio&&(Object(l.b)(e.descripcion+" ESTA POR DEBAJO DE SU "+(0===a?"COSTO":"PRECIO DE VENTA MAS BAJO")+" REGISTRADO",{type:l.b.TYPE.ERROR}),t=!1)})),t}},{key:"validacionExixtencia",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.context,a=e.findProVen;return void 0===this.state.id_nota&&this.state.detalles.forEach((function(e){var c=a(e,!1);e.unidades>c.cantidad&&e.inventario>1&&(Object(l.b)("NO HAY SUFICENTE "+e.descripcion+" PARA COMPLETAR LA OPERACION",{type:l.b.TYPE.ERROR}),t=!1)})),t}},{key:"getData",value:function(){return this.state}},{key:"dolar",value:function(){0!==this.context.tasa&&this.tasa&&(this.setState({dolar:this.context.dolar}),this.tasa=!1)}},{key:"componentDidMount",value:function(){var t=localStorage.getItem(this.tipo+"Cache");if(null!==t){var e=JSON.parse(t);this.setState(e)}this.setConfig()}},{key:"setConfig",value:function(){T(this.tipo.toLowerCase()).pull(this.setData)}},{key:"componentDidUpdate",value:function(){this.state.procesar||localStorage.setItem(this.tipo+"Cache",JSON.stringify(this.state))}},{key:"componentWillUnmount",value:function(){localStorage.removeItem(this.tipo+"Cache")}}]),a}(s.a.Component);uc.contextType=Le;var hc=uc,Oc=a(113),bc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;Object(d.a)(this,a),(c=e.call(this,t)).error=[],c.con=oe(),c.setState=c.setState.bind(Object(jt.a)(c));var s=t.cliente;return null===s&&(s=re),c.state=Object(V.a)(Object(V.a)({},s),{},{activeError:!1}),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState,e=this.state;return Object(k.jsxs)(dt.a,{animation:!0,show:this.props.open,size:"lg",centered:!0,onHide:this.props.close,children:[Object(k.jsx)(dt.a.Header,{className:"bg-primary",closeButton:!0,children:Object(k.jsx)("h4",{className:"mr-auto",children:this.props.title})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{upper:!0,mask:"A-99999999-9",maxLength:20,before:"RIF",value:e.codigo,setData:t,update:"codigo",disabled:null!==this.props.cliente,error:this.error})}),Object(k.jsx)(ot.a,{as:ht.a,hasValidation:!!this.error.nivel,xs:12,children:Object(k.jsx)(Ct,{error:this.error,upper:!0,before:"RAZON SOCIAL",maxLength:150,value:e.nombre,setData:t,update:"nombre"})}),Object(k.jsx)(ot.a,{as:ht.a,hasValidation:!!this.error.nivel,xs:12,children:Object(k.jsx)(Ct,{error:this.error,upper:!0,before:"CORREO",maxLength:150,value:e.correo,setData:t,update:"correo"})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{upper:!0,maxLength:120,before:"TEL\xc9FONO",value:e.telefono,setData:t,update:"telefono",error:this.error})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{upper:!0,before:"PERSONA DE CONTACTO",maxLength:50,value:e.contacto,setData:t,update:"contacto",error:this.error})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"TIPO DE CONTRIBUYENTE"})}),Object(k.jsxs)(bt.a,{as:"select",style:{width:"120px"},onChange:this.setContribuyente.bind(this),value:e.tipo_contribuyente,children:[Object(k.jsx)("option",{value:"ORDINARIO",children:"ORDINARIO"}),Object(k.jsx)("option",{value:"ESPECIAL",children:"ESPECIAL"})]}),Object(k.jsx)(At,{value:e.retencion,setData:t,update:"retencion",step:.01,disabled:"ESPECIAL"!==e.tipo_contribuyente})]})}),Object(k.jsxs)(ot.a,{as:ht.a,hasValidation:!!this.error.nivel,xs:12,children:[Object(k.jsx)(Oc.a,{children:"DIRECCION"}),Object(k.jsx)(ft,{error:this.error,upper:!0,value:e.direccion,setData:t,update:"direccion",maxLength:300})]})]})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.get.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," GUARDAR"]})})]})}},{key:"isInvalid",value:function(t){return""===t}},{key:"get",value:function(){this.error=[];var t=!0;""===this.state.codigo&&(this.error.codigo="DEBE COLOCAR EL DOCUMENTO LEGAL DEL CLIENTE",t=!1),""===this.state.nombre&&(this.error.nombre="DEBE COLOCAR LA RAZON SOCIAL",t=!1),""===this.state.telefono&&(this.error.telefono="DEBE COLOCAR NUMERO DE TELEFONO",t=!1),""===this.state.direccion&&(this.error.direccion="DEBE COLOCAR UNA DIRECCION",t=!1),""===this.state.contacto&&(this.error.contacto="DEBE COLOCAR LA PERSONA DE CONTACTO",t=!1),this.forceUpdate(),t&&(null===this.props.cliente?this.con.nuevo(this.state,this.action.bind(this)):this.con.actualizar(this.props.cliente.codigo,this.state,this.action.bind(this)))}},{key:"action",value:function(t){this.props.add&&this.props.add(t),null===this.props.cliente&&this.setState(re),this.props.close()}},{key:"setContribuyente",value:function(t){var e=t.currentTarget.value;this.setState({tipo_contribuyente:e})}}]),a}(s.a.Component);function xc(t,e,a){return""!==e?t.filter((function(t){var c=e.split(" "),s=!1;return a.forEach((function(e){var a=0;c.forEach((function(c){isNaN(t[e])?t[e].toUpperCase().indexOf(c)>-1&&a++:v(parseFloat(t[e])).indexOf(c)>-1&&a++})),c.length===a&&(s=!0)})),s})):t}var pc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=oe(),c.nombre=s.a.createRef(),c.codigo=s.a.createRef(),c.state={nuevo:!1,cliente:re,buscarCodigo:"",buscarNumbre:""},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.nuevo,c=e.cliente,s=e.buscarCodigo,n=e.buscarNumbre;return Object(k.jsxs)(_t.a,{as:Vt.a,id:"tabla",children:[Object(k.jsx)(bc,{cliente:null,title:"NUEVO CLIENTE",open:a,add:this.seleccion.bind(this),close:this.close.bind(this)}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(ut.a,{children:Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsx)("h4",{className:"mr-auto",children:Object(k.jsx)("b",{children:"DATOS DEL CLIENTE"})})})}),Object(k.jsxs)(ut.a,{children:[Object(k.jsxs)(Ot.a,{className:"mb-3",style:{width:"30%",marginRight:"15px",marginLeft:"10px"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"RIF"})}),Object(k.jsx)(bt.a,{style:{width:"calc(100% - 60px)",position:"relative"},list:"inputCodigo",ref:this.codigo,onKeyUp:this.limpiarCodigo.bind(this),onChange:this.setBuscarCodigo.bind(this),defaultValue:s})]}),Object(k.jsx)("datalist",{id:"inputCodigo",children:this.getList(xc(this.context.Clientes,s,["codigo"]),"codigo")}),Object(k.jsxs)(Ot.a,{className:"mb-3",style:{width:"calc(70% - 160px)",marginRight:"15px"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"NOMBRE"})}),Object(k.jsx)(bt.a,{style:{width:"calc(100% - 100px)"},list:"inputNombre",className:"form-control",ref:this.nombre,onKeyUp:this.limpiarNombre.bind(this),onChange:this.setBuscarNombre.bind(this),defaultValue:n})]}),Object(k.jsx)("datalist",{id:"inputNombre",children:this.getList(xc(this.context.Clientes,s,["nombre"]),"nombre")}),Object(k.jsxs)(Rt.a,{style:{width:"110px"},className:"float-right mb-3",children:[Object(k.jsx)(F.a,{"data-tip":"VER MAS",as:Vt.a.Toggle,eventKey:"1",children:Object(k.jsx)("i",{className:"fa fa-eye"})}),Object(k.jsx)(F.a,{"data-tip":"NUEVO CLIENTE",onClick:function(){t.setState({nuevo:!0})},variant:"info",children:Object(k.jsx)("i",{className:"fa fa-edit"})})]})]}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"1",children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"NOMBRE"})}),Object(k.jsx)(bt.a,{disabled:!0,value:c.correo})]})}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"TELEFONO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:c.telefono})]})}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"PERSONA DE CONTACTO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:c.contacto})]})}),Object(k.jsxs)(ot.a,{xs:12,className:"mb-3",children:[Object(k.jsx)("b",{children:"DICECCION"}),Object(k.jsx)(bt.a,{rows:3,as:"textarea",disabled:!0,value:c.direccion})]})]})})]})]})}},{key:"seleccion",value:function(t){this.set(),this.props.add(t.codigo),this.nombre.current&&(this.nombre.current.value=t.nombre),this.codigo.current&&(this.codigo.current.value=t.codigo),this.setState({cliente:t,buscarCodigo:t.codigo,buscarNumbre:t.nombre})}},{key:"setBuscarNombre",value:function(t){var e=t.target.value.toUpperCase();this.setState({buscarNumbre:e});var a=this.context.Clientes.find((function(t){return t.nombre===e}));void 0!==a&&this.props.add(a.codigo)}},{key:"setBuscarCodigo",value:function(t){var e=t.target.value.toUpperCase();this.setState({buscarCodigo:e});var a=this.context.Clientes.find((function(t){return t.codigo===e}));void 0!==a&&this.props.add(a.codigo)}},{key:"limpiarNombre",value:function(t){8===t.keyCode&&(t.currentTarget.value="",this.limpiar())}},{key:"limpiarCodigo",value:function(t){8===t.keyCode&&(t.currentTarget.value="",this.limpiar())}},{key:"limpiar",value:function(){this.setState({cliente:re,buscarCodigo:"",buscarNumbre:""}),this.nombre.current&&(this.nombre.current.value=""),this.codigo.current&&(this.codigo.current.value="")}},{key:"getList",value:function(t,e){return t.map((function(t){return Object(k.jsx)("option",{value:t[e]},e+t.codigo)}))}},{key:"close",value:function(){this.setState({nuevo:!1})}},{key:"componentWillReceiveProps",value:function(t){if(this.state.cliente.codigo!==t.Cliente){var e=this.context.Clientes.find((function(e){return e.codigo===t.Cliente}));void 0!==e&&(this.nombre.current&&(this.nombre.current.value=e.nombre),this.codigo.current&&(this.codigo.current.value=e.codigo),this.setState({cliente:e,buscarCodigo:e.codigo,buscarNumbre:e.nombre}))}}},{key:"componentDidMount",value:function(){this.set()}},{key:"set",value:function(){this.context.actCliente()}}]),a}(s.a.Component);pc.contextType=pa;var fc=pc;function vc(t){var e=t.data,a=t.edit,s=t.remove,n=t.dolar,r=void 0!==n&&n,i=t.venta,o=void 0!==i&&i,l=t.nota,d=void 0!==l&&l,u=Object(c.useContext)(Le),h=u.findProVen,O=u.tasa,b=Object(c.useContext)(et).data.User.nivel,x=h(e,r),p=x.codigo,f=x.descripcion,v=x.costo,A=x.cantidad,g=x.monto1,E=x.monto2,C=x.monto3,y=x.inventario,N=Object(c.useState)(e.unidades),R=Object(j.a)(N,2),S=R[0],T=R[1],D=Object(c.useState)(e.precio),I=Object(j.a)(D,2),P=I[0],w=I[1],U=Object(c.useState)(e.comentario),L=Object(j.a)(U,2),M=L[0],B=L[1],_=Object(c.useState)(!1),z=Object(j.a)(_,2),G=z[0],H=z[1];Object(c.useEffect)((function(){a(Object(V.a)(Object(V.a)({},e),{},{unidades:S,precio:P,comentario:M}))}),[S,P,M]);var Y=r?P/O:P;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{className:function(){if(o&&!d){if(g-.01>=P)return"bg-warning";if(A<=S&&1!==y&&void 0===d)return"bg-danger"}}(),"data-tip":function(){if(o&&!d){if(g>P)return"ESTAS POR DEBAJO DEL PRECIO MINIMO";if(A<S&&1!==y)return"NO TIENES DISPONIBILIDAD SUFICIENTE"}}(),children:[Object(k.jsx)(St,{width:"90px",children:p}),Object(k.jsx)(St,{width:"auto",children:f}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(At,{min:.01,setData:T,value:S})}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:1===y?"NO APLICA":m(A)})}),Object(k.jsxs)(Tt,{width:"180px",tip:"MINIMO: "+m(0===b?v:g),children:[Object(k.jsx)(At,{list:v+"list",setData:function(t){return w(r?t*O:t)},value:Y,min:0===b?v:g,step:"0.01"}),Object(k.jsxs)("datalist",{id:v+"list",children:[Object(k.jsx)("option",{children:g.toFixed(2)}),Object(k.jsx)("option",{children:E.toFixed(2)}),Object(k.jsx)("option",{children:C.toFixed(2)})]},v+"list"+r)]}),Object(k.jsx)(Tt,{width:"230px",children:Object(k.jsx)(At,{disabled:!0,setData:function(){},value:parseFloat(Y.toFixed(2))*S,update:"p"})}),Object(k.jsxs)(Tt,{width:"110px",children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(Rt.a,{children:[o?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(F.a,{variant:"info",onClick:function(){return H(!G)},"data-tip":"DEJAR NOTA",children:Object(k.jsx)("span",{className:"fa fa-edit"})}),Object(k.jsx)(F.a,{variant:"danger",onClick:function(){return s(e)},"data-tip":"QUITAR PRODUCTO",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})]})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:m(v)}),Object(k.jsx)(St,{width:"90px",children:m(g)}),Object(k.jsx)(St,{width:"90px",children:m(E)}),Object(k.jsx)(St,{width:"90px",children:m(C)})]}),G?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)(Ct,{maxLength:250,before:"NOTA INTERNA",setData:B,value:M})})}):Object(k.jsx)("tr",{})]})}var mc=Object(c.memo)(vc),Ac=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).venta=!0,t}return Object(u.a)(a,[{key:"Row",value:function(t){var e=t.data,a=t.add,c=t.remove,s=this.props.data,n=s.dolar,r=s.id_nota;return Object(k.jsx)(mc,{data:e,edit:a,remove:c,dolar:n,venta:this.venta,nota:void 0!==r},e.codigo+"venta"+this.productos)}}]),a}(dc),gc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props.data;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:v(e.codigo)}),Object(k.jsx)("th",{children:A(e.fecha)}),Object(k.jsx)("th",{children:e.nombre}),Object(k.jsx)("th",{children:this.getStatus()}),Object(k.jsx)("th",{style:{textAlign:"center"},children:Object(k.jsx)(F.a,{"data-tip":"Agregar Producto",onClick:function(){t.props.add(e)},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}},{key:"getStatus",value:function(){switch(this.props.data.status){case 0:return Object(k.jsx)("span",{className:"badge badge-danger",children:"CANCELADA"});case 1:return Object(k.jsx)("span",{className:"badge badge-warning",children:this.getStatus1()});case 2:return Object(k.jsx)("span",{className:"badge badge-success",children:this.getStatus2()})}}},{key:"getStatus1",value:function(){switch(this.props.type){case"Orden":return"EN ESPERA";case"Compra":return"SIN FACTURA";case"Cotizacion":return"PENDIENTE";case"Nota":return"ENTREGADO"}}},{key:"getStatus2",value:function(){switch(this.props.type){case"Compra":case"Nota":return"FACTURADA";case"Orden":case"Cotizacion":case"Factura":return"PROCESADA"}}}]),a}(s.a.Component);function Ec(t){var e=t.status,a=t.estatus,c=t.setData;return Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:function(t){c(parseInt(t.currentTarget.value))},className:"form-control",value:e,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),a[0]?Object(k.jsx)("option",{value:0,children:a[0]}):Object(k.jsx)(k.Fragment,{}),a[1]?Object(k.jsx)("option",{value:1,children:a[1]}):Object(k.jsx)(k.Fragment,{}),a[2]?Object(k.jsx)("option",{value:2,children:a[2]}):Object(k.jsx)(k.Fragment,{})]})}var Cc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).buscarEn=["codigo","nombre","fecha"],t.status=-1,t}return Object(u.a)(a,[{key:"Buscador",value:function(){var t=this;return Object(k.jsxs)(ut.a,{style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{className:"col-md-9 mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ec,{status:this.status,estatus:["CANCELADO","PENDIENTE","PROCESADA"],setData:function(e){t.status=e,t.forceUpdate()}}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]})}},{key:"filter",value:function(){var t=this;return this.ordenar().filter((function(e){return e.status===t.status||-1===t.status}))}},{key:"Title",value:function(){return Object(k.jsx)("h4",{className:"mr-auto",children:"BUSCAR COTIZACION"})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"90px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"auto",children:"CLIENTE"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(gc,{data:t,type:"Cotizacion",add:this.add.bind(this)},t.codigo+t.status)}},{key:"add",value:function(t){this.props.add(t),this.props.close()}},{key:"getItens",value:function(){return this.context.Cotizaciones}},{key:"set",value:function(){this.context.actCotizacion()}},{key:"getEstado",value:function(){return this.context.estCotizacion}},{key:"reset",value:function(){this.context.resetVenta()}}]),a}(Ja);Cc.contextType=$a;var yc=Cc,Nc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).buscarEn=["codigo","nombre","fecha"],t.estado=Y,t}return Object(u.a)(a,[{key:"Buscador",value:function(){return Object(k.jsxs)(ut.a,{style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{className:"col-md-9 mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]})}},{key:"Title",value:function(){return Object(k.jsx)("h4",{className:"mr-auto",children:"BUSCAR GUARDADOS"})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"90px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"auto",children:"USUARIO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(gc,{data:t,type:"Cotizacion",add:this.add.bind(this)},t.codigo+t.status)}},{key:"getEstado",value:function(){return this.estado}},{key:"add",value:function(t){this.props.add(t),this.props.close()}},{key:"set",value:function(){var t=this;this.estado={status:2,hora:"...ACTUALIZANDO"},this.forceUpdate(),this.con.forceGetWeb("/api/Cotizacion/plantillas",(function(e){t.estado={status:3,hora:g(void 0)},t.setState({itens:e})}))}}]),a}(Ja),Rc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).productos="Cotizacion",t.nuevo=!0,t.venta=!1,t.con=he(),t}return Object(u.a)(a,[{key:"BotonesLeft",value:function(){var t=this,e=this.guardar,a=this.cargar,c=this.copiar,s=this.state,n=s.aux,r=s.aux2;return Object(k.jsxs)(ot.a,{xs:6,children:[Object(k.jsx)(yc,{open:n,close:function(){return t.setState({aux:!1})},add:c.bind(this)}),Object(k.jsx)(Nc,{open:r,close:function(){return t.setState({aux2:!1})},add:a.bind(this)}),Object(k.jsx)(F.a,{onClick:function(){return t.setState({aux:!0})},"data-class":"toolbody","data-html":"true","data-tip":"COPIAR COTIZACION",variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-copy"})}),Object(k.jsxs)(Rt.a,{style:{marginLeft:"15px"},children:[Object(k.jsx)(F.a,{variant:"info",onClick:e.bind(this),"data-tip":"GUARDAR",children:Object(k.jsx)("i",{className:"fa fa-save"})}),Object(k.jsx)(F.a,{variant:"warning",onClick:function(){return t.setState({aux2:!0})},"data-tip":"CARGAR",children:Object(k.jsx)("i",{className:"fa fa-folder-open"})})]})]})}},{key:"createProducto",value:function(t){this.addProductos(Object(V.a)(Object(V.a)({},t),{},{unidades:1,precio:t.costo*(1+1*t.precio2/100),comentario:""}))}},{key:"copiar",value:function(t){var e=this;this.con.detalle(t.codigo,(function(t){t.codigo=0,e.setData(t)}))}},{key:"cargar",value:function(t){var e=this,a=t.codigo;this.con.forceGetWeb("/api/Cotizacion/cargar/"+a,(function(t){t.plantilla=t.codigo,t.codigo=0,e.setData(t)}))}},{key:"guardar",value:function(){var t=this;this.con.post("/api/Cotizacion/guardar",je(this.props.data,this.context.impuesto),(function(e){t.setData({plantilla:e}),Object(l.b)("DATOS GUARDADOS EN N\xb0 "+e,{type:l.b.TYPE.SUCCESS})}),(function(t){Object(l.b)("ERROR AL CONECTAR CON SEL SERVIDOR",{type:l.b.TYPE.ERROR})}))}}]),a}(Ac);Rc.contextType=Le;var Sc=Rc,Tc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=he(),c.title="COTIZACION",c.msn="LA COTIZACION",c.state=Object(V.a)(Object(V.a)({},le),{},{procesar:!1}),c.tipo="Cotizacion",c}return Object(u.a)(a,[{key:"setCliente",value:function(t){this.setState({cod_cliente:t})}},{key:"Top",value:function(){var t=this.getData();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(fc,{Cliente:t.cod_cliente,add:this.setCliente.bind(this)}),Object(k.jsxs)(Vt.a,{children:[Object(k.jsx)(Vt.a.Toggle,{eventKey:"0",as:F.a,variant:"primary",children:"DATOS OPCIONALES"}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(ut.a,{children:Object(k.jsx)(sc,{data:t,setData:this.setState})})})})})]})]})}},{key:"Productos",value:function(){return Object(k.jsx)(Sc,{setData:this.setState,data:this.state},"auxCotizacion")}},{key:"Procesar",value:function(){var t=this,e=!0;""===this.state.cod_cliente&&(Object(l.b)("DEBE SELECCIONAR UN CLIENTE",{type:l.b.TYPE.ERROR}),e=!1),(e=this.validacionGenerica(e))&&this.con.nuevo(je(this.getData(),this.context.impuesto),(function(e){return t.setState({codigo:e})}),(function(e){return t.procesar=!0}))}}]),a}(hc);Tc.contextType=$a;var Dc=Tc,Ic=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.clientes;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Clientes",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"CI/RIF",width:120}),Object(k.jsx)(ze.a,{field:"nombre",title:"NOMBRE",width:500}),Object(k.jsx)(ze.a,{field:"correo",title:"CORREO",width:500}),Object(k.jsx)(ze.a,{field:"telefono",title:"TELEFONO",width:300}),Object(k.jsx)(ze.a,{field:"direccion",title:"DIRECCION",width:1100}),Object(k.jsx)(ze.a,{field:"contacto",title:"CONTACTO",width:500})]})]})}}]),a}(s.a.Component),kc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=oe(),c.state={edit:!1},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"150px",children:this.props.data.codigo}),Object(k.jsxs)("th",{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(bc,{open:this.state.edit,title:"EDITAR DATOS DE "+this.props.data.nombre,cliente:this.props.data,close:function(){t.setState({edit:!1})},add:this.props.update},"Editcliente"+this.props.data.codigo),Object(k.jsx)(F.a,{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"data-class":"toolbody","data-html":"true","data-tip":this.tooltipCliente(),variant:"link",children:this.props.data.nombre})]}),Object(k.jsx)(St,{width:"120px",children:this.getStatus()}),Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:function(){t.setState({edit:!0})},children:Object(k.jsx)("i",{className:"fa fa fa-edit"})}),1===this.props.data.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check"})})]})})]})}},{key:"getModal",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"getStatus",value:function(){return 1===this.props.data.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"tooltipCliente",value:function(){var t=this.props.data;return"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br /><b>PERSONA DE CONTACTO:</b><br />"+t.contacto+"<br /><b>CORREO ELECTRONICO:</b><br />"+t.correo+"<br /><b>TELEFONO:</b><br />"+t.telefono}},{key:"close",value:function(){this.setState({edit:!1})}},{key:"cancelar",value:function(){this.con.cancelar(this.props.data.codigo,this.props.update),this.close()}}]),a}(s.a.Component),Pc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=oe(),t.placeholder="BUSCAR CLIENTE",t.buscarEn=["codigo","nombre","contacto","correo","telefono"],t.status=-1,t}return Object(u.a)(a,[{key:"Avansado",value:function(){return Object(k.jsx)(ut.a,{children:Object(k.jsx)(ot.a,{style:{minWidth:"230px"},md:12,children:Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:this.setStatus.bind(this),className:"form-control",value:this.status,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),Object(k.jsx)("option",{value:0,children:"INACTIVO"}),Object(k.jsx)("option",{value:1,children:"ACTIVO"})]})})})}},{key:"Title",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bc,{open:this.state.modal,title:"NUEVO CLIENTE",cliente:null,close:function(){t.setState({modal:!1})},add:this.set.bind(this)}),Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR CLIENTE"]}),Object(k.jsxs)(F.a,{onClick:function(){t.setState({modal:!0})},children:[Object(k.jsx)("i",{className:"fa fa-edit"})," NUEVO CLIENTE"]})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{width:"150px",label:"codigo",children:"CI/RIF"}),Object(k.jsx)(t,{width:"calc(100% - 385px)",label:"nombre",children:"NOMBRE"}),Object(k.jsx)(t,{width:"120px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(kc,{update:this.set.bind(this),data:t},t.codigo+t.estatus)}},{key:"filter",value:function(){var t=this,e=this.ordenar();return-1!==this.status&&(e=e.filter((function(e){return e.estatus===t.status}))),e}},{key:"setStatus",value:function(t){var e=t.currentTarget.value;this.status=parseInt(e),this.forceUpdate()}},{key:"getItens",value:function(){return this.context.Clientes}},{key:"set",value:function(){this.context.actCliente()}},{key:"getEstado",value:function(){return this.context.estCliente}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(Ic,{clientes:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);Pc.contextType=pa;var wc=Pc;function Uc(t){var e=t.title,a=t.close,s=t.url,n=t.open;return Object(k.jsx)(dt.a,{show:n,size:"xl",centered:!0,onHide:a,children:Object(c.useMemo)((function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:e})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ut.a,{children:Object(k.jsx)("iframe",{src:s,title:"print",frameBorder:"0",width:"100%",height:"700wh",scrolling:"no"})})})]})}),[e,s])})}function Lc(t){var e=t.id,a=t.label,s=t.tipo,n=Object(c.useState)(!1),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"primary",onClick:function(){return o(!0)},children:Object(k.jsx)("i",{className:"fa fa-download"})}),Object(k.jsx)(Uc,{title:"IMPRIMIR ".concat(a," N\xb0 ").concat(v(e)),url:"/api/".concat(s,"/PDF/").concat(e),open:i,close:function(){return o(!1)}},"ModalPrint"+a+e)]})}function Fc(t){var e=t.id,a=t.open,s=t.close,n=t.titulo,r=t.con,i=Object(c.useState)(G.detalles),o=Object(j.a)(i,2),l=o[0],d=o[1];return Object(c.useEffect)((function(){r.detalle(e,(function(t){return d(t.detalles)}))}),[]),Object(k.jsx)(dt.a,{size:"xl",centered:!0,animation:!0,show:a,onHide:s,children:Object(c.useMemo)((function(){var t=0;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:n})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ut.a,{style:{padding:"0px 30px 0px 30px"},children:Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:"COD"}),Object(k.jsx)("th",{children:"DESCRIPCION"}),Object(k.jsx)("th",{style:{width:"40px",textAlign:"right"},children:"CANT"}),Object(k.jsx)("th",{style:{width:"80px",textAlign:"right"},children:"PRE/UNT"}),Object(k.jsx)("th",{style:{width:"150px",textAlign:"right"},children:"PRECIO"})]})}),Object(k.jsxs)("tbody",{children:[l.map((function(e){return t+=e.precio*e.unidades,Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"100px"},children:e.codigo}),Object(k.jsx)("td",{children:e.descripcion}),Object(k.jsx)("td",{style:{width:"40px"},children:m(e.unidades)}),Object(k.jsx)("td",{style:{width:"80px",textAlign:"right"},children:m(e.precio)}),Object(k.jsx)("td",{style:{width:"150px",textAlign:"right"},children:m(e.precio*e.unidades)})]})})),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{colSpan:3}),Object(k.jsx)("td",{style:{width:"80px",textAlign:"right"},children:Object(k.jsx)("b",{children:"TOTAL:"})}),Object(k.jsx)("td",{style:{width:"150px",textAlign:"right"},children:m(t)})]})]})]})})})]})}),[l])})}function Mc(t){var e=t.con,a=t.id,s=t.label,n=Object(c.useState)(!1),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(k.jsxs)("th",{style:{minWidth:"90px",width:"90px",maxWidth:"90px"},children:[Object(k.jsx)(Fc,{con:e,titulo:"DETALLES DE LA "+s+" N\xb0 "+v(a),id:a,open:i,close:function(){return o(!1)}},"ModalDetalle"+s+a),Object(k.jsx)(F.a,{"data-tip":"VER DETALLES",onClick:function(){return o(!0)},variant:"link",children:v(a)})]})}var Bc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=fe(),c.label="FACTURA",c.type="Factura",c}return Object(u.a)(a,[{key:"Detalles",value:function(){var t=this.con,e=this.label,a=this.data.codigo;return Object(k.jsx)(Mc,{con:t,label:e,id:a})}},{key:"Botones",value:function(){var t=this.type,e=this.con,a=this.label,c=this.cancelado,s=this.data,n=s.status,r=s.codigo;return Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(Lc,{label:a,id:r,tipo:t}),2!==n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Sa,{con:e,label:a,id:r,msn:c()})]})})}},{key:"cancelado",value:function(){return"FACTURA N\xb0 "+this.props.data.codigo+" CANCELADA ESXITOSAMENTE"}}]),a}(wa),_c=Object(c.createContext)(null);function Vc(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useContext)($a),o=Object(c.useState)(Y),l=Object(j.a)(o,2),d=l[0],u=l[1],h=I(),O=Object(c.useCallback)((function(){h.isTurn("Notas")&&tt(["FACTURA","NOTA"])&&ge().cambios((function(t){u({status:3,hora:g(ge().state)}),r(K(t,n,ge()))}),h.next)}),[n]);return Object(c.useEffect)((function(){return""!==ge().state&&u({status:3,hora:g(ge().state)}),tt(["FACTURA","NOTA"])&&ge().cargarListaCache(r),h.add("Notas"),function(){return h.clean("Notas")}}),[]),Object(c.useEffect)((function(){var t=setInterval(O,100);return function(){return clearInterval(t)}}),[n]),Object(k.jsx)(_c.Provider,{value:Object(V.a)(Object(V.a)({},i),{},{estNota:d,Notas:n,actNota:O}),children:e})}_c.Consumer;var zc=Object(c.createContext)(null);function Gc(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useContext)(_c),o=Object(c.useState)(Y),l=Object(j.a)(o,2),d=l[0],u=l[1],h=I(),O=Object(c.useCallback)((function(){h.isTurn("Facturas")&&tt(["FACTURA"])&&fe().cambios((function(t){u({status:3,hora:g(fe().state)}),r(K(t,n,fe()))}),h.next)}),[n]);return Object(c.useEffect)((function(){return""!==fe().state&&u({status:3,hora:g(fe().state)}),tt(["FACTURA"])&&fe().cargarListaCache(r),h.add("Facturas"),function(){return h.clean("Facturas")}}),[]),Object(c.useEffect)((function(){var t=setInterval(O,100);return function(){return clearInterval(t)}}),[n]),Object(k.jsx)(zc.Provider,{value:Object(V.a)(Object(V.a)({},i),{},{estFactura:d,Facturas:n,actFactura:O}),children:e})}zc.Consumer;var Hc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.factura;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Factura",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:150}),Object(k.jsx)(ze.a,{field:"nombre",title:"CLIENTE",width:500}),Object(k.jsx)(ze.a,{field:"monto",title:"MONTO",width:120})]})]})}}]),a}(s.a.Component),Yc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=fe(),t.placeholder="BUSCAR FACTURA",t.buscarEn=["codigo","nombre","fecha"],t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.productos=[],t.status=-1,t.user=-1,t}return Object(u.a)(a,[{key:"Avansado",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.setAvanzados;return Object(k.jsx)(Xa,{setData:n.bind(this),estatus:["CANCELADO",void 0,"FACTURADA"],fecha_init:t,fecha_fin:e,status:a,user:c,productos:s})}},{key:"setAvanzados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.status,s=t.user,n=t.productos;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),s&&(this.user=s),c&&(this.status=c),0===c&&(this.status=c),n&&(this.productos=n),this.forceUpdate()}},{key:"filter",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.datetonomber;return this.ordenar().filter((function(r){if(r.status!==a&&-1!==a)return!1;if(r.usuario!==c&&-1!==c)return!1;var i=n(r.fecha);return!("dd/mm/aaaa"!==e&&i>n(e))&&(!("dd/mm/aaaa"!==t&&i<n(t))&&!!s.every((function(t){return r.detalles.some((function(e){return t.codigo===e}))})))}))}},{key:"Title",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR FACTURA"]}),Object(k.jsxs)(i.b,{to:"/factura/nueva",className:"btn btn-primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVA FACTURA"]})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 585px)",children:"CLIENTE"}),Object(k.jsx)(t,{width:"160px",children:"MONTO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Bc,{con:this.con,data:t},"cot"+t.codigo+t.status)}},{key:"getItens",value:function(){return this.context.Facturas}},{key:"set",value:function(){this.context.actFactura()}},{key:"getEstado",value:function(){return this.context.estFactura}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(Hc,{factura:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);Yc.contextType=zc;var Zc=Yc,Wc=a(61),Jc=a(36),Kc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=ge(),t.buscarEn=["codigo","nombre","fecha"],t.status=-1,t}return Object(u.a)(a,[{key:"title",value:function(){return Object(k.jsx)("h4",{className:"mr-auto",children:"BUSCAR NOTA DE ENTREGA"})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"NUMERO"}),Object(k.jsx)(t,{label:"fecha",width:"90px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 585px)",children:"CLIENTE"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(gc,{data:t,type:"Nota",add:this.add.bind(this)},t.codigo+t.status)}},{key:"add",value:function(t){this.props.add(t),this.props.close()}},{key:"Buscador",value:function(){var t=this;return Object(k.jsxs)(ut.a,{style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{className:"col-md-9 mr-auto",children:Object(k.jsxs)(Ot.a,{style:{paddingBottom:"15px"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ec,{status:this.status,estatus:["CANCELADO","ENTREGADA","FACTURADA"],setData:function(e){t.status=e,t.forceUpdate()}}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]})}},{key:"filter",value:function(){var t=this;return this.ordenar().filter((function(e){return e.status===t.status||-1===t.status}))}},{key:"getItens",value:function(){return this.context.Notas}},{key:"set",value:function(){this.context.actNota()}},{key:"getEstado",value:function(){return this.context.estNota}},{key:"reset",value:function(){this.context.resetVenta()}}]),a}(Ja);Kc.contextType=_c;var qc=Kc,Qc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).productos="Factura",t}return Object(u.a)(a,[{key:"addProductos",value:function(t){void 0!==this.props.data.id_nota?Object(l.b)("UNA NOTA DE ENTREGA NO PUEDE SER EDITADA AL FACTURARLA",{type:l.b.TYPE.ERROR}):Object(Wc.a)(Object(Jc.a)(a.prototype),"addProductos",this).call(this,t)}},{key:"removeProductos",value:function(t){void 0!==this.props.data.id_nota?Object(l.b)("UNA NOTA DE ENTREGA NO PUEDE SER EDITADA AL FACTURARLA",{type:l.b.TYPE.ERROR}):Object(Wc.a)(Object(Jc.a)(a.prototype),"removeProductos",this).call(this,t)}},{key:"createProducto",value:function(t){void 0!==this.props.data.id_nota?Object(l.b)("UNA NOTA DE ENTREGA NO PUEDE SER EDITADA AL FACTURARLA",{type:l.b.TYPE.ERROR}):Object(Wc.a)(Object(Jc.a)(a.prototype),"createProducto",this).call(this,t)}},{key:"BotonesLeft",value:function(){var t=this,e=this.cargarCotizacion,a=this.cargarNota,c=this.state,s=c.aux2,n=c.aux;return Object(k.jsxs)(ot.a,{xs:6,children:[Object(k.jsx)(yc,{open:n,add:e.bind(this),close:function(){return t.setState({aux:!1})}}),Object(k.jsx)(qc,{open:s,add:a.bind(this),close:function(){return t.setState({aux2:!1})}}),Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{onClick:function(){return t.setState({aux:!0})},"data-class":"toolbody","data-html":"true","data-tip":"CARGAR COTIZACION",variant:"primary",children:Object(k.jsx)("span",{className:"fa fa fa-calculator"})}),Object(k.jsx)(F.a,{onClick:function(){return t.setState({aux2:!0})},"data-class":"toolbody","data-html":"true","data-tip":"CARGAR NOTA",variant:"primary",children:Object(k.jsx)("span",{className:"fa fa-paper-plane"})})]})]})}},{key:"cargarCotizacion",value:function(t){var e=this,a=t.codigo,c=t.rif,s=this.context,n=s.tasa,r=s.dolar;this.setData({cod_cliente:c,id_cotizacion:a}),he().detalle(a,(function(t){return e.setData(Ee(t,n,r))}))}},{key:"cargarNota",value:function(t){var e=this;ge().detalle(t.codigo,(function(t){var a=ve(t,0);a.detalles=t.detalles,a.id_nota=t.codigo,a.codigo=0,""!==e.props.data.nota&&(a.nota=e.props.data.nota),e.setData(a)}))}}]),a}(Ac),Xc=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=fe(),c.title="FACTURA",c.msn="LA FACTURA",c.setConfig=function(){return T("factura").pull((function(t){var e=t.observacion;return c.setState({nota:e})}))},c.tipo="Factura",c.state=Object(V.a)(Object(V.a)({},Oe),{},{procesar:!1}),c}return Object(u.a)(a,[{key:"setCliente",value:function(t){this.setState({cod_cliente:t})}},{key:"PDF",value:function(){return Object(k.jsx)("iframe",{src:"/api/Factura/PDF/".concat(this.state.codigo),title:"print",frameBorder:"0",width:"100%",height:"700wh",scrolling:"no"})}},{key:"Top",value:function(){var t=this.getData();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(fc,{Cliente:t.cod_cliente,add:this.setCliente.bind(this)}),Object(k.jsxs)(Vt.a,{children:[Object(k.jsx)(ot.a,{xs:5,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"CONDICION"})}),Object(k.jsxs)("select",{onChange:this.setCondicion.bind(this),className:"form-control",defaultValue:t.condicion,children:[Object(k.jsx)("option",{value:"CONTADO",children:"CONTADO"}),Object(k.jsx)("option",{value:"CREDITO",children:"CREDITO"})]})]})}),Object(k.jsx)(Vt.a.Toggle,{eventKey:"0",as:F.a,variant:"primary",children:"OBSERVACI\xd3N"}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(pt,{rows:4,maxLength:600,value:t.nota,setData:this.setState,update:"nota"})})})})]})]})}},{key:"Productos",value:function(){return Object(k.jsx)(Qc,{setData:this.setState,data:this.state},"auxFactura")}},{key:"Procesar",value:function(){var t=this,e=!0;""===this.state.cod_cliente&&(Object(l.b)("DEBE SELECCIONAR UN CLIENTE",{type:l.b.TYPE.ERROR}),e=!1),e=this.validacionExixtencia(e),e=this.valdacionPrecio(e),(e=this.validacionGenerica(e))&&this.con.nuevo(be(this.getData(),this.context.impuesto),(function(e){return t.setState({codigo:e})}),(function(e){return t.procesar=!0}))}},{key:"setCondicion",value:function(t){var e=t.currentTarget.value;this.props.change(e)}}]),a}(hc);Xc.contextType=zc;var $c=Xc;function ts(t){var e=t.codigo,a=Object(c.useState)(0),s=Object(j.a)(a,2),n=s[0],r=s[1];return Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"col-12",children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("span",{className:"fa fa-print"}),"MOSTRAR VISTA"]}),Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{onClick:function(){return r(0)},"data-tip":"CAMBIAR A SIN PRECIO",variant:(0!==n?"outline-":"")+"success",children:"SIN PRECIO"}),Object(k.jsx)(F.a,{onClick:function(){return r(1)},"data-tip":"CAMBIAR A PRECIO EN BOLIVARES",variant:(1!==n?"outline-":"")+"primary",children:"PRECIO EN BOLIVARES"}),Object(k.jsx)(F.a,{onClick:function(){return r(2)},"data-tip":"CAMBIAR A PRECIO EN DOLARES",variant:(2!==n?"outline-":"")+"warning",children:"PRECIO EN DOLARES"})]})]}),Object(k.jsx)("iframe",{src:"/api/Nota/"+["PDFSP","PDF","PDFD"][n]+"/"+e,width:"100%",height:"700wh",title:"print",scrolling:"no",frameBorder:"0"})]})}function es(t){var e=t.title,a=t.close,c=t.codigo,s=t.open;return Object(k.jsxs)(dt.a,{show:s,onHide:a,size:"xl",children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:e})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ts,{codigo:c})})]})}function as(t){var e=t.id,a=t.label,s=Object(c.useState)(!1),n=Object(j.a)(s,2),r=n[0],i=n[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"primary",onClick:function(){return i(!0)},children:Object(k.jsx)("i",{className:"fa fa-download"})}),Object(k.jsx)(es,{title:"IMPRIMIR ".concat(a," N\xb0 ").concat(v(e)),open:r,codigo:v(e),close:function(){return i(!1)}},"ModalPrint"+a+e)]})}var cs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=ge(),c.label="NOTA DE ENTREGA",c.type="Nota",c}return Object(u.a)(a,[{key:"Botones",value:function(){var t=this.con,e=this.label,a=this.cancelado,c=this.data,s=c.status,n=c.codigo;return Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(as,{label:e,id:n}),1!==s?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Sa,{con:t,label:e,id:n,msn:a()})]})})}},{key:"cancelado",value:function(){return"NOTA DE ENTREGA N\xb0 "+this.data.codigo+" CANCELADA ESXITOSAMENTE"}}]),a}(wa),ss=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.nota;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Nota",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:150}),Object(k.jsx)(ze.a,{field:"nombre",title:"CLIENTE",width:500}),Object(k.jsx)(ze.a,{field:"monto",title:"MONTO",width:120})]})]})}}]),a}(s.a.Component),ns=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=ge(),t.placeholder="BUSCAR NOTA DE ENTREGA",t.buscarEn=["codigo","nombre","fecha","rif"],t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.productos=[],t.status=-1,t.user=-1,t}return Object(u.a)(a,[{key:"Avansado",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.setAvanzados;return Object(k.jsx)(Xa,{setData:n.bind(this),estatus:["CANCELADO","ENTREGADA","FACTURADA"],fecha_init:t,fecha_fin:e,status:a,user:c,productos:s})}},{key:"setAvanzados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.status,s=t.user,n=t.productos;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),s&&(this.user=s),c&&(this.status=c),0===c&&(this.status=c),n&&(this.productos=n),this.forceUpdate()}},{key:"filter",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.datetonomber;return this.ordenar().filter((function(r){if(r.status!==a&&-1!==a)return!1;if(r.usuario!==c&&-1!==c)return!1;var i=n(r.fecha);return!("dd/mm/aaaa"!==e&&i>n(e))&&(!("dd/mm/aaaa"!==t&&i<n(t))&&!!s.every((function(t){return r.detalles.some((function(e){return t.codigo===e}))})))}))}},{key:"Title",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR NOTA DE ENTREGA"]}),Object(k.jsxs)(i.b,{to:"/nota/nueva",className:"btn btn-primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"}),"NUEVA NOTA DE ENTREGA"]})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 585px)",children:"CLIENTE"}),Object(k.jsx)(t,{width:"160px",children:"MONTO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(cs,{con:this.con,data:t},"cot"+t.codigo+t.status)}},{key:"getItens",value:function(){return this.context.Notas}},{key:"set",value:function(){this.context.actNota()}},{key:"getEstado",value:function(){return this.context.estNota}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(ss,{nota:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);ns.contextType=_c;var rs=ns,is=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).productos="Factura",t}return Object(u.a)(a,[{key:"BotonesLeft",value:function(){var t=this,e=this.cargarCotizacion,a=this.cargarNota,c=this.state,s=c.aux2,n=c.aux;return Object(k.jsxs)(ot.a,{xs:6,children:[Object(k.jsx)(yc,{open:n,add:e.bind(this),close:function(){return t.setState({aux:!1})}}),Object(k.jsx)(qc,{open:s,add:a.bind(this),close:function(){return t.setState({aux2:!1})}}),Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{onClick:function(){return t.setState({aux:!0})},"data-class":"toolbody","data-html":"true","data-tip":"CARGAR COTIZACION",variant:"primary",children:Object(k.jsx)("span",{className:"fa fa fa-calculator"})}),Object(k.jsx)(F.a,{onClick:function(){return t.setState({aux2:!0})},"data-class":"toolbody","data-html":"true","data-tip":"COPIAR NOTA",variant:"primary",children:Object(k.jsx)("span",{className:"fa fa-paper-plane"})})]})]})}},{key:"Calcular",value:function(t){var e=t.imponible,a=t.exento;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{colSpan:3}),Object(k.jsx)("th",{style:{textAlign:"right"},colSpan:2,children:"TOTAL:"}),Object(k.jsx)("th",{style:{textAlign:"right"},children:m(e+a)})]})}},{key:"cargarCotizacion",value:function(t){var e=this,a=t.codigo,c=t.rif,s=this.context,n=s.tasa,r=s.dolar;this.setData({cod_cliente:c,id_cotizacion:a}),he().detalle(a,(function(t){return e.setData(Ee(t,n,r))}))}},{key:"cargarNota",value:function(t){var e=this;ge().detalle(t.codigo,(function(t){var a=ve(t,0);a.detalles=t.detalles,a.codigo=0,""!==e.props.data.nota&&(a.nota=e.props.data.nota),e.setData(a)}))}}]),a}(Ac),os=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).title="NOTA DE ENTREGA",c.msn="LA NOTA DE ENTREGA",c.con=ge(),c.tipo="Nota",c.state=Object(V.a)(Object(V.a)({},G),{},{cod_cliente:"",procesar:!1}),c}return Object(u.a)(a,[{key:"setCliente",value:function(t){this.setState({cod_cliente:t})}},{key:"Top",value:function(){var t=this.getData(),e=t.cod_cliente,a=t.nota;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(fc,{Cliente:e,add:this.setCliente.bind(this)}),Object(k.jsxs)(Vt.a,{children:[Object(k.jsx)(Vt.a.Toggle,{eventKey:"0",as:F.a,variant:"primary",children:"NOTA"}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(pt,{rows:4,maxLength:600,value:a,setData:this.setState,update:"nota"})})})})]})]})}},{key:"PDF",value:function(){return Object(k.jsx)(ts,{codigo:this.state.codigo+""})}},{key:"Productos",value:function(){return Object(k.jsx)(is,{setData:this.setState,data:this.state},"auxFactura")}},{key:"Procesar",value:function(){var t=this,e=!0;""===this.state.cod_cliente&&(Object(l.b)("DEBE SELECCIONAR UN CLIENTE",{type:l.b.TYPE.ERROR}),e=!1),e=this.validacionGenerica(e),e=this.validacionExixtencia(e),(e=this.valdacionPrecio(e))&&this.con.nuevo(ve(this.getData(),this.context.impuesto),(function(e){return t.setState({codigo:e})}),(function(e){return t.procesar=!0}))}}]),a}(hc);os.contextType=_c;var ls=os;function js(){return Object(k.jsxs)(_t.a,{style:{height:"calc(100vh - 200px)"},children:[Object(k.jsx)(_t.a.Header,{className:"bg-danger d-flex",children:Object(k.jsx)("h2",{children:"NO ESTA AUTORIZADO PARA ESTAR EN ESTE SITIO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(_t.a.Img,{style:{marginLeft:"25%",transform:"translate(-50%);",width:"15rem",height:"15rem"},width:"15rem",height:"15rem",src:"/logos/stop.svg"})})]})}function ds(){return Object(k.jsxs)(fa,{children:[Object(k.jsx)(o.a,{path:"/clientes",component:ps}),Object(k.jsx)(o.a,{path:["/cotizacion","/factura","/nota"],component:hs})]})}function us(){return Object(k.jsxs)(Vc,{children:[Object(k.jsx)(o.a,{path:"/nota",component:xs}),Object(k.jsx)(o.a,{path:"/factura",component:bs})]})}function hs(){return Object(k.jsxs)(tc,{children:[Object(k.jsx)(o.a,{path:"/cotizacion",component:Os}),Object(k.jsx)(o.a,{path:["/factura","/nota"],component:us})]})}function Os(){var t=Object(c.useContext)(et);return null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"COTIZACION"===t}))?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{path:"/cotizacion/lista",component:cc}),Object(k.jsx)(o.a,{path:"/cotizacion/nueva",component:Dc})]}):Object(k.jsx)(js,{})}function bs(){var t=Object(c.useContext)(et);return null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"FACTURA"===t}))?Object(k.jsxs)(Gc,{children:[Object(k.jsx)(o.a,{path:"/factura/lista",component:Zc}),Object(k.jsx)(o.a,{path:"/factura/nueva",component:$c})]}):Object(k.jsx)(js,{})}function xs(){var t=Object(c.useContext)(et);return null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"NOTA"===t}))?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{path:"/nota/lista",component:rs}),Object(k.jsx)(o.a,{path:"/nota/nueva",component:ls})]}):Object(k.jsx)(js,{})}function ps(){var t=Object(c.useContext)(et);return null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"CLIENTE"===t}))?Object(k.jsx)(wc,{}):Object(k.jsx)(js,{})}var fs=Object(c.createContext)(null);function vs(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(Y),o=Object(j.a)(i,2),l=o[0],d=o[1],u=I(),h=Object(c.useCallback)((function(){u.isTurn("Proveedores")&&tt(["COMPRA","ORDEN","PROVEEDOR"])&&Yt().cambios((function(t){var e=function(t,e){var a=function(t){return t.map((function(t){return{codigo:t[0],nombre:t[1],telefono:t[2],correo:t[3],contacto:t[4],direccion:t[5],estatus:t[6]}}))}(t).filter((function(t){var a=e.findIndex((function(e){return e.codigo===t.codigo}));return!(a>-1)||(e[a]=t,!1)})),c=[].concat(Object(Z.a)(e),Object(Z.a)(a));return Yt().saveLista(c),c}(t,n);r(e),d({status:3,hora:g(Yt().state)})}),u.next)}),[n]);Object(c.useEffect)((function(){return""!==Yt().state&&d({status:3,hora:g(Yt().state)}),tt(["COMPRA","ORDEN","PROVEEDOR"])&&Yt().cargarListaCache(r),u.add("Proveedores"),function(){return u.clean("Proveedores")}}),[]),Object(c.useEffect)((function(){var t=setInterval(h,100);return function(){return clearInterval(t)}}),[n]);var O=Object(c.useCallback)((function(t){var e=n.find((function(e){return e.codigo===t}));return void 0!==e?e:Gt}),[n]);return Object(k.jsx)(fs.Provider,{value:{estProveedores:l,Proveedores:n,actProveedor:h,findProveedor:O},children:e})}fs.Consumer;var ms=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"tip",value:function(){var t=this.context.findProveedor(this.props.data.rif);return t?"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br /><b>PERSONA DE CONTACTO:</b><br />"+t.contacto+"<br /><b>CORREO ELECTRONICO:</b><br />"+t.correo+"<br /><b>TELEFONO:</b><br />"+t.telefono:""}}]),a}(ka);ms.contextType=fs;var As=ms,gs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Xt(),c.state={cod_doc:"",num_con:"",fecha_doc:""},c.setState=c.setState.bind(Object(jt.a)(c)),c.actualizar=c.actualizar.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.close,a=t.open,c=t.id,s=this.state,n=s.cod_doc,r=s.num_con,i=s.fecha_doc,o=this.setState,l=this.actualizar;return Object(k.jsxs)(dt.a,{bsSize:"lg",show:a,onHide:e,children:[Object(k.jsx)(dt.a.Header,{children:Object(k.jsx)("h4",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsxs)("b",{children:["REGISTRAR FACTURA DE COMPRA N\xb0: ",v(c)]})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ut.a,{style:{padding:"10px 10px 10px 10px"},children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ht.a,{as:ot.a,xs:"12",children:Object(k.jsx)(Ct,{maxLength:50,upper:!0,before:"NUMERO DE DOCUMENTO",setData:o,update:"cod_doc",value:n})}),Object(k.jsx)(ht.a,{as:ot.a,xs:"12",children:Object(k.jsx)(Ct,{maxLength:50,upper:!0,before:"NUMERO DE CONTROL",setData:o,update:"num_con",value:r})}),Object(k.jsx)(ht.a,{as:ot.a,xs:"12",children:Object(k.jsx)(mt,{before:"FECHA DE DOCUMENTO",setData:o,update:"fecha_doc",value:i})})]})})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsxs)(F.a,{onClick:l,variant:"success",children:[Object(k.jsx)("span",{className:"fa fa-check-circle-o"})," Aceptar"]}),Object(k.jsxs)(F.a,{onClick:e,variant:"danger",children:[Object(k.jsx)("span",{className:"fa fa-remove-circle"})," Cancelar"]})]})})]})}},{key:"actualizar",value:function(){this.con.facturar(this.props.id,this.state,this.props.update)}}]),a}(s.a.Component);function Es(t){var e=t.id,a=Object(c.useState)(!1),s=Object(j.a)(a,2),n=s[0],r=s[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"outline-dark",onClick:function(){return r(!0)},children:Object(k.jsx)("i",{className:"fa fa-edit"})}),Object(k.jsx)(gs,{id:e,open:n,close:function(){return r(!1)}},"RegistrarFacturaCompra"+e)]})}var Cs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Xt(),c.label="COMPRA",c.type="Compra",c}return Object(u.a)(a,[{key:"Botones",value:function(){var t=this.type,e=this.con,a=this.label,c=this.cancelado,s=this.data,n=s.status,r=s.codigo;return Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[2!==n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(F.a,{as:i.b,"data-tip":"GENERAR NOTA DE CREDITO O DEBITO",variant:"warning",to:"compra/".concat(r,"/Nota"),children:Object(k.jsx)("i",{className:"fa fa-file"})}),1!==n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Es,{id:r}),Object(k.jsx)(Ia,{label:a,id:r,tipo:t}),0===n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Sa,{con:e,label:a,id:r,msn:c()})]})})}},{key:"cancelado",value:function(){return"COMPRA N\xb0 "+this.data.codigo+" CANCELADA ESXITOSAMENTE"}}]),a}(As),ys=Object(c.createContext)(null);function Ns(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useContext)(fs),o=Object(c.useContext)(Le),l=Object(c.useState)(Y),d=Object(j.a)(l,2),u=d[0],h=d[1],O=I(),b=Object(c.useCallback)((function(){O.isTurn("Ordenes")&&tt(["COMPRA","ORDEN"])&&se().cambios((function(t){h({status:3,hora:g(se().state)}),r(K(t,n,se()))}),O.next)}),[n]);return Object(c.useEffect)((function(){return""!==se().state&&h({status:3,hora:g(se().state)}),tt(["COMPRA","ORDEN"])&&se().cargarListaCache(r),O.add("Ordenes"),function(){return O.clean("Ordenes")}}),[]),Object(c.useEffect)((function(){var t=setInterval(b,100);return function(){return clearInterval(t)}}),[n]),Object(k.jsx)(ys.Provider,{value:Object(V.a)(Object(V.a)(Object(V.a)({},i),o),{},{actOrden:b,estOrdenes:u,Ordenes:n}),children:e})}ys.Consumer;var Rs=Object(c.createContext)(null);function Ss(t){var e=t.children,a=Object(c.useState)([]),s=Object(j.a)(a,2),n=s[0],r=s[1],i=Object(c.useContext)(ys),o=Object(c.useState)(Y),l=Object(j.a)(o,2),d=l[0],u=l[1],h=I(),O=Object(c.useCallback)((function(){h.isTurn("compras")&&$("COMPRA")&&Xt().cambios((function(t){u({status:3,hora:g(Xt().state)}),r(K(t,n,Xt()))}),h.next)}),[n]);return Object(c.useEffect)((function(){return""!==Xt().state&&u({status:3,hora:g(Xt().state)}),$("COMPRA")&&Xt().cargarListaCache(r),h.add("compras"),function(){return h.clean("compras")}}),[]),Object(c.useEffect)((function(){var t=setInterval(O,100);return function(){return clearInterval(t)}}),[n]),Object(k.jsx)(Rs.Provider,{value:Object(V.a)(Object(V.a)({},i),{},{estCompras:d,Compras:n,actCompra:O}),children:e})}Rs.Consumer;var Ts=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.compra;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Compra",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:150}),Object(k.jsx)(ze.a,{field:"nombre",title:"PROVEEDOR",width:500}),Object(k.jsx)(ze.a,{field:"monto",title:"MONTO",width:120})]})]})}}]),a}(s.a.Component),Ds=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Xt(),t.placeholder="BUSCAR COMPRA",t.buscarEn=["codigo","nombre","fecha","rif"],t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.productos=[],t.status=-1,t.user=-1,t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR COMPRA"]}),Object(k.jsxs)(i.b,{to:"/compra/nueva",className:"btn btn-primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVA COMPRA"]})]})}},{key:"Avansado",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.setAvanzados;return Object(k.jsx)(Xa,{setData:n.bind(this),estatus:["CANCELADO","SIN FACTURA","FACTURADA"],fecha_init:t,fecha_fin:e,status:a,user:c,productos:s})}},{key:"setAvanzados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.status,s=t.user,n=t.productos;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),s&&(this.user=s),c&&(this.status=c),0===c&&(this.status=c),n&&(this.productos=n),this.forceUpdate()}},{key:"filter",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.datetonomber;return this.ordenar().filter((function(r){if(r.status!==a&&-1!==a)return!1;if(r.usuario!==c&&-1!==c)return!1;var i=n(r.fecha);return!("dd/mm/aaaa"!==e&&i>n(e))&&(!("dd/mm/aaaa"!==t&&i<n(t))&&!!s.every((function(t){return r.detalles.some((function(e){return t.codigo===e}))})))}))}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombe",width:"calc(100% - 585px)",children:"PROVEEDOR"}),Object(k.jsx)(t,{width:"160px",children:"MONTO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"145px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Cs,{con:this.con,data:t},"cot"+t.codigo+t.status)}},{key:"getItens",value:function(){return this.context.Compras}},{key:"set",value:function(){this.context.actCompra()}},{key:"getEstado",value:function(){return this.context.estCompras}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(Ts,{compra:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);Ds.contextType=Rs;var Is=Ds,ks=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;Object(d.a)(this,a),(c=e.call(this,t)).error=[],c.con=Yt(),c.setState=c.setState.bind(Object(jt.a)(c));var s=t.Proveedor;return null===s&&(s=Gt),c.state=Object(V.a)(Object(V.a)({},s),{},{activeError:!1}),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState,e=this.state;return Object(k.jsxs)(dt.a,{animation:!0,show:this.props.open,size:"lg",centered:!0,onHide:this.props.close,children:[Object(k.jsx)(dt.a.Header,{className:"bg-primary",closeButton:!0,children:Object(k.jsx)("h4",{className:"mr-auto",children:this.props.title})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,upper:!0,mask:"A-99999999-9",maxLength:20,before:"RIF",value:e.codigo,setData:t,update:"codigo",disabled:null!==this.props.Proveedor})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,upper:!0,before:"RAZON SOCIAL",maxLength:150,value:e.nombre,setData:t,update:"nombre"})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{upper:!0,before:"CORREO",maxLength:150,value:e.correo,setData:t,update:"correo"})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,upper:!0,maxLength:120,before:"TEL\xc9FONO",value:e.telefono,setData:t,update:"telefono"})}),Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsx)(Ct,{error:this.error,upper:!0,before:"PERSONA DE CONTACTO",maxLength:50,value:e.contacto,setData:t,update:"contacto"})}),Object(k.jsxs)(ot.a,{as:ht.a,xs:12,children:[Object(k.jsx)(Oc.a,{children:"DIRECCION"}),Object(k.jsx)(ft,{error:this.error,upper:!0,value:e.direccion,setData:t,update:"direccion",maxLength:300})]})]})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.get.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," GUARDAR"]})})]})}},{key:"isInvalid",value:function(t){return""===t}},{key:"get",value:function(){this.error=[];var t=!0;""===this.state.codigo&&(this.error.codigo="DEBE COLOCAR EL DOCUMENTO LEGAL DEL PROVEEDOR",t=!1),""===this.state.nombre&&(this.error.nombre="DEBE COLOCAR LA RAZON SOCIAL",t=!1),""===this.state.telefono&&(this.error.telefono="DEBE COLOCAR NUMERO DE TELEFONO",t=!1),""===this.state.contacto&&(this.error.contacto="DEBE COLOCAR LA PERSONA DE CONTACTO",t=!1),""===this.state.direccion&&(this.error.direccion="DEBE COLOCAR UNA DIRECCION",t=!1),t&&(null===this.props.Proveedor?this.con.nuevo(this.state,this.action.bind(this),this.setError.bind(this)):this.con.actualizar(this.props.Proveedor.codigo,this.state,this.action.bind(this),this.setError.bind(this))),this.forceUpdate()}},{key:"action",value:function(t){var e=this.context;this.props.add&&this.props.add(t),e.actProveedor(),null===this.props.Proveedor&&this.setState(Gt),this.props.close()}},{key:"setError",value:function(t){var e=this;t.response&&(t.response.errores.forEach((function(t){t.sql?t.sql.forEach((function(t){return Object(l.b)(t,{type:l.b.TYPE.ERROR})})):Object.keys(t).forEach((function(a){return e.error[a]=t[a]}))})),console.log(this.error),this.forceUpdate())}}]),a}(s.a.Component);ks.contextType=Rs;var Ps=ks,ws=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Yt(),c.nombre=s.a.createRef(),c.codigo=s.a.createRef(),c.state={nuevo:!1,proveedor:Gt,buscarCodigo:"",buscarNumbre:""},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.nuevo,c=e.proveedor,s=e.buscarCodigo,n=e.buscarNumbre;return Object(k.jsxs)(_t.a,{as:Vt.a,id:"tabla",children:[Object(k.jsx)(Ps,{Proveedor:null,title:"NUEVO PROVEEDOR",open:a,add:this.seleccion.bind(this),close:this.close.bind(this)}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(ut.a,{children:Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsx)("h4",{className:"mr-auto",children:Object(k.jsx)("b",{children:"DATOS DEL PROVEEDOR"})})})}),Object(k.jsxs)(ut.a,{children:[Object(k.jsxs)(Ot.a,{className:"mb-3",style:{width:"30%",marginRight:"15px",marginLeft:"10px"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"RIF"})}),Object(k.jsx)(bt.a,{style:{width:"calc(100% - 60px)",position:"relative"},list:"inputCodigo",ref:this.codigo,onKeyUp:this.limpiarCodigo.bind(this),onChange:this.setBuscarCodigo.bind(this),defaultValue:s})]}),Object(k.jsx)("datalist",{id:"inputCodigo",children:this.getList(xc(this.context.Proveedores,s,["codigo"]),"codigo")}),Object(k.jsxs)(Ot.a,{className:"mb-3",style:{width:"calc(70% - 160px)",marginRight:"15px"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"NOMBRE"})}),Object(k.jsx)(bt.a,{style:{width:"calc(100% - 100px)"},list:"inputNombre",className:"form-control",ref:this.nombre,onKeyUp:this.limpiarNombre.bind(this),onChange:this.setBuscarNombre.bind(this),defaultValue:n})]}),Object(k.jsx)("datalist",{id:"inputNombre",children:this.getList(xc(this.context.Proveedores,s,["nombre"]),"nombre")}),Object(k.jsxs)(Rt.a,{style:{width:"110px"},className:"float-right mb-3",children:[Object(k.jsx)(F.a,{"data-tip":"VER MAS",as:Vt.a.Toggle,eventKey:"1",children:Object(k.jsx)("i",{className:"fa fa-eye"})}),Object(k.jsx)(F.a,{"data-tip":"NUEVO PROVEEDOR",onClick:function(){t.setState({nuevo:!0})},variant:"info",children:Object(k.jsx)("i",{className:"fa fa-edit"})})]})]}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"1",children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"NOMBRE"})}),Object(k.jsx)(bt.a,{disabled:!0,value:c.correo})]})}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"TELEFONO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:c.telefono})]})}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"PERSONA DE CONTACTO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:c.contacto})]})}),Object(k.jsxs)(ot.a,{xs:12,className:"mb-3",children:[Object(k.jsx)("b",{children:"DICECCION"}),Object(k.jsx)(bt.a,{rows:3,as:"textarea",disabled:!0,value:c.direccion})]})]})})]})]})}},{key:"seleccion",value:function(t){this.set(),this.props.add(t.codigo),this.nombre.current&&(this.nombre.current.value=t.nombre),this.codigo.current&&(this.codigo.current.value=t.codigo),this.setState({proveedor:t,buscarCodigo:t.codigo,buscarNumbre:t.nombre})}},{key:"setBuscarNombre",value:function(t){var e=this,a=t.target.value.toUpperCase();this.setState({buscarNumbre:a}),this.context.Proveedores.forEach((function(t){t.nombre===a&&e.props.add(t.codigo)}))}},{key:"setBuscarCodigo",value:function(t){var e=this,a=t.target.value.toUpperCase();this.setState({buscarCodigo:a}),this.context.Proveedores.forEach((function(t){t.codigo===a&&e.props.add(t.codigo)}))}},{key:"limpiarNombre",value:function(t){console.log(t.keyCode),console.log(this.context.Proveedores),8===t.keyCode&&(t.currentTarget.value="",this.limpiar())}},{key:"limpiarCodigo",value:function(t){8===t.keyCode&&(t.currentTarget.value="",this.limpiar())}},{key:"limpiar",value:function(){this.setState({proveedor:Gt,buscarCodigo:"",buscarNumbre:""}),this.nombre.current&&(this.nombre.current.value=""),this.codigo.current&&(this.codigo.current.value="")}},{key:"getList",value:function(t,e){return t.map((function(t){return Object(k.jsx)("option",{value:t[e]},e+t.codigo)}))}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.state.proveedor.codigo!==t.Proveedor&&this.context.Proveedores.forEach((function(a){a.codigo===t.Proveedor&&(e.nombre.current&&(e.nombre.current.value=a.nombre),e.codigo.current&&(e.codigo.current.value=a.codigo),e.setState({proveedor:a,buscarCodigo:a.codigo,buscarNumbre:a.nombre}))}))}},{key:"componentDidMount",value:function(){this.set()}},{key:"close",value:function(){this.setState({nuevo:!1})}},{key:"set",value:function(){this.context.actProveedor()}}]),a}(s.a.Component);ws.contextType=fs;var Us=ws;function Ls(t){var e=t.data,a=t.edit,s=t.remove,n=t.dolar,r=void 0!==n&&n,i=Object(c.useContext)(Le),o=i.findProVen,l=i.tasa,d=o(e,r),u=d.codigo,h=d.descripcion,O=d.costo,b=d.cantidad,x=d.inventario,p=Object(c.useState)(e.unidades),f=Object(j.a)(p,2),v=f[0],A=f[1],g=Object(c.useState)(e.precio),E=Object(j.a)(g,2),C=E[0],y=E[1];Object(c.useEffect)((function(){return a(Object(V.a)(Object(V.a)({},e),{},{unidades:v,precio:C,comentario:""}))}),[v,C]);var N=r?C/l:C;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:u}),Object(k.jsx)(St,{width:"auto",children:h}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(At,{min:.01,setData:A,value:v})}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:1===x?"NO APLICA":m(b)})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{list:O+"list",value:N,step:"0.01",setData:function(t){return y(r?t*l:t)}})}),Object(k.jsx)(Tt,{width:"230px",children:Object(k.jsx)(At,{disabled:!0,setData:function(){},value:parseFloat(N.toFixed(2))*v,update:"p"})}),Object(k.jsxs)(Tt,{width:"110px",children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Rt.a,{children:Object(k.jsx)(F.a,{variant:"danger",onClick:function(){return s(e)},"data-tip":"QUITAR PRODUCTO",children:Object(k.jsx)("i",{className:"fa fa-ban"})})})]})]})}var Fs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=se(),t.buscarEn=["codigo","nombre","fecha"],t.status=-1,t}return Object(u.a)(a,[{key:"Buscador",value:function(){var t=this;return Object(k.jsxs)(ut.a,{style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{className:"col-md-9 mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:this.buscarLabel})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ec,{status:this.status,estatus:["CANCELADO","EN ESPERA","PROCESADA"],setData:function(e){t.status=e,t.forceUpdate()}}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),Object(k.jsxs)(F.a,{size:"sm",onClick:this.set.bind(this),"data-tip":"ACTUALIZAR LISTA",variant:"info",children:[Object(k.jsx)("i",{className:"fa fa-refresh"})," ACTUALIZAR"]})]})}},{key:"filter",value:function(){var t=this;return this.ordenar().filter((function(e){return e.status===t.status||-1===t.status}))}},{key:"Title",value:function(){return Object(k.jsx)("h4",{className:"mr-auto",children:"BUSCAR ORDEN DE COMPRA"})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"NUMERO"}),Object(k.jsx)(t,{label:"fecha",width:"90px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 585px)",children:"PROVEEDOR"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(gc,{data:t,type:"Orden",add:this.add.bind(this)},t.codigo+t.status)}},{key:"add",value:function(t){this.props.add(t),this.props.close()}},{key:"getItens",value:function(){return this.context.Ordenes}},{key:"set",value:function(){this.context.actOrden()}},{key:"getEstado",value:function(){return this.context.estOrdenes}},{key:"reset",value:function(){this.context.resetCompra()}}]),a}(Ja);Fs.contextType=ys;var Ms=Fs,Bs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).nuevo=!0,t.con=se(),t.ordenes="",t}return Object(u.a)(a,[{key:"BotonesLeft",value:function(){var t=this,e=this.ordenes,a=this.cargar;return Object(k.jsxs)(ot.a,{xs:6,children:[Object(k.jsx)(Ms,{open:this.state.aux,add:a.bind(this),close:function(){return t.setState({aux:!1})}}),Object(k.jsx)(F.a,{onClick:function(){t.setState({aux:!0})},"data-class":"toolbody","data-html":"true","data-tip":e+" ORDEN <br> DE COMPRA",variant:"primary",children:Object(k.jsx)("span",{className:"fa fa-folder-open"})})]})}},{key:"cargar",value:function(t){var e=this;this.con.detalle(t.codigo,(function(t){t.id_orden=t.codigo,t.codigo=0,e.setData(t)}))}},{key:"Row",value:function(t){var e=t.data,a=this.addProductos,c=this.removeProductos,s=this.props.data.dolar;return Object(k.jsx)(Ls,{data:e,edit:a,remove:c,dolar:s},e.codigo+"Compra"+this.productos)}}]),a}(dc),_s=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).nuevo=!0,t.ordenes="Copiar",t}return Object(u.a)(a)}(Bs),Vs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Xt(),c.title="COMPRA",c.msn="LA COMPRA",c.setConfig=function(){return T("compra").pull((function(t){var e=t.nota;return c.setState({nota:e})}))},c.state=Object(V.a)(Object(V.a)({},Zt),{},{procesar:!1}),c.tipo="Compra",c}return Object(u.a)(a,[{key:"Top",value:function(){var t=this.getData(),e=t.cod_proveedor,a=t.cod_documento,c=t.nun_control,s=t.fecha_documento,n=t.nota;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Us,{Proveedor:e,add:this.setProveedor.bind(this)}),Object(k.jsxs)(Vt.a,{children:[Object(k.jsx)(Vt.a.Toggle,{eventKey:"0",as:F.a,variant:"primary",children:"DATOS OPCIONALES"}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{"data-tip":"NUMERO DE FACTURA",xs:4,children:Object(k.jsx)(Ct,{maxLength:50,before:"N\xb0 FACTURA",value:a,setData:this.setState,update:"cod_documento"})}),Object(k.jsx)(ot.a,{"data-tip":"NUMERO DE CONTROL",xs:4,children:Object(k.jsx)(Ct,{maxLength:50,before:"N\xb0 CONTROL",value:c,setData:this.setState,update:"nun_control"})}),Object(k.jsx)(ot.a,{"data-tip":"FECHA DE LA FACTURA",xs:4,children:Object(k.jsx)(Ct,{type:"date",before:"FECHA",value:s,setData:this.setState,update:"fecha_documento"})}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NOTA"}),Object(k.jsx)(pt,{name:"nota",rows:4,maxLength:600,value:n,setData:this.setState,update:"nota"})]})]})})})})]})]})}},{key:"Productos",value:function(){return Object(k.jsx)(_s,{setData:this.setState,data:this.state},"auxCompra")}},{key:"Procesar",value:function(){var t=this,e=!0,a=this.context.impuesto,c=this.getData();""===c.cod_proveedor&&(Object(l.b)("DEBE SELECCIONAR UN PROVEEDOR",{type:l.b.TYPE.ERROR}),e=!1),(e=this.validacionGenerica(e))&&this.con.nuevo(Wt(c,a),(function(e){return t.setState({codigo:e})}),(function(){return t.procesar=!0}))}},{key:"setProveedor",value:function(t){this.setState({cod_proveedor:t})}}]),a}(hc);Vs.contextType=Rs;var zs=Vs;function Gs(t){var e=t.id,a=Object(c.useState)(!1),s=Object(j.a)(a,2),n=s[0],r=s[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"outline-dark",onClick:function(){return r(!0)},children:Object(k.jsx)("i",{className:"fa fa-eye"})}),Object(k.jsx)(xa,{type:"Orden",close:function(){return r(!1)},open:n,id:e},"SeguimientosOrden"+e)]})}var Hs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=se(),c.label="ORDEN DE COMPRA",c.type="Orden",c}return Object(u.a)(a,[{key:"Botones",value:function(){var t=this.type,e=this.con,a=this.label,c=this.cancelado,s=this.data,n=s.status,r=s.codigo;return Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(Gs,{id:r}),Object(k.jsx)(Ia,{label:a,id:r,tipo:t}),1!==n?Object(k.jsx)(k.Fragment,{}):Object(k.jsx)(Sa,{con:e,label:a,id:r,msn:c()})]})})}},{key:"cancelado",value:function(){return"ORDEN DE COMPRA N\xb0 "+this.props.data.codigo+" CANCELADA ESXITOSAMENTE"}}]),a}(As),Ys=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.orden;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Orden",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:150}),Object(k.jsx)(ze.a,{field:"nombre",title:"PROVEEDOR",width:500}),Object(k.jsx)(ze.a,{field:"monto",title:"MONTO",width:120})]})]})}}]),a}(s.a.Component),Zs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=se(),t.placeholder="BUSCAR ORDEN DE COMPRA",t.buscarEn=["codigo","nombre","fecha","rif"],t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.productos=[],t.status=-1,t.user=-1,t}return Object(u.a)(a,[{key:"Avansado",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.setAvanzados;return Object(k.jsx)(Xa,{setData:n.bind(this),estatus:["CANCELADO","EN ESPERA","PROCESADA"],fecha_init:t,fecha_fin:e,status:a,user:c,productos:s})}},{key:"setAvanzados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.status,s=t.user,n=t.productos;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),s&&(this.user=s),c&&(this.status=c),0===c&&(this.status=c),n&&(this.productos=n),this.forceUpdate()}},{key:"filter",value:function(){var t=this.fecha_init,e=this.fecha_fin,a=this.status,c=this.user,s=this.productos,n=this.datetonomber;return this.ordenar().filter((function(r){if(r.status!==a&&-1!==a)return!1;if(r.usuario!==c&&-1!==c)return!1;var i=n(r.fecha);return!("dd/mm/aaaa"!==e&&i>n(e))&&(!("dd/mm/aaaa"!==t&&i<n(t))&&!!s.every((function(t){return r.detalles.some((function(e){return t.codigo===e}))})))}))}},{key:"Title",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR ORDEN DE COMPRA"]}),Object(k.jsxs)(i.b,{to:"/orden/nueva",className:"btn btn-primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVA ORDEN DE COMPRA"]})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Hs,{con:this.con,data:t},"cot"+t.codigo+t.status)}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 585px)",children:"PROVEEDOR"}),Object(k.jsx)(t,{width:"160px",children:"MONTO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"getItens",value:function(){return this.context.Ordenes}},{key:"set",value:function(){this.context.actOrden()}},{key:"getEstado",value:function(){return this.context.estOrdenes}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(Ys,{orden:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);Zs.contextType=ys;var Ws=Zs,Js=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).nuevo=!0,t.ordenes="Copiar",t}return Object(u.a)(a)}(Bs),Ks=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=se(),c.title="ORDEN DE COMPRA",c.msn="LA ORDEN DE COMPRA",c.tipo="Orden",c.state=Object(V.a)(Object(V.a)({},ae),{},{procesar:!1}),c}return Object(u.a)(a,[{key:"Top",value:function(){var t=this.getData();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Us,{Proveedor:t.cod_proveedor,add:this.setProveedor.bind(this)}),Object(k.jsxs)(Vt.a,{children:[Object(k.jsx)(Vt.a.Toggle,{eventKey:"0",as:F.a,variant:"primary",children:"DATOS OPCIONALES"}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(sc,{data:t,setData:this.setState})})})})]})]})}},{key:"Productos",value:function(){return Object(k.jsx)(Js,{setData:this.setState,data:this.state},"auxOrden")}},{key:"Procesar",value:function(){var t=this,e=this.context.impuesto,a=this.getData();""===a.cod_proveedor&&Object(l.b)("DEBE SELECCIONAR UN PROVEEDOR",{type:l.b.TYPE.ERROR}),this.validacionGenerica()&&this.con.nuevo(function(t,e){var a=W(t.detalles),c=a*(e/100),s=a+c;return{cod_proveedor:t.cod_proveedor,validez:t.validez,tiempo_entrega:t.tiempo_entrega,forma_pago:t.forma_pago,nota:t.nota,total:s,impuesto:c,subtotal:a,detalles:J(t.detalles)}}(a,e),(function(e){return t.setState({codigo:e})}),(function(e){return t.procesar=!0}))}},{key:"setProveedor",value:function(t){this.setState({cod_proveedor:t})}}]),a}(hc);Ks.contextType=ys;var qs=Ks,Qs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).refe=void 0,c.parent=void 0,c.refe=t.refe,c.parent="FACTURA",c.DetallesRef=c.DetallesRef.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.Detalles,e=this.DetallesRef,a=this.Nombre,c=this.Monto,s=this.Status,n=this.Botones,r=this.data.fecha;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(t,{}),Object(k.jsx)(e,{}),Object(k.jsx)(va,{fecha:r}),Object(k.jsx)(a,{}),Object(k.jsx)(c,{}),Object(k.jsx)(s,{}),Object(k.jsx)(n,{})]})}},{key:"DetallesRef",value:function(){var t=this.refe,e=this.parent,a=this.data.doc;return Object(k.jsx)(Mc,{con:t,label:e,id:a})}},{key:"Detalles",value:function(){var t=this.con,e=this.label,a=this.data.codigo;return Object(k.jsx)(Mc,{con:t,label:e,id:a})}}]),a}(ka),Xs=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).label="NOTA DE CREDITO EN COMPRA",c.parent="COMPRA",c}return Object(u.a)(a)}(Qs),$s=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).permiso="AJUSTE",t.estado=Y,t.con=$t(),t.refe=Xt(),t.placeholder="BUSCAR NOTA DE CREDITO EN COMPRA",t.buscarEn=["codigo","nombre","fecha"],t}return Object(u.a)(a,[{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Title",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR NOTA DE CREDITO EN COMPRA"]})})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"doc",width:"100px",children:"FAC"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 470px)",children:"USUARIO"}),Object(k.jsx)(t,{width:"100px",children:"TIPO"}),Object(k.jsx)(t,{width:"100px",children:"ESTADO"}),Object(k.jsx)(t,{width:"70px",children:void 0})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Xs,{refe:this.refe,con:this.con,data:t},"cot"+t.codigo+t.estado)}},{key:"getEstado",value:function(){return this.estado}},{key:"set",value:function(){var t=this;this.estado={status:2,hora:"...ACTUALIZANDO"},this.con.cargarListaWeb((function(e){t.estado={status:3,hora:g(void 0)},t.setState({itens:e})}))}}]),a}(Be),tn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).label="NOTA DE CREDITO EN COMPRA",c.parent="COMPRA",c}return Object(u.a)(a)}(Qs),en=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).permiso="AJUSTE",t.estado=Y,t.con=te(),t.refe=Xt(),t.placeholder="BUSCAR NOTA DE DEBITO EN COMPRA",t.buscarEn=["codigo","nombre","fecha"],t}return Object(u.a)(a,[{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Title",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR NOTA DE DEBITO EN COMPRA"]})})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"doc",width:"100px",children:"FAC"}),Object(k.jsx)(t,{label:"fecha",width:"120px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 470px)",children:"USUARIO"}),Object(k.jsx)(t,{width:"100px",children:"TIPO"}),Object(k.jsx)(t,{width:"100px",children:"ESTADO"}),Object(k.jsx)(t,{width:"70px",children:void 0})]})}},{key:"Row",value:function(t){return Object(k.jsx)(tn,{refe:this.refe,con:this.con,data:t},"cot"+t.codigo+t.estado)}},{key:"getEstado",value:function(){return this.estado}},{key:"set",value:function(){var t=this;this.estado={status:2,hora:"...ACTUALIZANDO"},this.con.cargarListaWeb((function(e){t.estado={status:3,hora:g(void 0)},t.setState({itens:e})}))}}]),a}(Be),an=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Xt(),c.title="COMPRA",c.msn="LA COMPRA",c.setConfig=function(){return T("compra").pull((function(t){var e=t.nota;return c.setState({nota:e})}))},c.state=Object(V.a)(Object(V.a)({},Zt),{},{procesar:!1}),c.tipo="Compra",c}return Object(u.a)(a,[{key:"Top",value:function(){var t=this.getData(),e=t.cod_proveedor,a=t.cod_documento,c=t.nun_control,s=t.fecha_documento,n=t.nota;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Us,{Proveedor:e,add:this.setProveedor.bind(this)}),Object(k.jsxs)(Vt.a,{children:[Object(k.jsx)(Vt.a.Toggle,{eventKey:"0",as:F.a,variant:"primary",children:"DATOS OPCIONALES"}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"0",children:Object(k.jsx)(_t.a,{children:Object(k.jsx)(_t.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{"data-tip":"NUMERO DE FACTURA",xs:4,children:Object(k.jsx)(Ct,{maxLength:50,before:"N\xb0 FACTURA",value:a,setData:this.setState,update:"cod_documento"})}),Object(k.jsx)(ot.a,{"data-tip":"NUMERO DE CONTROL",xs:4,children:Object(k.jsx)(Ct,{maxLength:50,before:"N\xb0 CONTROL",value:c,setData:this.setState,update:"nun_control"})}),Object(k.jsx)(ot.a,{"data-tip":"FECHA DE LA FACTURA",xs:4,children:Object(k.jsx)(Ct,{type:"date",before:"FECHA",value:s,setData:this.setState,update:"fecha_documento"})}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NOTA"}),Object(k.jsx)(pt,{name:"nota",rows:4,maxLength:600,value:n,setData:this.setState,update:"nota"})]})]})})})})]})]})}},{key:"Productos",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Procesar",value:function(){var t=this,e=!0,a=this.context.impuesto,c=this.getData();""===c.cod_proveedor&&(Object(l.b)("DEBE SELECCIONAR UN PROVEEDOR",{type:l.b.TYPE.ERROR}),e=!1),(e=this.validacionGenerica(e))&&this.con.nuevo(Wt(c,a),(function(e){return t.setState({codigo:e})}),(function(){return t.procesar=!0}))}},{key:"setProveedor",value:function(t){this.setState({cod_proveedor:t})}}]),a}(hc);an.contextType=Rs;var cn=an,sn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.proveedores;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Proveedores",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"CI/RIF",width:120}),Object(k.jsx)(ze.a,{field:"nombre",title:"NOMBRE",width:500})]})]})}}]),a}(s.a.Component),nn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Yt(),c.state={edit:!1},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"150px",children:this.props.data.codigo}),Object(k.jsxs)("th",{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Ps,{open:this.state.edit,title:"EDITAR DATOS DE "+this.props.data.nombre,Proveedor:this.props.data,close:function(){t.setState({edit:!1})},add:this.props.update},"Editproveedor"+this.props.data.codigo),Object(k.jsx)(F.a,{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"data-class":"toolbody","data-html":"true","data-tip":this.tooltipCliente(),variant:"link",children:this.props.data.nombre})]}),Object(k.jsx)(St,{width:"120px",children:this.getStatus()}),Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:function(){t.setState({edit:!0})},children:Object(k.jsx)("i",{className:"fa fa fa-edit"})}),1===this.props.data.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check"})})]})})]})}},{key:"getModal",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"getStatus",value:function(){return 1===this.props.data.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"tooltipCliente",value:function(){var t=this.props.data;return"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br /><b>PERSONA DE CONTACTO:</b><br />"+t.contacto+"<br /><b>CORREO ELECTRONICO:</b><br />"+t.correo+"<br /><b>TELEFONO:</b><br />"+t.telefono}},{key:"close",value:function(){this.setState({edit:!1})}},{key:"cancelar",value:function(){this.con.cancelar(this.props.data.codigo,this.props.update),this.close()}}]),a}(s.a.Component),rn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Yt(),t.placeholder="BUSCAR PROVEEDOR",t.buscarEn=["codigo","nombre","contacto","correo","telefono"],t.status=-1,t}return Object(u.a)(a,[{key:"Avansado",value:function(){return Object(k.jsx)(ut.a,{children:Object(k.jsx)(ot.a,{style:{minWidth:"230px"},md:12,children:Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:this.setStatus.bind(this),className:"form-control",value:this.status,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),Object(k.jsx)("option",{value:0,children:"INACTIVO"}),Object(k.jsx)("option",{value:1,children:"ACTIVO"})]})})})}},{key:"Title",value:function(){var t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ps,{open:this.state.modal,title:"NUEVO PROVEEDOR",Proveedor:null,close:function(){t.setState({modal:!1})},add:this.set.bind(this)}),Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR PROVEEDOR"]}),Object(k.jsxs)(F.a,{onClick:function(){t.setState({modal:!0})},children:[Object(k.jsx)("i",{className:"fa fa-edit"})," NUEVO PROVEEDOR"]})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{width:"150px",label:"codigo",children:"CI/RIF"}),Object(k.jsx)(t,{width:"calc(100% - 335px)",label:"nombre",children:"NOMBRE"}),Object(k.jsx)(t,{width:"120px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"135px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(nn,{update:this.set.bind(this),data:t},t.codigo+t.estatus)}},{key:"filter",value:function(){var t=this,e=this.ordenar();return-1!==this.status&&(e=e.filter((function(e){return e.estatus===t.status}))),e}},{key:"setStatus",value:function(t){var e=t.currentTarget.value;this.status=parseInt(e),this.forceUpdate()}},{key:"getItens",value:function(){return this.context.Proveedores}},{key:"set",value:function(){this.context.actProveedor()}},{key:"getEstado",value:function(){return this.context.estProveedores}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(sn,{proveedores:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}}]),a}(Be);rn.contextType=fs;var on=rn;function ln(){return Object(k.jsxs)(vs,{children:[Object(k.jsx)(o.a,{path:["/orden","/compra"],component:jn}),Object(k.jsx)(o.a,{path:"/proveedores",component:On})]})}function jn(){return Object(k.jsxs)(Ns,{children:[Object(k.jsx)(o.a,{path:"/compra",component:un}),Object(k.jsx)(o.a,{path:"/orden",component:dn})]})}function dn(){return tt(["ORDEN"])?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{path:"/orden/lista",component:Ws}),Object(k.jsx)(o.a,{path:"/orden/nueva",component:qs})]}):Object(k.jsx)(js,{})}function un(){return tt(["COMPRA"])?Object(k.jsxs)(Ss,{children:[Object(k.jsx)(o.a,{path:"/compra/lista",component:Is}),Object(k.jsx)(o.a,{path:"/compra/nueva",component:zs}),Object(k.jsx)(o.a,{path:["/compra/credito/lista","/compra/credito/lista","/compra/{id}/nota/nueva"],component:hn})]}):Object(k.jsx)(js,{})}function hn(){return tt(["NOTASCOMPRAS"])?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{path:"/compra/credito/lista",component:$s}),Object(k.jsx)(o.a,{path:"/compra/credito/lista",component:en}),Object(k.jsx)(o.a,{path:"/compra/{id}/nota/nueva",component:cn})]}):Object(k.jsx)(js,{})}function On(){return tt(["PROVEEDOR"])?Object(k.jsx)(on,{}):Object(k.jsx)(js,{})}var bn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("ventas"),t.state={observacion:"",garantia:""},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE VENTAS "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)("label",{className:"control-label",children:"GARANTIA DE LOS PRODUCTOS:"}),Object(k.jsx)(pt,{setData:this.setState.bind(this),value:this.state.garantia,update:"garantia"}),Object(k.jsx)("br",{}),Object(k.jsx)("label",{className:"control-label",children:"OBSERVACION GENERAL:"}),Object(k.jsx)(pt,{setData:this.setState.bind(this),value:this.state.observacion,update:"observacion"}),Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),xn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={Monedas:"carro"},c}return Object(u.a)(a,[{key:"setUsers",value:function(t){Array.isArray(t)&&this.setState({Monedas:t})}},{key:"render",value:function(){return Object(k.jsxs)("select",{style:{width:"calc(100% - 100px"},onChange:this.setRol.bind(this),className:"form-control",value:this.props.defaultValue,children:[Object(k.jsx)("option",{value:-1,children:"SELECCIONAR MONEDA"}),"carro"!==this.state.Monedas?this.state.Monedas.map((function(t){return Object(k.jsx)("option",{value:t.descripcion,children:t.descripcion},"Monedas"+t.codigo)})):Object(k.jsx)(k.Fragment,{})]})}},{key:"componentDidMount",value:function(){this.set()}},{key:"setRol",value:function(t){var e=t.currentTarget.value;this.props.change(e)}},{key:"set",value:function(){X().lista(this.setUsers.bind(this))}}]),a}(s.a.Component),pn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("region"),t.state={cod_fiscal:"",moneda:"",impuesto:0},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.cod_fiscal,a=t.moneda,c=t.impuesto,s=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE REGION "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(ot.a,{md:12,children:Object(k.jsx)(Ct,{after:"EJEMPLO: RIF, CUIT, NIT...",before:"IDENTIFICACION TRIBUTARIA",value:e,setData:s,update:"cod_fiscal"})}),Object(k.jsxs)(ot.a,{md:7,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"MONEDA"}),Object(k.jsx)(xn,{defaultValue:a,change:this.setMoneda.bind(this)})]})]}),Object(k.jsxs)(ot.a,{md:5,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:.01,step:".01",before:"IMPUESTO",value:c,setData:s,update:"impuesto"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})]})}},{key:"setMoneda",value:function(t){this.setState({moneda:t})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),fn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={verciones:[]},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.data,a=e.margen_sup,c=e.margen_inf,s=e.margen_izq,n=e.margen_der,r=e.tipo_papel,i=e.encabezado,o=e.piepagina,l=e.version,j=t.setData;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h5",{children:"CONFIGURACION DE IMPRESI\xd3N "})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{as:ht.a,xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"TIPO DE PAGINA"})}),Object(k.jsxs)("select",{onChange:this.setTipoPapel.bind(this),className:"form-control",value:r,children:[Object(k.jsx)("option",{value:"LETTER",children:"CARTA"}),Object(k.jsx)("option",{value:"LEGAL",children:"OFICIO"})]})]})}),this.state.verciones.length>0?Object(k.jsx)(ot.a,{xs:12,as:ht.a,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"100px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:"VERSION"}),Object(k.jsx)("select",{style:{width:"calc(100% - 100px)",position:"relative"},onChange:this.setVersion.bind(this),className:"form-control",value:l,children:this.state.verciones.map((function(t){return Object(k.jsx)("option",{value:t.value,children:t.nombre})}))})]})}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(ot.a,{md:12,as:ht.a,children:Object(k.jsxs)(Rt.a,{style:{width:"100%"},children:[Object(k.jsxs)(F.a,{style:{width:"50%"},onClick:function(){j({encabezado:!i})},variant:i?"success":"danger",children:["COLOCAR ENCABEZADO: ",i?"SI":"NO"]}),Object(k.jsxs)(F.a,{style:{width:"50%"},onClick:function(){j({piepagina:!o})},variant:o?"success":"danger",children:["COLOCAR PIE DE PAGINA: ",o?"SI":"NO"]})]})}),Object(k.jsx)(ot.a,{md:6,as:ht.a,children:Object(k.jsx)(gt,{min:1,step:"1",before:"MARGEN SUPERIOR",value:a,setData:j,update:"margen_sup"})}),Object(k.jsx)(ot.a,{md:6,as:ht.a,children:Object(k.jsx)(gt,{min:1,step:"1",before:"MARGEN INFERIOR",value:c,setData:j,update:"margen_inf"})}),Object(k.jsx)(ot.a,{md:6,as:ht.a,children:Object(k.jsx)(gt,{min:1,step:"1",before:"MARGEN IZQUIERDO",value:s,setData:j,update:"margen_izq"})}),Object(k.jsx)(ot.a,{md:6,as:ht.a,children:Object(k.jsx)(gt,{min:1,step:"1",before:"MARGEN DERECHO",value:n,setData:j,update:"margen_der"})})]})})]})}},{key:"setTipoPapel",value:function(t){var e=t.currentTarget.value;this.props.setData({tipo_papel:e})}},{key:"setVersion",value:function(t){var e=t.currentTarget.value;this.props.setData({version:e})}},{key:"componentDidMount",value:function(){var t=this;T("versiones").pull((function(e){t.setState({verciones:e[t.props.version]}),t.forceUpdate()}))}}]),a}(s.a.Component),vn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("factura"),t.state=Object(V.a)(Object(V.a)({},z),{},{num_factura:0,observacion:""}),t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.num_factura,a=t.observacion,c=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE FACTURA "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h5",{children:"CONFIGURACION DE DATOS POR DEFECTO "})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(gt,{value:e,setData:c,update:"num_factura",min:0,step:"1",disabled:e>0,label:"NUMERO INICIAL DE FACTURA"}),Object(k.jsx)("b",{style:{color:"red"},children:"UNA VEZ INICIALIZADO YA NO PUEDE SER CAMBIADO"}),Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"OBSERVACI\xd3N"}),Object(k.jsx)(pt,{rows:6,maxLength:600,value:a,setData:c,update:"observacion"})]})]}),Object(k.jsx)(fn,{version:"factura",data:this.state,setData:c}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),mn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("empresa"),t.state={nombre:"",numero_fiscal:"",direccion:"",telefono:"",correo:"",web:"",pago:"",logo:"",eslogan:""},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.nombre,a=t.numero_fiscal,c=t.direccion,s=t.telefono,n=t.correo,r=t.web,i=t.pago,o=t.logo,l=t.eslogan,j=o.length<100?"/public/imagenes/"+o:o,d=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE REGION "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(ot.a,{md:12,children:Object(k.jsx)(Ct,{before:"NUMERO FISCAL",value:a,setData:d,update:"numero_fiscal"})}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Ct,{before:"NOMBRE",value:e,setData:d,update:"nombre"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Ct,{before:"CORREO",value:n,setData:d,update:"correo"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Ct,{before:"TELEFONO",value:s,setData:d,update:"telefono"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Ct,{before:"WEB",value:r,setData:d,update:"web"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("label",{className:"control-label",children:"DIRECCION:"}),Object(k.jsx)(pt,{rows:3,setData:this.setState.bind(this),value:c,update:"direccion"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("label",{className:"control-label",children:"INFORMACION DE PAGO:"}),Object(k.jsx)(pt,{rows:3,setData:this.setState.bind(this),value:i,update:"pago"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("label",{className:"control-label",children:"ESLOGAN:"}),Object(k.jsx)(pt,{rows:3,setData:this.setState.bind(this),value:l,update:"eslogan"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("label",{className:"control-label",children:"LOGO:"}),Object(k.jsxs)("label",{style:{width:"300px"},children:[Object(k.jsx)("img",{src:j,width:"100%",alt:"logo"}),Object(k.jsx)("input",{style:{display:"none"},onChange:this.setImage.bind(this),type:"file"})]})]}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"setImage",value:function(t){var e=this,a=t.currentTarget.files,c=new FileReader;c.onloadend=function(){e.setState({logo:c.result})},null!=a&&c.readAsDataURL(a[0])}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),An=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Te(),c.state=t.d,c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.codigo,a=t.descripcion;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:e}),Object(k.jsxs)("th",{style:{width:"calc(100% - 270px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Ct,{setData:this.setState.bind(this),value:a,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"100px"},children:this.getStatus()}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:this.edit.bind(this),children:Object(k.jsx)("i",{className:"fa fa-edit"})}),1===this.props.d.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check"})})]})})]})}},{key:"getStatus",value:function(){return 1===this.props.d.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"cancelar",value:function(){var t=this.props,e=t.update,a=t.d.codigo;this.con.cancelar(a,e)}},{key:"edit",value:function(){var t=this.state.descripcion,e=this.props,a=e.update,c=e.d.codigo;""===t?Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR}):this.con.actualizar(c,this.state,a)}}]),a}(s.a.Component),gn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Te(),t.state={codigo:"",descripcion:"",estatus:1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.codigo,a=t.descripcion;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NUEVO DEPARTAMENTO"}),Object(k.jsx)(Pt.a,{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"120px"},children:Object(k.jsx)(Et,{maxLength:6,upper:!0,only:"letter",setData:this.setState.bind(this),value:e,update:"codigo"})}),Object(k.jsxs)("th",{style:{width:"calc(100% - 190px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{placeholder:"DESCRIPCION",upper:!0,setData:this.setState.bind(this),value:a,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(F.a,{variant:"primary",onClick:this.nuevo.bind(this),children:[Object(k.jsx)("i",{className:"fa fa-edit"})," GUARDAR"]})})]})})]})}},{key:"nuevo",value:function(){var t=this,e=this.state,a=e.descripcion,c=e.codigo;if(""===a)Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR});else if(""===c)Object(l.b)("DEBE COLOCAR UN CODIGO",{type:l.b.TYPE.ERROR});else if("TODO"===c)Object(l.b)('"TODO" ES UN CODIGO RESERVADO PARA USO INTERNO DEL SISTEMA',{type:l.b.TYPE.ERROR});else if("AAAA"===c)Object(l.b)('"AAAA" ES UN CODIGO RESERVADO PARA USO INTERNO DEL SISTEMA',{type:l.b.TYPE.ERROR});else{var s=this.props.update;this.con.nuevo(this.state,(function(){s&&s(),t.state={codigo:"",descripcion:"",estatus:1},Object(l.b)("CREADO EXITOSAMENTE",{type:l.b.TYPE.SUCCESS})}))}}}]),a}(s.a.Component),En=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Te(),t.mostrar=6,t.placeholder="BUSCAR DEPARTAMENTO",t.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"SIN FACTURA"},{value:2,label:"FACTURADA"}],t.buscarEn=["codigo","descripcion"],t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR DEPARTAMENTO"]})}},{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Buscador",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"d-flex",style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,className:"mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"BUSCAR"})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]}),Object(k.jsx)(gn,{update:this.set.bind(this)})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"COD"}),Object(k.jsx)(t,{label:"descripcion",width:"calc(100% - 270px)",children:"DESCRIPCION"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"70px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(An,{d:t,update:this.set.bind(this)},"dpt"+t.codigo)}},{key:"getItens",value:function(){return this.context.Departamentos}},{key:"set",value:function(){this.context.actDepartamento()}},{key:"getEstado",value:function(){return this.context.estDepartamentos}}]),a}(Be);En.contextType=ha;var Cn=En,yn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Pe(),c.state=t.d,c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.codigo,a=t.descripcion,c=t.inventario,s=[void 0,"NO GENERA","LOGICO","FISICO"];return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:e}),Object(k.jsxs)("th",{style:{width:"calc(100% - 270px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{setData:this.setState.bind(this),value:a,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"120px"},children:s[c]}),Object(k.jsx)("th",{style:{width:"100px"},children:this.getStatus()}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:this.edit.bind(this),children:Object(k.jsx)("i",{className:"fa fa-edit"})}),1===this.props.d.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check-circle-o"})})]})})]})}},{key:"getStatus",value:function(){return 1===this.props.d.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"cancelar",value:function(){var t=this.props,e=t.update,a=t.d.codigo;this.con.cancelar(a,e)}},{key:"edit",value:function(){var t=this.state.descripcion,e=this.props,a=e.update,c=e.d.codigo;""===t?Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR}):this.con.actualizar(c,this.state,a)}}]),a}(s.a.Component),Nn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Pe(),t.state={codigo:0,descripcion:"",estatus:1,inventario:3},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.descripcion;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NUEVO TIPO DE PRODUCTO"}),Object(k.jsx)(Pt.a,{children:Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{style:{width:"calc(100% - 290px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{setData:this.setState.bind(this),value:t,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"220px"},children:this.TipoInventario()}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(F.a,{style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},"data-tip":"EDITAR",variant:"primary",onClick:this.nuevo.bind(this),children:[Object(k.jsx)("i",{className:"fa fa-edit"})," GUARDAR"]})})]})})]})}},{key:"nuevo",value:function(){var t=this;if(""===this.state.descripcion)Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR});else{var e=this.props.update;this.con.nuevo(this.state,(function(){e&&e(),t.state={codigo:0,descripcion:"",estatus:1,inventario:3},Object(l.b)("CREADO EXITOSAMENTE",{type:l.b.TYPE.SUCCESS})}))}}},{key:"TipoInventario",value:function(){var t=this;return Object(k.jsxs)("select",{onChange:function(e){t.setState({inventario:parseInt(e.currentTarget.value)})},className:"form-control",value:this.state.inventario,children:[Object(k.jsx)("option",{value:"3",children:"INVENTARIO FISICO"}),Object(k.jsx)("option",{value:"2",children:"INVENTARIO LOGICO"}),Object(k.jsx)("option",{value:"1",children:"NO GENERA INVENTARIO"})]})}}]),a}(s.a.Component),Rn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Pe(),t.mostrar=6,t.placeholder="BUSCAR TIPO DE PRODUCTO",t.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"SIN FACTURA"},{value:2,label:"FACTURADA"}],t.buscarEn=["codigo","descripcion"],t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR TIPO DE PRODUCTO"]})}},{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Buscador",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"d-flex",style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,className:"mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"BUSCAR"})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]}),Object(k.jsx)(Nn,{update:this.set.bind(this)})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"COD"}),Object(k.jsx)(t,{label:"descripcion",width:"calc(100% - 270px)",children:"DESCRIPCION"}),Object(k.jsx)(t,{width:"130px",children:"INVENTARIO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"70px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(yn,{d:t,update:this.set.bind(this)},"tipo"+t.codigo)}},{key:"getItens",value:function(){return this.context.Tipos}},{key:"set",value:function(){this.context.actTipo()}},{key:"getEstado",value:function(){return this.context.estTipos}}]),a}(Be);Rn.contextType=ha;var Sn=Rn,Tn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Ie(),c.state=t.d,c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.codigo,a=t.descripcion;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:e}),Object(k.jsxs)("th",{style:{width:"calc(100% - 270px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{setData:this.setState.bind(this),value:a,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"100px"},children:this.getStatus()}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:this.edit.bind(this),children:Object(k.jsx)("i",{className:"fa fa-edit"})}),1===this.props.d.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check-circle-o"})})]})})]})}},{key:"getStatus",value:function(){return 1===this.props.d.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"cancelar",value:function(){var t=this.props,e=t.update,a=t.d.codigo;this.con.cancelar(a,e)}},{key:"edit",value:function(){var t=this.state.descripcion,e=this.props,a=e.update,c=e.d.codigo;""===t?Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR}):this.con.actualizar(c,this.state,a)}}]),a}(s.a.Component),Dn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Ie(),t.state={codigo:0,descripcion:"",estatus:1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.descripcion;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NUEVA UNIDAD DE MEDIDA"}),Object(k.jsx)(Pt.a,{children:Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{style:{width:"calc(100% - 170px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{setData:this.setState.bind(this),value:t,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(F.a,{style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},"data-tip":"EDITAR",variant:"primary",onClick:this.nuevo.bind(this),children:[Object(k.jsx)("i",{className:"fa fa-edit"})," GUARDAR"]})})]})})]})}},{key:"nuevo",value:function(){var t=this;if(""===this.state.descripcion)Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR});else{var e=this.props.update;this.con.nuevo(this.state,(function(){e&&e(),t.state={codigo:0,descripcion:"",estatus:1},Object(l.b)("CREADO EXITOSAMENTE",{type:l.b.TYPE.SUCCESS})}))}}}]),a}(s.a.Component),In=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Ie(),t.mostrar=6,t.placeholder="BUSCAR UNIDAD DE MEDIDA",t.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"SIN FACTURA"},{value:2,label:"FACTURADA"}],t.buscarEn=["codigo","descripcion"],t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR UNIDAD DE MEDIDA"]})}},{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Buscador",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"d-flex",style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,className:"mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"BUSCAR"})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),this.Actualizar()]}),Object(k.jsx)(Dn,{update:this.set.bind(this)})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"COD"}),Object(k.jsx)(t,{label:"descripcion",width:"calc(100% - 270px)",children:"DESCRIPCION"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"70px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Tn,{d:t,update:this.set.bind(this)},"unidad"+t.codigo)}},{key:"getItens",value:function(){return this.context.Unidades}},{key:"set",value:function(){this.context.actUnidad()}},{key:"getEstado",value:function(){return this.context.estUnidades}}]),a}(Be);In.contextType=ha;var kn=In,Pn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=X(),c.state=t.d,c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.codigo,a=t.descripcion;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:e}),Object(k.jsxs)("th",{style:{width:"calc(100% - 270px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{setData:this.setState.bind(this),value:a,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"100px"},children:this.getStatus()}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:this.edit.bind(this),children:Object(k.jsx)("i",{className:"fa fa-edit"})}),1===this.props.d.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check"})})]})})]})}},{key:"getStatus",value:function(){return 1===this.props.d.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"cancelar",value:function(){var t=this.props,e=t.update,a=t.d.codigo;this.con.cancelar(a,e)}},{key:"edit",value:function(){var t=this.state.descripcion,e=this.props,a=e.update,c=e.d.codigo;""===t?Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR}):this.con.actualizar(c,this.state,a)}}]),a}(s.a.Component),wn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=X(),t.state={codigo:0,descripcion:"",estatus:1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.descripcion;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"NUEVO MONEDA"}),Object(k.jsx)(Pt.a,{children:Object(k.jsxs)("tr",{children:[Object(k.jsxs)("th",{style:{width:"calc(100% - 170px)"},children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Et,{placeholder:"DESCRIPCION",setData:this.setState.bind(this),value:t,update:"descripcion"})]}),Object(k.jsx)("th",{style:{width:"70px"},children:Object(k.jsxs)(F.a,{variant:"primary",onClick:this.nuevo.bind(this),children:[Object(k.jsx)("i",{className:"fa fa-edit"})," GUARDAR"]})})]})})]})}},{key:"nuevo",value:function(){if(""===this.state.descripcion)Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR});else{var t=this.props.update;this.con.nuevo(this.state,t)}}}]),a}(s.a.Component),Un=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=X(),t.mostrar=6,t.placeholder="BUSCAR MONEDA",t.estatus=[{value:0,label:"CANCELADO"},{value:1,label:"SIN FACTURA"},{value:2,label:"FACTURADA"}],t.buscarEn=["codigo","descripcion"],t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR MONEDA"]})}},{key:"Avansado",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"Buscador",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"d-flex",style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,className:"mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"BUSCAR"})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),Object(k.jsxs)(F.a,{size:"sm",onClick:this.set.bind(this),"data-tip":"ACTUALIZAR LISTA",variant:"info",children:[Object(k.jsx)("i",{className:"fa fa-refresh"})," ACTUALIZAR"]})]}),Object(k.jsx)(wn,{update:this.set.bind(this)})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"COD"}),Object(k.jsx)(t,{label:"descripcion",width:"calc(100% - 270px)",children:"DESCRIPCION"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"70px",children:"ACCIONES"})]})}},{key:"Row",value:function(t){return Object(k.jsx)(Pn,{d:t,update:this.set.bind(this)},"moneda"+t.codigo)}}]),a}(Be),Ln=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("orden"),t.state=Object(V.a)(Object(V.a)({},z),{},{nota:"",forma_pago:"",tiempo_entrega:"",validez:""}),t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE ORDEN DE COMPRA "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h5",{children:"CONFIGURACION DE DATOS POR DEFECTO "})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(sc,{data:this.state,setData:t})})]}),Object(k.jsx)(fn,{version:"orden",data:this.state,setData:t}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),Fn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("compra"),t.state=Object(V.a)(Object(V.a)({},z),{},{nota:""}),t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE COMPRA "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h5",{children:"CONFIGURACION DE DATOS POR DEFECTO "})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)("b",{children:"NOTA"}),Object(k.jsx)(pt,{rows:6,maxLength:600,value:this.state.nota,setData:t,update:"nota"})]})]}),Object(k.jsx)(fn,{version:"compra",data:this.state,setData:t}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),Mn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("cotizacion"),t.state=Object(V.a)(Object(V.a)({},z),{},{nota:"",forma_pago:"",tiempo_entrega:"",validez:""}),t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE COTIZACION "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h5",{children:"CONFIGURACION DE DATOS POR DEFECTO "})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(sc,{data:this.state,setData:t})})]}),Object(k.jsx)(fn,{version:"cotizacion",data:this.state,setData:t}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),Bn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("nota"),t.state=Object(V.a)(Object(V.a)({},z),{},{nota:""}),t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.nota,e=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE NOTA DE ENTREGA "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h5",{children:"CONFIGURACION DE DATOS POR DEFECTO "})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)("b",{children:"NOTA"}),Object(k.jsx)(pt,{rows:6,maxLength:600,value:t,setData:e,update:"nota"})]})]}),Object(k.jsx)(fn,{version:"nota",data:this.state,setData:e}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),_n=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("reporte"),t.state=z,t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE REPORTES "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(fn,{version:"reporte",data:this.state,setData:t}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),Vn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("ajuste"),t.state=z,t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE AJUSTES DE IMVENTARIO "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(fn,{version:"ajuste",data:this.state,setData:t}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),zn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("costo"),t.state={costo:1,tasa:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.costo,c=e.tasa;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE PRECIOS "]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("p",{children:Object(k.jsx)("b",{children:" ACTUALIZAR COSTOS DE LOS PRODUCTOS: "})}),Object(k.jsx)("p",{children:"INDICA COMO EL SISTEMA MANEJARA EL COSTO DE SUS PRODUCTOS"}),Object(k.jsxs)(Rt.a,{vertical:!0,children:[Object(k.jsx)(F.a,{onClick:function(){t.setState({costo:1})},variant:1===a?"success":"default",children:"EL COSTO A REGISTRAR SERA EL DE LA ULTIMA COMPRA"}),Object(k.jsx)(F.a,{onClick:function(){t.setState({costo:2})},variant:2===a?"success":"default",children:"EL COSTO A REGISTRAR SERA EL DE LA COMPRA CON PRECIO MAS ALTO"}),Object(k.jsxs)(F.a,{onClick:function(){t.setState({costo:3})},variant:3===a?"success":"default",children:["EL COSTO NO SE VE AFECTADO POR LA COMPRA, ",Object(k.jsx)("br",{}),"SU VALOR ES EL REGISTRADO EN SU CREACION Y ES MODIFICADO MANUALMENTE"]})]})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:Object(k.jsx)("b",{children:" COSTO BASADO EN REFERENCIA A LA TASA CAMBIARIA:"})}),Object(k.jsx)("p",{children:"OPCION EN BOLIVARES: "}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:"COMPRA: SE MANTIENEN TODOS LOS COSTOS EN BOLIVARES."}),Object(k.jsx)("li",{children:"VENTAS: SI SE COTIZA EN DOLARES SE TOMA EL PRECIO DE VENTA EN BOLIVARES ENTRE LA TASA."})]}),Object(k.jsx)("p",{children:"OPCION EN DOLARES: "}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:"COMPRA: SE GUARDA EL COSTO EN BOLIVARES Y LA TASA DEL DIA DE LA COMPRA."}),Object(k.jsx)("li",{children:"VENTAS: SI SE COTIZA SE TOMA EL COSTO EN DOLARES DEL DIA DE LA COMPRA Y SE CALCULA SU UTILIDAD; SI LA COTIZACION ES EN BOLIVARES SE MULTIPLICA POR LA TASA."})]}),Object(k.jsxs)(Rt.a,{style:{width:"100%"},children:[Object(k.jsx)(F.a,{style:{width:"50%"},onClick:function(){t.setState({tasa:!1})},variant:c?"default":"success",children:"BOLIVARES"}),Object(k.jsx)(F.a,{style:{width:"50%"},onClick:function(){t.setState({tasa:!0})},variant:c?"success":"default",children:"DOLARES"})]})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(F.a,{variant:"success",children:Object(k.jsx)("i",{className:"glyphicon glyphicon-check-circle-o"})})," LAS QUE ESTEN DE VERDE SON QUE ESTAN ACTIVAS"]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),Gn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=T("utilidades"),t.state={precio1:1,precio2:1,precio3:1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.precio1,a=t.precio2,c=t.precio3,s=this.setState.bind(this);return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," CONFIGURACION DE UTILIDADES POR DEFECTO"]})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:1,step:"1",after:"%",before:"UTILIDAD 1",value:e,setData:s,update:"precio1"}),Object(k.jsx)("p",{style:{color:"red"},children:"*NO SE PUEDE VENDER POR DEBAJO DE ESTE PRECIO"})]}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsx)(gt,{min:1,step:"1",after:"%",before:"UTILIDAD 2",value:a,setData:s,update:"precio2"})}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)(gt,{min:1,step:"1",after:"%",before:"UTILIDAD 3",value:c,setData:s,update:"precio3"})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{className:"float-right",onClick:this.guardar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," Guardar"]})]})]})]})}},{key:"componentDidMount",value:function(){this.con.pull(this.setState.bind(this))}},{key:"guardar",value:function(){this.con.push(this.state,this.setState.bind(this))}}]),a}(s.a.Component),Hn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=_(),t.state={permisos:[],Permisos:[],nombre:""},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.con.listaPermisos((function(e){t.setState({Permisos:e})}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.close,c=e.open;return Object(k.jsxs)(dt.a,{animation:!0,centered:!0,show:c,onHide:a,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:"NUEVO ROL"})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ut.a,{children:Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)(Et,{label:"MONBRE DEL ROL",update:"nombre",setData:this.setState.bind(this),value:this.state.nombre}),Object(k.jsx)("br",{}),this.state.Permisos.map((function(e){return Object(k.jsx)(F.a,{onClick:t.click.bind(t,e.id),variant:t.selected(e.id),children:e.nombre})}))]})})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.save.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," GUARDAR"]})})]})}},{key:"selected",value:function(t){return this.state.permisos.some((function(e){return e===t}))?"success":"default"}},{key:"click",value:function(t){var e=this.state.permisos;e.every((function(e){return e!==t}))?this.setState({permisos:[].concat(Object(Z.a)(e),[t])}):this.setState({permisos:e.filter((function(e){return e!==t}))})}},{key:"save",value:function(){var t=this,e=this.state,a=e.nombre,c=e.permisos;this.con.nuevoRol({nombre:a,permisos:c},(function(e){t.props.actualizar(),t.props.close()}))}}]),a}(s.a.Component),Yn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=_(),t.state={permisos:[],Permisos:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.con.listaPermisos((function(e){t.setState({Permisos:e})})),this.con.PermisosRol(this.props.rol.id,(function(e){t.setState({permisos:e.permisos.map((function(t){return t.id}))})}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.close,c=e.open,s=e.title,n=this.state.Permisos;return Object(k.jsxs)(dt.a,{animation:!0,centered:!0,show:c,onHide:a,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:s}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsx)(ut.a,{children:Object(k.jsx)(ot.a,{md:12,children:n.map((function(e){return Object(k.jsx)(F.a,{onClick:t.click.bind(t,e.id),variant:t.selected(e.id),children:e.nombre})}))})})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{className:"float-right",onClick:this.save.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-o"})," GUARDAR"]})})]})}},{key:"selected",value:function(t){return this.state.permisos.some((function(e){return e===t}))?"success":"default"}},{key:"click",value:function(t){var e=this.state.permisos;e.every((function(e){return e!==t}))?this.setState({permisos:[].concat(Object(Z.a)(e),[t])}):this.setState({permisos:e.filter((function(e){return e!==t}))})}},{key:"save",value:function(){var t=this,e=this.props.rol.id,a=this.state.permisos;this.con.actualizarRol(e,{permisos:a},(function(e){t.props.add(e),t.props.close()}))}}]),a}(s.a.Component),Zn=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).bucarLabel=["nombre"],t.con=_(),t}return Object(u.a)(a,[{key:"Row",value:function(t){return Object(k.jsx)(Wn,Object(V.a)(Object(V.a)({},t),{},{add:this.set.bind(this)}))}},{key:"Title",value:function(){return Object(k.jsx)(Jn,{actualizar:this.set.bind(this)})}},{key:"set",value:function(){var t=this;this.con.listaRoles((function(e){t.setState({itens:e})}))}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{width:"calc(100% - 170PX)",label:"nombre",children:"NOMBRE"}),Object(k.jsx)(t,{width:"170PX",children:"ACCIONES"})]})}},{key:"Buscador",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Aa.a,{}),Object(k.jsxs)(ut.a,{className:"d-flex",style:{paddingBottom:"15px"},children:[Object(k.jsx)(ot.a,{md:9,className:"mr-auto",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"BUSCAR"})}),Object(k.jsx)(Et,{upper:!0,setData:this.setState,update:"buscar",value:this.state.buscar}),Object(k.jsx)(Ot.a.Append,{children:Object(k.jsxs)(F.a,{variant:"primary",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR"]})})]})}),Object(k.jsxs)(F.a,{size:"sm",onClick:this.set.bind(this),"data-tip":"ACTUALIZAR LISTA",variant:"info",children:[Object(k.jsx)("i",{className:"fa fa-refresh"})," ACTUALIZAR"]})]})]})}}]),a}(Be);function Wn(t){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),s=a[0],n=a[1];return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t.nombre}),Object(k.jsxs)("td",{style:{textAlign:"right"},children:[Object(k.jsx)(Yn,{add:t.add,open:s,title:"EDITAR ROL: "+t.nombre,rol:t,close:function(){n(!1)}},"editRol"+t.id),Object(k.jsx)(Aa.a,{}),Object(k.jsx)(F.a,{variant:"primary","data-tip":"EDITAR",onClick:function(){n(!0)},children:Object(k.jsx)("i",{className:"fa fa-edit"})})]})]})}function Jn(t){var e=t.actualizar,a=Object(c.useState)(!1),s=Object(j.a)(a,2),n=s[0],r=s[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Hn,{actualizar:e,open:n,close:function(){r(!1)}}),Object(k.jsx)("h4",{className:"mr-auto",children:"LISTA DE ROLES"}),Object(k.jsxs)(F.a,{onClick:function(){r(!0)},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-plus"})," NUEVO ROL"]})]})}function Kn(t){var e=t.title,a=t.children;return Object(k.jsxs)(_t.a,{as:Vt.a,children:[Object(k.jsx)(_t.a.Header,{as:Vt.a.Toggle,eventKey:"1",className:"bg-info",children:Object(k.jsx)("h6",{children:e})}),Object(k.jsx)(Vt.a.Collapse,{eventKey:"1",children:Object(k.jsx)(Rt.a,{vertical:!0,style:{width:"100%"},children:a})})]})}function qn(t){var e=t.p,a=t.permiso,c=t.to,s=t.children;return e.some((function(t){return t===a}))?Object(k.jsx)(i.b,{className:"btn btn-default",to:c,children:s}):Object(k.jsx)(k.Fragment,{})}function Qn(){var t=Object(c.useContext)(et),e=[];return null!==t&&(e=t.data.Permisos),null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"CONFIG"===t}))?Object(k.jsxs)(ut.a,{style:{minHeight:"calc(100vh - 145px)"},children:[Object(k.jsxs)(ot.a,{md:3,style:{minHeight:"calc(100vh - 145px)"},children:[Object(k.jsxs)(Kn,{title:"CONFIGURACIONES GENERALES",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/config/empresa",children:"EMPRESA"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/config/region",children:"REGION"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/config/ventas",children:"VENTAS"}),Object(k.jsx)(qn,{p:e,to:"/config/moneda",permiso:"MONEDA",children:"MONEDAS"}),Object(k.jsx)(qn,{p:e,to:"/config/roles",permiso:"USUARIO",children:"ROLES"})]}),Object(k.jsxs)(Kn,{title:"CONFIGURACIONES DE IMPRESI\xd3N",children:[Object(k.jsx)(qn,{p:e,to:"/config/orden",permiso:"ORDEN",children:"ORDEN DE COMPRA"}),Object(k.jsx)(qn,{p:e,to:"/config/compra",permiso:"COMPRA",children:"COMPRA"}),Object(k.jsx)(qn,{p:e,to:"/config/cotizacion",permiso:"COTIZACION",children:"COTIZACION"}),Object(k.jsx)(qn,{p:e,to:"/config/nota",permiso:"NOTA",children:"NOTA DE ENTREGA"}),Object(k.jsx)(qn,{p:e,to:"/config/factura",permiso:"FACTURA",children:"FACTURA"}),Object(k.jsx)(qn,{p:e,to:"/config/ajustes",permiso:"AJUSTE",children:"AJUSTE DE INVENTARIO"}),Object(k.jsx)(qn,{p:e,to:"/config/reportes",permiso:"REPORTE",children:"REPORTES"})]}),Object(k.jsxs)(Kn,{title:"CONFIGURACIONES DE PRODUCTO",children:[Object(k.jsx)(qn,{p:e,to:"/config/departamentos",permiso:"DEPARTAMENTO",children:"DEPARTAMENTOS"}),Object(k.jsx)(qn,{p:e,to:"/config/tipo_producto",permiso:"TIPO",children:"TIPO DE PRODUCTO"}),Object(k.jsx)(qn,{p:e,to:"/config/unidades",permiso:"UNIDAD",children:"UNIDADES DE MEDIDA"}),Object(k.jsx)(qn,{p:e,to:"/config/costos",permiso:"PRODUCTO",children:"MANEJO DE COSTOS"}),Object(k.jsx)(qn,{p:e,to:"/config/utilidades",permiso:"PRODUCTO",children:"UTILIDADES DEFAULT"})]})]}),Object(k.jsxs)(ot.a,{md:9,style:{minHeight:"calc(100vh - 145px)"},children:[Object(k.jsx)(o.a,{path:"/config/ventas",component:bn}),Object(k.jsx)(o.a,{path:"/config/region",component:pn}),Object(k.jsx)(Xn,{path:"/config/orden",component:Ln,permiso:"ORDEN"}),Object(k.jsx)(Xn,{path:"/config/compra",component:Fn,permiso:"COMPRA"}),Object(k.jsx)(Xn,{path:"/config/cotizacion",component:Mn,permiso:"COTIZACION"}),Object(k.jsx)(Xn,{path:"/config/nota",component:Bn,permiso:"NOTA"}),Object(k.jsx)(Xn,{path:"/config/factura",component:vn,permiso:"FACTURA"}),Object(k.jsx)(Xn,{path:"/config/ajustes",component:Vn,permiso:"AJUSTE"}),Object(k.jsx)(Xn,{path:"/config/reportes",component:_n,permiso:"REPORTE"}),Object(k.jsx)(o.a,{path:"/config/empresa",component:mn}),Object(k.jsx)(Xn,{path:"/config/departamentos",component:Cn,permiso:"DEPARTAMENTO"}),Object(k.jsx)(Xn,{path:"/config/tipo_producto",component:Sn,permiso:"TIPO"}),Object(k.jsx)(Xn,{path:"/config/unidades",component:kn,permiso:"UNIDAD"}),Object(k.jsx)(Xn,{path:"/config/moneda",component:Un,permiso:"MONEDA"}),Object(k.jsx)(Xn,{path:"/config/costos",component:zn,permiso:"PRODUCTO"}),Object(k.jsx)(Xn,{path:"/config/utilidades",component:Gn,permiso:"PRODUCTO"}),Object(k.jsx)(Xn,{path:"/config/roles",component:Zn,permiso:"USUARIO"})]})]}):Object(k.jsx)(js,{})}function Xn(t){var e=t.component,a=t.path,s=t.permiso,n=Object(c.useContext)(et);return null!==n&&void 0!==n&&n.data.Permisos.some((function(t){return t===s}))?Object(k.jsx)(o.a,{path:a,component:e}):Object(k.jsx)(js,{})}var $n=new Date,tr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.aux,a=t.date2,c=t.date1,s=t.setDate;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONES RANGO DE TIEMPO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(F.a,{className:"pull-left",variant:"rango"===e?"success":"default",style:{width:"300px"},onClick:function(){s({aux:"rango",date1:$n.getFullYear()+"-"+($n.getMonth()+1)+"-"+($n.getDate()+1),date2:$n.getFullYear()+"-"+($n.getMonth()+1)+"-"+($n.getDate()+1)})},children:"POR RANGO DE FECHAS"})}),Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"DEL"})}),Object(k.jsx)(vt,{disabled:"rango"!==e,setData:s,update:"date1",value:c}),Object(k.jsx)(Ot.a.Text,{children:"AL"}),Object(k.jsx)(vt,{disabled:"rango"!==e,setData:s,update:"date2",value:a})]})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(F.a,{className:"pull-left",variant:"mes"===e?"success":"default",style:{width:"160px"},onClick:function(){s({aux:"mes",date1:$n.getFullYear()+"",date2:$n.getMonth()+1+""})},children:"POR MES"}),Object(k.jsx)(bt.a,{as:"select",disabled:"mes"!==e,onChange:this.setChangeMont.bind(this),value:a,children:"mes"===e?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("option",{value:"1",children:"ENERO "}),Object(k.jsx)("option",{value:"2",children:"FEBRERO "}),Object(k.jsx)("option",{value:"3",children:"MARZO "}),Object(k.jsx)("option",{value:"4",children:"ABRIL "}),Object(k.jsx)("option",{value:"5",children:"MAYO "}),Object(k.jsx)("option",{value:"6",children:"JUNIO "}),Object(k.jsx)("option",{value:"7",children:"JULIO "}),Object(k.jsx)("option",{value:"8",children:"AGOSTO "}),Object(k.jsx)("option",{value:"9",children:"SEPTIEMBRE "}),Object(k.jsx)("option",{value:"10",children:"OCTUBRE "}),Object(k.jsx)("option",{value:"11",children:"NOVIEMBRE "}),Object(k.jsx)("option",{value:"12",children:"DICIEMBRE "})]}):Object(k.jsx)(k.Fragment,{})}),Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"DEL"})}),Object(k.jsx)(bt.a,{as:"select",disabled:"mes"!==e,onChange:this.setChangeYear.bind(this),value:c,children:"mes"===e?Object(k.jsx)(k.Fragment,{children:this.getYear()}):Object(k.jsx)(k.Fragment,{})})]})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(ot.a,{xs:12,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(F.a,{className:"pull-left",variant:"ano"===e?"success":"default",style:{width:"170px"},onClick:function(){s({aux:"ano",date1:$n.getFullYear()+""})},children:"POR A\xd1O"}),Object(k.jsx)(bt.a,{as:"select",disabled:"ano"!==e,onChange:this.setChangeYear.bind(this),value:c,children:"ano"===e?Object(k.jsx)(k.Fragment,{children:this.getYear()}):Object(k.jsx)(k.Fragment,{})})]})})]})})]})}},{key:"getYear",value:function(){for(var t=(new Date).getFullYear(),e=[],a=2017;a<t;a++)e.push(Object(k.jsx)("option",{value:a,children:a}));return e.push(Object(k.jsx)("option",{value:t,children:t})),e}},{key:"setChangeYear",value:function(t){var e=t.currentTarget.value;this.props.setDate({date1:e})}},{key:"setChangeMont",value:function(t){var e=t.currentTarget.value;this.props.setDate({date2:e})}}]),a}(s.a.Component),er=new Date,ar=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={aux:"mes",date1:er.getFullYear()+"",date2:er.getMonth()+1+"",modal:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE VENTAS",open:n,url:"/api/Factura/reporte/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE VENTAS"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),cr=new Date,sr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={aux:"mes",date1:cr.getFullYear()+"",date2:cr.getMonth()+1+"",modal:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE COMPRAS",open:n,url:"/api/Compra/reporte/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE COMPRA"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),nr=new Date,rr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={user:1,aux:"mes",date1:nr.getFullYear()+"",date2:nr.getMonth()+1+"",modal:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.user;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE VENDEDORES",open:n,url:"/api/Factura/reporteVendedor/"+r+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE VENDEDORES"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR USUARIO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Qa,{change:function(e){t.setState({user:e})},defaultValue:r})})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),ir=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={modal:!1,departamento:"TODO",uso:"2",min:-1,max:-1,tipo:-1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.departamento,c=e.uso,s=e.min,n=e.max,r=e.modal,i=e.tipo;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE INVENTARIO",open:r,url:"/api/Producto/inventario/"+a+"/"+c+"/"+i+"/"+s+"/"+n,close:function(){t.setState({modal:!r})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE INVENTARIO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR DEPARTAMENTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Wa,{change:function(e){t.setState({departamento:e})},defaultValue:a})})]}),Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR USO DE PRODUCTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(rc,{change:function(e){t.setState({tipo:e})},defaultValue:i})})]}),Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR USO DE PRODUCTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsxs)(Rt.a,{style:{width:"100%"},children:[Object(k.jsx)(F.a,{style:{width:"33.333333333333%"},onClick:function(){t.setState({uso:"2"})},variant:"2"===c?"success":"default",children:"TODOS LO PRODUCTOS"}),Object(k.jsx)(F.a,{style:{width:"33.333333333333%"},onClick:function(){t.setState({uso:"1"})},variant:"1"===c?"success":"default",children:"PARA LA VENTA"}),Object(k.jsx)(F.a,{style:{width:"33.333333333333%"},onClick:function(){t.setState({uso:"0"})},variant:"0"===c?"success":"default",children:"PARA USO INTERNO"})]})})]}),Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR USO DE EXISTENCIA EN INVENTARIO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"DISPONIBILIDAD DESDE"})}),Object(k.jsx)(At,{min:0,step:"0.01",setData:this.setState.bind(this),value:s,update:"min"}),Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"HASTA"})}),Object(k.jsx)(At,{min:0,step:"0.01",setData:this.setState.bind(this),value:n,update:"max"})]}),Object(k.jsx)("p",{children:"-1 NO PALICARA EL FILTRO"})]})]}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!r})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),or=new Date,lr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={producto:ye,aux:"mes",date1:or.getFullYear()+"",date2:or.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.producto,i=e.modalProductos;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"HISTORICO DE UN PRODUCTO",open:n,url:"/api/Producto/reporte/"+r.codigo+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"HISTORICO DE UN PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(qa,{type:"Seleccion",open:i,add:this.addProducto.bind(this),close:function(){t.setState({modalProductos:!1})}}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.codigo}),Object(k.jsx)("span",{style:{width:"calc(100% - 243px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.descripcion}),Object(k.jsxs)(F.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){t.setState({modalProductos:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})]})]})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}},{key:"addProducto",value:function(t){this.setState({producto:t,modalProductos:!1})}}]),a}(s.a.Component),jr=new Date,dr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={aux:"mes",date1:jr.getFullYear()+"",date2:jr.getMonth()+1+"",modal:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE COTIZACIONES",open:n,url:"/api/Cotizacion/reporte/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE COTIZACIONES"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),ur=new Date,hr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={aux:"mes",date1:ur.getFullYear()+"",date2:ur.getMonth()+1+"",modal:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE NOTAS DE ENTREGA",open:n,url:"/api/Nota/reporte/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE NOTAS DE ENTREGA"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),Or=new Date,br=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={aux:"mes",date1:Or.getFullYear()+"",date2:Or.getMonth()+1+"",modal:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"REPORTE DE ORDENES DE COMPRA",open:n,url:"/api/Orden/reporte/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"REPORTE DE ORDENES DE COMPRA"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),xr=new Date,pr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={producto:ye,aux:"mes",date1:xr.getFullYear()+"",date2:xr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.producto,i=e.modalProductos;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"COMPRAS DE UN PRODUCTO",open:n,url:"/api/Compra/de/"+r.codigo+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"COMPRAS DE UN PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(qa,{type:"Seleccion",open:i,add:this.addProducto.bind(this),close:function(){t.setState({modalProductos:!1})}}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.codigo}),Object(k.jsx)("span",{style:{width:"calc(100% - 243px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.descripcion}),Object(k.jsxs)(F.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){t.setState({modalProductos:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})]})]})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}},{key:"addProducto",value:function(t){this.setState({producto:t,modalProductos:!1})}}]),a}(s.a.Component),fr=new Date,vr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={producto:ye,aux:"mes",date1:fr.getFullYear()+"",date2:fr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.producto,i=e.modalProductos;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"VENTAS DE UN PRODUCTO",open:n,url:"/api/Factura/de/"+r.codigo+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"VENTAS DE UN PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(qa,{type:"Seleccion",open:i,add:this.addProducto.bind(this),close:function(){t.setState({modalProductos:!1})}}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.codigo}),Object(k.jsx)("span",{style:{width:"calc(100% - 243px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.descripcion}),Object(k.jsxs)(F.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){t.setState({modalProductos:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})]})]})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}},{key:"addProducto",value:function(t){this.setState({producto:t,modalProductos:!1})}}]),a}(s.a.Component),mr=new Date,Ar=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={producto:ye,aux:"mes",date1:mr.getFullYear()+"",date2:mr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.producto,i=e.modalProductos;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"COTIZACIONES DE UN PRODUCTO",open:n,url:"/api/Cotizacion/de/"+r.codigo+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"COTIZACIONES DE UN PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(qa,{type:"Seleccion",open:i,add:this.addProducto.bind(this),close:function(){t.setState({modalProductos:!1})}}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.codigo}),Object(k.jsx)("span",{style:{width:"calc(100% - 243px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.descripcion}),Object(k.jsxs)(F.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){t.setState({modalProductos:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})]})]})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}},{key:"addProducto",value:function(t){this.setState({producto:t,modalProductos:!1})}}]),a}(s.a.Component),gr=new Date,Er=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={producto:ye,aux:"mes",date1:gr.getFullYear()+"",date2:gr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.producto,i=e.modalProductos;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"NOTAS DE ENTREGA DE UN PRODUCTO",open:n,url:"/api/Nota/de/"+r.codigo+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"NOTAS DE ENTREGA DE UN PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(qa,{type:"Seleccion",open:i,add:this.addProducto.bind(this),close:function(){t.setState({modalProductos:!1})}}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.codigo}),Object(k.jsx)("span",{style:{width:"calc(100% - 243px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.descripcion}),Object(k.jsxs)(F.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){t.setState({modalProductos:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})]})]})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}},{key:"addProducto",value:function(t){this.setState({producto:t,modalProductos:!1})}}]),a}(s.a.Component),Cr=new Date,yr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={producto:ye,aux:"mes",date1:Cr.getFullYear()+"",date2:Cr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.producto,i=e.modalProductos;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"ORDENES DE COMPRA DE UN PRODUCTO",open:n,url:"/api/Orden/de/"+r.codigo+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"ORDENES DE COMPRA DE UN PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"SELECCIONAR PRODUCTO"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsx)(qa,{type:"Seleccion",open:i,add:this.addProducto.bind(this),close:function(){t.setState({modalProductos:!1})}}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)("span",{style:{width:"140px",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.codigo}),Object(k.jsx)("span",{style:{width:"calc(100% - 243px)",position:"relative",backgroundColor:"#eee"},className:"form-control",children:r.descripcion}),Object(k.jsxs)(F.a,{style:{position:"relative",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){t.setState({modalProductos:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-search"})," BUSCAR"]})]})]})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}},{key:"addProducto",value:function(t){this.setState({producto:t,modalProductos:!1})}}]),a}(s.a.Component),Nr=new Date,Rr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={departamento:"TODO",aux:"mes",date1:Nr.getFullYear()+"",date2:Nr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.departamento;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"PRODUCTOS EN COMPRAS",open:n,url:"/api/Compra/productos/"+r+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"PRODUCTOS EN COMPRAS"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR DEPARTAMENTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Wa,{change:function(e){t.setState({departamento:e})},defaultValue:r})})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),Sr=new Date,Tr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={departamento:"TODO",aux:"mes",date1:Sr.getFullYear()+"",date2:Sr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.departamento;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"PRODUCTOS EN COTIZACIONES",open:n,url:"/api/Cotizacion/productos/"+r+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"PRODUCTOS EN COTIZACIONES"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR DEPARTAMENTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Wa,{change:function(e){t.setState({departamento:e})},defaultValue:r})})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),Dr=new Date,Ir=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={departamento:"TODO",aux:"mes",date1:Dr.getFullYear()+"",date2:Dr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.departamento;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"PRODUCTOS EN VENTAS",open:n,url:"/api/Factura/productos/"+r+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"PRODUCTOS EN VENTAS"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR DEPARTAMENTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Wa,{change:function(e){t.setState({departamento:e})},defaultValue:r})})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),kr=new Date,Pr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={departamento:"TODO",aux:"mes",date1:kr.getFullYear()+"",date2:kr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.departamento;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"PRODUCTOS EN NOTAS DE ENTREGA",open:n,url:"/api/Nota/productos/"+r+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"PRODUCTOS EN NOTAS DE ENTREGA"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR DEPARTAMENTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Wa,{change:function(e){t.setState({departamento:e})},defaultValue:r})})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),wr=new Date,Ur=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={departamento:"TODO",aux:"mes",date1:wr.getFullYear()+"",date2:wr.getMonth()+1+"",modal:!1,modalProductos:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.aux,c=e.date2,s=e.date1,n=e.modal,r=e.departamento;return Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(Uc,{title:"PRODUCTOS EN ORDENES DE COMPRA",open:n,url:"/api/Orden/productos/"+r+"/"+a+"/"+s+"/"+c,close:function(){t.setState({modal:!n})}}),Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h3",{children:"PRODUCTOS EN ORDENES DE COMPRA"})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{className:"bg-info",children:Object(k.jsx)("h6",{children:"FILTRAR POR DEPARTAMENTO"})}),Object(k.jsx)(_t.a.Body,{children:Object(k.jsx)(Wa,{change:function(e){t.setState({departamento:e})},defaultValue:r})})]}),Object(k.jsx)(tr,{aux:a,date2:c,date1:s,setDate:this.setState.bind(this)}),Object(k.jsxs)(F.a,{className:"float-right",onClick:function(){t.setState({modal:!n})},variant:"primary",children:[Object(k.jsx)("span",{className:"glyphicon glyphicon-print"})," IMPRIMIR"]})]})]})}}]),a}(s.a.Component),Lr=a(75),Fr=a.n(Lr);function Mr(t){var e=t.year,a=t.mont,c=t.setData;return Object(k.jsxs)(Ot.a,{children:[Object(k.jsxs)(Ot.a.Prepend,{children:[Object(k.jsx)(Ot.a.Text,{children:"seleccionar mes y a\xf1o"}),Object(k.jsx)(Ot.a.Text,{children:"a\xf1o"})]}),Object(k.jsx)(bt.a,{onChange:function(t){return c({year:parseInt(t.currentTarget.value)})},as:"select",defaultValue:e,children:function(){for(var t=parseInt(Fr()().format("YYYY")),e=[],a=2017;a<t;a++)e.push(Object(k.jsx)("option",{value:a,children:a}));return e.push(Object(k.jsx)("option",{value:t,children:t})),e}()}),Object(k.jsxs)(Ot.a.Append,{children:[Object(k.jsx)(Ot.a.Text,{children:"mes"}),Object(k.jsx)("div",{})]}),Object(k.jsxs)(bt.a,{onChange:function(t){return c({mont:parseInt(t.currentTarget.value)})},as:"select",defaultValue:a,children:[Object(k.jsx)("option",{value:0,children:"Todo el a\xf1o "}),Object(k.jsx)("option",{value:1,children:"ENERO "}),Object(k.jsx)("option",{value:2,children:"FEBRERO "}),Object(k.jsx)("option",{value:3,children:"MARZO "}),Object(k.jsx)("option",{value:4,children:"ABRIL "}),Object(k.jsx)("option",{value:5,children:"MAYO "}),Object(k.jsx)("option",{value:6,children:"JUNIO "}),Object(k.jsx)("option",{value:7,children:"JULIO "}),Object(k.jsx)("option",{value:8,children:"AGOSTO "}),Object(k.jsx)("option",{value:9,children:"SEPTIEMBRE "}),Object(k.jsx)("option",{value:10,children:"OCTUBRE "}),Object(k.jsx)("option",{value:11,children:"NOVIEMBRE "}),Object(k.jsx)("option",{value:12,children:"DICIEMBRE "})]})]})}var Br=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).estados=["CANCELADO","PENDIENTE","PROCESADA"],c.api="Cotizacion",c.title="",c.state={title:"",values:c.estados.map((function(t){return[t,0]}))},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.title,a=t.values;return Object(k.jsx)("div",{className:"center "+this.props.lugar,children:Object(k.jsxs)("div",{style:{textAlign:"center"},children:[this.isData()?Object(k.jsx)(ea,{title:e,values:a}):Object(k.jsx)("div",{style:{gridAutoRows:"18rem"},className:"center",children:Object(k.jsx)("div",{style:{gridAutoRows:"12rem"},className:"no-data bg-black center",children:Object(k.jsxs)("b",{children:["SIN REGISTROS",Object(k.jsx)("br",{})," EN EL ",this.props.no]})})}),Object(k.jsx)("h5",{children:this.title})]})})}},{key:"isData",value:function(){return!!this.state.values.some((function(t){return t[1]>0}))}},{key:"componentDidMount",value:function(){this.send()}},{key:"componentDidUpdate",value:function(t){t.rango!==this.props.rango&&this.send()}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/"+this.api+"/torta/"+this.props.rango,{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,this.setState({values:this.estados.map((function(t,e){var a=c.find((function(t){return t.estatus===e}));return[t,a?a.cantidad:0]}))}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),this.setState({values:[]});case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}()}]),a}(s.a.Component),_r=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","SIN FACTURA","FACTURADA"],t.api="Compra",t.title="COMPRAS",t}return Object(u.a)(a)}(Br),Vr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","PENDIENTE","PROCESADA"],t.api="Cotizacion",t.title="COTIZACIONES",t}return Object(u.a)(a)}(Br),zr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","ENTREGADA","FACTURADA"],t.api="Nota",t.title="NOTAS DE ENTREGA",t}return Object(u.a)(a)}(Br),Gr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={title:"",values:[]},t.estados=["CANCELADO","","FACTURADA"],t.api="Factura",t.title="FACTURAS",t}return Object(u.a)(a)}(Br),Hr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={dias:[]},c}return Object(u.a)(a,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"ventas",style:{width:"100%"},children:Object(k.jsx)(We,{label:["DIA","VENTAS"],values:this.get(),title:"VENTAS DEL MES",hAxisTitle:"DIA DEL MES"})})}},{key:"get",value:function(){return this.state.dias.sort((function(t,e){return t[0]-e[0]}))}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Factura/linea/"+this.props.rango,{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,this.setState({dias:c}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),this.setState({dias:[]});case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.send()}}]),a}(s.a.Component),Yr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={dias:[]},c}return Object(u.a)(a,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"ventas",style:{width:"100%"},children:Object(k.jsx)(oa,{label:["MES","VENTAS","EQUILIBRIO"],values:this.get(),title:"VENTAS DEL A\xd1O"})})}},{key:"get",value:function(){return this.state.dias.sort((function(t,e){return t[0]-e[0]})).map((function(t){return[t[0]+"",t[1],t[2]]}))}},{key:"send",value:function(){var t=Object(b.a)(p.a.mark((function t(){var e,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem("Authorization"),t.next=4,fetch("/api/Factura/linea/"+this.props.rango,{headers:{Authorization:"Bearer "+e}});case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,this.setState({dias:c}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),this.setState({dias:[]});case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.send()}}]),a}(s.a.Component),Zr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;Object(d.a)(this,a),c=e.call(this,t);var s=new Date,n=s.getFullYear(),r=s.getMonth()+1;return c.state={year:n,mont:r},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this.context.data.Permisos,e=this.state,a=e.year,c=e.mont,s="/ano/"+a,n="A\xd1O";return c>0&&(n="MES",s="/mes/"+a+"/"+c),Object(k.jsxs)(_t.a,{children:[Object(k.jsx)(_t.a.Header,{children:Object(k.jsx)(Mr,{mont:c,year:a,setData:this.setState.bind(this)})}),Object(k.jsxs)(_t.a.Body,{children:[Object(k.jsxs)(ut.a,{children:[t.some((function(t){return"ORDEN"!==t}))?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(_r,{ref:"Compra"+s,lugar:"col-3",rango:s,no:n})}):Object(k.jsx)(k.Fragment,{}),t.some((function(t){return"COTIZACION"!==t}))?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Vr,{ref:"Cotizacion"+s,lugar:"col-3",rango:s,no:n})}):Object(k.jsx)(k.Fragment,{}),t.some((function(t){return"NOTA"!==t}))?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(zr,{ref:"Nota"+s,lugar:"col-3",rango:s,no:n})}):Object(k.jsx)(k.Fragment,{}),t.some((function(t){return"FACTURA"!==t}))?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Gr,{ref:"Factura"+s,lugar:"col-3",rango:s,no:n})}):Object(k.jsx)(k.Fragment,{})]}),Object(k.jsx)(ut.a,{children:"MES"===n?Object(k.jsx)(Hr,{rango:s},"ventas"+s):Object(k.jsx)(Yr,{rango:s},"ventas"+s)})]})]})}}]),a}(s.a.Component);Zr.contextType=et;var Wr=Zr;function Jr(){var t=Object(c.useContext)(et),e=[];return null!==t&&(e=t.data.Permisos),Object(k.jsxs)(ut.a,{style:{minHeight:"calc(100vh - 145px)"},children:[Object(k.jsxs)(ot.a,{md:3,style:{minHeight:"calc(100vh - 145px)"},children:[e.some((function(t){return"FACTURA"===t}))?Object(k.jsxs)(Kn,{title:"REPORTES DE VENTAS",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ventas",children:"VENTAS"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ventas/vendedor",children:"VENDEDORES"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ventas/de",children:"VENTAS DE UN PORDUCTO"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ventas/productos",children:"PRODUCTOS POR VENTAS"})]}):Object(k.jsx)(k.Fragment,{}),e.some((function(t){return"NOTA"===t}))?Object(k.jsxs)(Kn,{title:"REPORTES DE NOTAS DE ENTREGA",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/notas",children:"NOTAS DE ENTREGA"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/notas/de",children:"N.E DE UN PORDUCTO"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/notas/productos",children:"PRODUCTOS POR N.E"})]}):Object(k.jsx)(k.Fragment,{}),e.some((function(t){return"COTIZACION"===t}))?Object(k.jsxs)(Kn,{title:"REPORTES DE COTIZACIONES",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/cotizacion",children:"COTIZACIONES"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/cotizacion/de",children:"COTIZACIONES DE UN PORDUCTO"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/cotizacion/productos",children:"PRODUCTOS POR COTIZACIONES"})]}):Object(k.jsx)(k.Fragment,{}),e.some((function(t){return"FACTURA"===t}))?Object(k.jsxs)(Kn,{title:"REPORTES DE COMPRAS",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/compras",children:"COMPRAS"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/compras/de",children:"COMPRAS DE UN PORDUCTO"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/compras/productos",children:"PRODUCTOS POR COMPRAS"})]}):Object(k.jsx)(k.Fragment,{}),e.some((function(t){return"COMPRA"===t}))?Object(k.jsxs)(Kn,{title:"REPORTES DE ORDENES DE COMPRA",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ordenes",children:"ORDENES DE COMPRA"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ordenes/de",children:"O.C DE UN PORDUCTO"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/ordenes/productos",children:"PRODUCTOS POR O.C"})]}):Object(k.jsx)(k.Fragment,{}),e.some((function(t){return"PRODUCTO"===t}))?Object(k.jsxs)(Kn,{title:"REPORTES DE INVENTARIO",children:[Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/inventario",children:"INVENTARIO"}),Object(k.jsx)(i.b,{className:"btn btn-default",to:"/reporte/inventario/historico",children:"HISTORICO"})]}):Object(k.jsx)(k.Fragment,{})]}),Object(k.jsxs)(ot.a,{md:9,style:{minHeight:"calc(100vh - 145px)"},children:[Object(k.jsx)(o.a,{exact:!0,path:"/reporte",component:Wr}),Object(k.jsx)(o.a,{exact:!0,path:"/reporte/ventas",component:ar}),Object(k.jsx)(o.a,{path:"/reporte/ventas/vendedor",component:rr}),Object(k.jsx)(o.a,{path:"/reporte/ventas/de",component:vr}),Object(k.jsx)(o.a,{path:"/reporte/ventas/productos",component:Ir}),Object(k.jsx)(o.a,{exact:!0,path:"/reporte/notas",component:hr}),Object(k.jsx)(o.a,{path:"/reporte/notas/de",component:Er}),Object(k.jsx)(o.a,{path:"/reporte/notas/productos",component:Pr}),Object(k.jsx)(o.a,{exact:!0,path:"/reporte/cotizacion",component:dr}),Object(k.jsx)(o.a,{path:"/reporte/cotizacion/de",component:Ar}),Object(k.jsx)(o.a,{path:"/reporte/cotizacion/productos",component:Tr}),Object(k.jsx)(o.a,{exact:!0,path:"/reporte/compras",component:sr}),Object(k.jsx)(o.a,{path:"/reporte/compras/de",component:pr}),Object(k.jsx)(o.a,{path:"/reporte/compras/productos",component:Rr}),Object(k.jsx)(o.a,{exact:!0,path:"/reporte/ordenes",component:br}),Object(k.jsx)(o.a,{path:"/reporte/ordenes/de",component:yr}),Object(k.jsx)(o.a,{path:"/reporte/ordenes/productos",component:Ur}),Object(k.jsx)(o.a,{exact:!0,path:"/reporte/inventario",component:ir}),Object(k.jsx)(o.a,{path:"/reporte/inventario/historico",component:lr})]})]})}function Kr(t){var e=t.fecha_init,a=t.fecha_fin,s=t.status,n=t.user,r=t.estatus,i=t.productos,o=t.tipo,l=t.setData,d=Object(c.useState)(!1),u=Object(j.a)(d,2),h=u[0],O=u[1];return Object(k.jsxs)(ut.a,{className:"form",children:[Object(k.jsx)(qa,{type:"Seleccion",open:h,add:function(t){return l({productos:[].concat(Object(Z.a)(i),[t])})},close:function(){O(!1)}}),Object(k.jsx)(ot.a,{md:12,children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"RANGO DE FECHAS DEL"})}),Object(k.jsx)(vt,{value:e,setData:l,update:"fecha_init"}),Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"AL"})}),Object(k.jsx)(vt,{value:a,setData:l,update:"fecha_fin"}),Object(k.jsx)(F.a,{onClick:function(){l({fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa"})},"data-tip":"LIMPIAR FECHAS",variant:"danger",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})}),Object(k.jsxs)(ot.a,{md:6,children:[Object(k.jsx)("br",{}),Object(k.jsxs)("select",{"data-tip":"FILTRAR POR TIPO DE AJUSTE",onChange:function(t){return l({tipo:t.currentTarget.value})},className:"form-control",value:o,children:[Object(k.jsx)("option",{value:"",children:"TODOS LOS TIPOS DE AJUSTE"}),Object(k.jsx)("option",{value:"SALIDA",children:"AJUSTE DE SALIDA"}),Object(k.jsx)("option",{value:"ENTRADA",children:"AJUSTE DE ENTRADA"}),Object(k.jsx)("option",{value:"COSTO",children:"AJUSTE DE COSTO"}),Object(k.jsx)("option",{value:"UTILIDAD",children:"AJUSTE DE UTILIDAD"})]})]}),Object(k.jsxs)(ot.a,{md:6,children:[Object(k.jsx)("br",{}),Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:function(t){return l({status:parseInt(t.currentTarget.value)})},className:"form-control",value:s,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS AJUSTES"}),r[0]?Object(k.jsx)("option",{value:0,children:r[0]}):Object(k.jsx)(k.Fragment,{}),r[1]?Object(k.jsx)("option",{value:1,children:r[1]}):Object(k.jsx)(k.Fragment,{}),r[2]?Object(k.jsx)("option",{value:2,children:r[2]}):Object(k.jsx)(k.Fragment,{})]})]}),Object(k.jsxs)(ot.a,{"data-tip":"FILTRAR POR USUARIO QUE REALIZO LA OPERACION",md:9,children:[Object(k.jsx)("br",{}),Object(k.jsx)(Qa,{change:function(t){l({user:t})},defaultValue:n})]}),Object(k.jsxs)(ot.a,{md:3,style:{textAlign:"center"},children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{"data-tip":"FILTRAR POR LOS PRODUCTOS SELECCIONADOS",block:!0,onClick:function(){O(!0)},children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR PRODUCTOS"]})]}),Object(k.jsxs)(ot.a,{md:12,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Pt.a,{striped:!0,hover:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"10%"},className:"text-center",children:"CODIGO"}),Object(k.jsx)("th",{style:{width:"80%"},children:"DESCRIPCION"}),Object(k.jsx)("th",{style:{width:"10%"},children:"QUITAR"})]})}),Object(k.jsx)("tbody",{children:i.map((function(t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"text-center",children:t.codigo}),Object(k.jsx)("td",{children:t.descripcion}),Object(k.jsx)("td",{className:"text-center",children:Object(k.jsx)(F.a,{variant:"danger",onClick:function(){var e;e=t.codigo,l({productos:i.filter((function(t){return t.codigo!==e}))})},children:Object(k.jsx)("i",{className:"fa fa-ban"})})})]})}))})]})]})]})}var qr,Qr=Object(V.a)(Object(V.a)({},G),{},{tipo:"",status:0,detalles:[]}),Xr=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).clase="Ajuste",t.persistencia=1e3,t}return Object(u.a)(a,[{key:"commadUpdate",value:function(){this.updater(this.clase),this.updater("Producto")}}]),a}(R);function $r(){return void 0===qr&&(qr=new Xr),qr}var ti=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=$r(),t.state=Object(V.a)({},Qr),t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state.detalles;return void 0===e?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(dt.a,{size:"xl",centered:!0,dialogClassName:"modal-detalle",animation:!0,show:this.props.open,onHide:this.props.close,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsx)("h6",{className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:Object(k.jsx)("span",{children:Object(k.jsx)("b",{children:this.props.titulo})})})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsxs)(ot.a,{xs:"12",children:[Object(k.jsx)("b",{children:"TIPO DE AJUSTE:"})," ",this.state.tipo]}),Object(k.jsxs)(ot.a,{xs:"12",children:[Object(k.jsx)("b",{children:"NOTA:"})," ",this.state.nota]}),Object(k.jsxs)(Pt.a,{striped:!0,hover:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:"CODE"}),Object(k.jsx)("th",{children:"DESCRIPCION"}),this.th(),Object(k.jsx)("th",{children:"NOTA"})]})}),Object(k.jsx)("tbody",{children:e.map((function(e){switch(t.state.tipo){case"ENTRADA":case"SALIDA":return Object(k.jsx)(ei,{d:e});case"COSTO":return Object(k.jsx)(ai,{d:e});case"UTILIDAD":return Object(k.jsx)(ci,{d:e})}return Object(k.jsx)(k.Fragment,{})}))})]})]})})]})}},{key:"th",value:function(){switch(this.state.tipo){case"ENTRADA":case"SALIDA":return Object(k.jsx)("th",{style:{width:"60px",textAlign:"right"},children:"CANT"});case"COSTO":case"UTILIDAD":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"ANTERIOR"}),Object(k.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"ACTUAL"}),Object(k.jsx)("th",{style:{width:"100px",textAlign:"right"},children:"VIGENTE"})]})}return Object(k.jsx)(k.Fragment,{})}},{key:"dialog",value:function(){return Object(k.jsx)(dt.a.Dialog,{style:{width:"90%"}})}},{key:"componentDidMount",value:function(){this.set()}},{key:"set",value:function(){this.con.detalle(this.props.id,this.setState.bind(this))}}]),a}(s.a.Component);function ei(t){var e=t.d,a=e.codigo,c=e.descripcion,s=e.unidades,n=e.comentario;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"100px"},children:a}),Object(k.jsx)("td",{children:c}),Object(k.jsx)("td",{style:{width:"60px",textAlign:"right"},children:m(s)}),Object(k.jsx)("td",{children:n})]})}function ai(t){var e=t.d,a=e.codigo,c=e.descripcion,s=e.data,n=e.unidades,r=e.costo,i=(e.tasa,e.comentario),o=s;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"100px"},children:a}),Object(k.jsx)("td",{children:c}),Object(k.jsx)("td",{style:{width:"100px",textAlign:"right"},children:m(o.costo)}),Object(k.jsx)("td",{style:{width:"100px",textAlign:"right"},children:m(n)}),Object(k.jsx)("td",{style:{width:"100px",textAlign:"right"},children:n===r?"SI":"NO"}),Object(k.jsx)("td",{children:i})]})}function ci(t){var e=t.d,a=e.codigo,c=e.descripcion,s=e.data,n=e.comentario,r=s,i=r.actual,o=r.previo;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"100px"},children:a}),Object(k.jsx)("td",{children:c}),Object(k.jsxs)("td",{style:{width:"100px",textAlign:"right"},children:[m(o.precio1),Object(k.jsx)("br",{}),m(o.precio2),Object(k.jsx)("br",{}),m(o.precio3),Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{style:{width:"100px",textAlign:"right"},children:[m(i.precio1),Object(k.jsx)("br",{}),m(i.precio2),Object(k.jsx)("br",{}),m(i.precio3),Object(k.jsx)("br",{})]}),Object(k.jsx)("td",{style:{width:"100px",textAlign:"right"},children:o.precio1===i.precio1&&o.precio2===i.precio2&&o.precio3===i.precio3?"SI":"NO"}),Object(k.jsx)("td",{children:n})]})}var si=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=$r(),t.state={print:!1,detalles:!1,aux:!1,eliminar:!1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props.data;return Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"100px"},children:Object(k.jsx)(F.a,{"data-tip":"VER DETALLEA",onClick:function(){t.setState({detalles:!0})},variant:"link",children:v(e.codigo)})}),Object(k.jsx)(St,{width:"120px",align:"center",children:A(e.fecha)}),Object(k.jsx)(St,{width:"auto",align:"left",children:e.nombre}),Object(k.jsx)(St,{width:"100px",align:"center",children:e.tipo}),Object(k.jsx)(St,{width:"100px",align:"center",children:1===e.status?Object(k.jsx)("span",{className:"badge badge-success",children:"REALIZADO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"REVERTIDO"})}),Object(k.jsxs)("th",{style:{width:"70px"},children:[this.getModal(),Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"VER IMPRESION",variant:"primary",onClick:function(){t.setState({print:!0})},children:Object(k.jsx)("i",{className:"fa fa-download"})}),1===e.status?Object(k.jsx)(F.a,{"data-tip":"REVERTIR",variant:"danger",onClick:function(){t.setState({eliminar:!0})},children:Object(k.jsx)("i",{className:"fa fa fa-ban"})}):Object(k.jsx)(k.Fragment,{})]})]})]})}},{key:"getModal",value:function(){var t=this.props.data;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ra,{title:"REVERTIR EL AJUSTE N\xb0 "+v(t.codigo),msn:"ESTA SEGURO QUE REVERITRA LA EL AJUSTE N\xb0"+v(t.codigo)+"?",open:this.state.eliminar,close:this.close.bind(this),accion:this.cancelar.bind(this)},"ModalAlert"+t.tipo+v(t.codigo)),Object(k.jsx)(ti,{titulo:"DETALLES EL AJUSTE N\xb0 "+v(t.codigo),id:t.codigo,open:this.state.detalles,close:this.close.bind(this)},"ModalDetalles"+t.tipo+v(t.codigo)),Object(k.jsx)(Uc,{title:"IMPRIMIR AJUSTE N\xb0 "+v(t.codigo),url:"/api/Ajuste/PDF/"+t.codigo,open:this.state.print,close:this.close.bind(this)},"ModalPrint"+t.tipo+t.codigo)]})}},{key:"getStatus",value:function(){return 1===this.props.data.status?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVA"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"CANCELADA"})}},{key:"getButtons",value:function(){}},{key:"close",value:function(){this.setState({print:!1,detalles:!1,aux:!1,eliminar:!1})}},{key:"cancelar",value:function(){this.con.cancelar(this.props.data.codigo,this.props.update),this.close()}}]),a}(s.a.Component),ni=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.ajustes;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Ajustes",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:120}),Object(k.jsx)(ze.a,{field:"usuarios",title:"USUARIO",width:120}),Object(k.jsx)(ze.a,{field:"tipo",title:"TIPO",width:120})]})]})}}]),a}(s.a.Component),ri=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).permiso="AJUSTE",t.estado=Y,t.con=$r(),t.placeholder="BUSCAR AJUSTE",t.buscarEn=["codigo","nombre","fecha"],t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.productos=[],t.status=-1,t.user=-1,t.tipo="",t}return Object(u.a)(a,[{key:"Avansado",value:function(){var t=this.tipo,e=this.fecha_init,a=this.fecha_fin,c=this.status,s=this.user,n=this.productos,r=this.setAvanzados;return Object(k.jsx)(Kr,{setData:r.bind(this),estatus:["AJUSTES REVERTIDOS","AJUSTES REALIZADOS"],tipo:t,fecha_init:e,fecha_fin:a,status:c,user:s,productos:n})}},{key:"setAvanzados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.status,s=t.user,n=t.productos,r=t.tipo;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),s&&(this.user=s),c&&(this.status=c),0===c&&(this.status=c),r&&(this.tipo=r),n&&(this.productos=n),this.forceUpdate()}},{key:"filter",value:function(){var t=this.tipo,e=this.fecha_init,a=this.fecha_fin,c=this.status,s=this.user,n=this.productos,r=this.datetonomber;return this.ordenar().filter((function(i){if(i.status!==c&&-1!==c)return!1;if(i.usuario!==s&&-1!==s)return!1;if(i.tipo!==t&&""!==t)return!1;var o=r(i.fecha);return!("dd/mm/aaaa"!==a&&o>r(a))&&(!("dd/mm/aaaa"!==e&&o<r(e))&&!!n.every((function(t){return i.detalles.some((function(e){return t.codigo===e}))})))}))}},{key:"Title",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR AJUSTE"]}),Object(k.jsxs)(i.b,{to:"/producto/ajuste/nuevo",className:"btn btn-primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVO AJUSTE"]})]})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"100px",children:"N\xb0"}),Object(k.jsx)(t,{label:"fecha",width:"90px",children:"FECHA"}),Object(k.jsx)(t,{label:"nombre",width:"calc(100% - 470px)",children:"USUARIO"}),Object(k.jsx)(t,{width:"100px",children:"TIPO"}),Object(k.jsx)(t,{width:"100px",children:"ESTADO"}),Object(k.jsx)(t,{width:"70px",children:void 0})]})}},{key:"Row",value:function(t){return Object(k.jsx)(si,{update:this.set.bind(this),data:t},"cot"+t.codigo+t.status)}},{key:"getEstado",value:function(){return this.estado}},{key:"set",value:function(){var t=this;this.estado={status:2,hora:"...ACTUALIZANDO"},this.con.cargarListaCache((function(e){return t.setState({itens:t.arrayToAjuste(e)})})),this.con.cargarListaWeb((function(e){t.estado={status:3,hora:g(void 0)},t.setState({itens:t.arrayToAjuste(e)})}))}},{key:"Actualizar",value:function(){var t=this.getEstado().hora;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(ni,{ajustes:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),t]})]})}},{key:"arrayToAjuste",value:function(t){return t.map((function(t){return{codigo:t[0],usuario:t[1],nombre:t[2],tipo:t[3],fecha:t[4],nota:t[5],status:t[6],detalles:t[7],monto:0,rif:"",tasa:0}}))}}]),a}(Be),ii=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state=Object(V.a)(Object(V.a)({},t.producto),{},{open:!1}),c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.unidades,c=e.descripcion,s=e.codigo,n=e.open,r=e.comentario;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:s}),Object(k.jsx)(St,{width:"auto",children:c}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:this.setState,value:a,update:"unidades"})}),Object(k.jsx)(Tt,{width:"110px",children:Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{variant:"info",onClick:function(){t.setState({open:!t.state.open})},"data-tip":"DEJAR NOTA",children:Object(k.jsx)("span",{className:"fa fa-edit"})}),Object(k.jsx)(F.a,{variant:"danger",onClick:function(){t.props.remove(t.state)},"data-tip":"QUITAR PRODUCTO",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})})]}),Object(k.jsx)("tr",{style:{display:n?"":"none"},children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)(Ct,{maxLength:250,before:"NOTA INTERNA",setData:this.setState,value:r,update:"comentario"})})})]})}},{key:"componentWillUpdate",value:function(t,e){e.unidades===this.state.unidades&&e.comentario===this.state.comentario||this.props.edit(e)}}]),a}(s.a.Component),oi=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state=Object(V.a)(Object(V.a)({},t.producto),{},{open:!1}),c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.unidades,c=e.cantidad,s=e.descripcion,n=e.codigo,r=e.open,i=e.comentario;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:n}),Object(k.jsx)(St,{width:"auto",children:s}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:this.setState,value:a,update:"unidades"})}),Object(k.jsx)(Tt,{width:"120px",children:Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(c)})}),Object(k.jsx)(Tt,{width:"110px",children:Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{variant:"info",onClick:function(){t.setState({open:!t.state.open})},"data-tip":"DEJAR NOTA",children:Object(k.jsx)("span",{className:"fa fa-edit"})}),Object(k.jsx)(F.a,{variant:"danger",onClick:function(){t.props.remove(t.state)},"data-tip":"QUITAR PRODUCTO",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})})]}),Object(k.jsx)("tr",{style:{display:r?"":"none"},children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)(Ct,{maxLength:250,before:"NOTA INTERNA",setData:this.setState,value:i,update:"comentario"})})})]})}},{key:"componentWillUpdate",value:function(t,e){e.unidades===this.state.unidades&&e.comentario===this.state.comentario||this.props.edit(e)}}]),a}(s.a.Component);function li(t){var e=t.producto,a=t.edit,s=t.remove,n=t.dolar,r=void 0!==n&&n,i=Object(c.useContext)(Le),o=i.findProVen,l=i.tasa,d=o(e,r),u=d.codigo,h=d.descripcion,O=Object(c.useState)(e.precio),b=Object(j.a)(O,2),x=b[0],p=b[1],f=Object(c.useState)(e.comentario),v=Object(j.a)(f,2),m=v[0],A=v[1],g=Object(c.useState)(!1),E=Object(j.a)(g,2),C=E[0],y=E[1];Object(c.useEffect)((function(){return a(Object(V.a)(Object(V.a)({},e),{},{unidades:0,precio:x,comentario:m}))}),[x,m]);var N=r?x/l:x;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:u}),Object(k.jsx)(St,{width:"auto",children:h}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{value:N,step:"0.01",setData:function(t){return p(r?t*l:t)}})}),Object(k.jsx)(Tt,{width:"110px",children:Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{variant:"info",onClick:function(){return y(!C)},"data-tip":"DEJAR NOTA",children:Object(k.jsx)("span",{className:"fa fa-edit"})}),Object(k.jsx)(F.a,{variant:"danger",onClick:function(){return s(e)},"data-tip":"QUITAR PRODUCTO",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})})]}),Object(k.jsx)("tr",{}),C?Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)(Ct,{maxLength:250,before:"NOTA INTERNA",setData:A,value:m})})}):Object(k.jsx)("tr",{})]})}function ji(t){var e=t.producto,a=t.edit,s=t.remove,n=t.dolar,r=void 0!==n&&n,i=(0,Object(c.useContext)(Le).findProVen)(e,r),o=i.codigo,l=i.descripcion,d=i.costo,u=Object(c.useState)(e.comentario),h=Object(j.a)(u,2),O=h[0],b=h[1],x=Object(c.useState)(e.precio1),p=Object(j.a)(x,2),f=p[0],v=p[1],A=Object(c.useState)(e.precio2),g=Object(j.a)(A,2),E=g[0],C=g[1],y=Object(c.useState)(e.precio3),N=Object(j.a)(y,2),R=N[0],S=N[1],T=Object(c.useState)(!1),D=Object(j.a)(T,2),I=D[0],P=D[1];return Object(c.useEffect)((function(){return a(Object(V.a)(Object(V.a)({},e),{},{precio1:f,precio2:E,precio3:R,unidades:0,precio:0,comentario:O}))}),[f,E,R,O]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:o}),Object(k.jsx)(St,{width:"auto",children:l}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:v,value:f})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:C,value:E})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:S,value:R})}),Object(k.jsx)(Tt,{width:"110px",children:Object(k.jsxs)(Rt.a,{children:[Object(k.jsx)(F.a,{variant:"info",onClick:function(){return P(!I)},"data-tip":"DEJAR NOTA",children:Object(k.jsx)("span",{className:"fa fa-edit"})}),Object(k.jsx)(F.a,{variant:"danger",onClick:function(){return s(e)},"data-tip":"QUITAR PRODUCTO",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})})]}),Object(k.jsx)("tr",{}),I?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tr",{style:{display:I?"":"none"},children:[Object(k.jsx)("td",{colSpan:2,children:Object(k.jsx)(Ct,{setData:function(){},before:"COSTO",style:{textAlign:"right"},disabled:!0,value:m(d)})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",value:d*(f/100+1),setData:function(t){return v(100*(t/d-1))}})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",value:d*(E/100+1),setData:function(t){return C(100*(t/d-1))}})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",value:d*(R/100+1),setData:function(t){return S(100*(t/d-1))}})})]}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:7,children:Object(k.jsx)(Ct,{maxLength:250,before:"NOTA INTERNA",setData:b,value:O})})})]}):Object(k.jsx)(k.Fragment,{})]})}var di=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={precio:1,operacion:"mas"},c.setState=c.setState.bind(Object(jt.a)(c)),c.Estados=c.Estados.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.precio,c=e.operacion,s=this.props.departamento,n=s.codigo,r=s.descripcion,i=this.Estados;return Object(k.jsxs)("tr",{className:"AAAA"===n?"bg-warning":"",children:[Object(k.jsx)(St,{width:"90px",children:n}),Object(k.jsx)(St,{width:"auto",children:r}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(i,{})}),Object(k.jsx)(Tt,{width:"180px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:this.setState,value:a,update:"precio"})}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(F.a,{"data-tip":"PLICAR A LA CATEGORIA",onClick:function(){return t.add(n,a,c)},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}},{key:"Estados",value:function(){var t=this;return Object(k.jsxs)("select",{onChange:function(e){return t.setState({operacion:e.currentTarget.value})},className:"form-control",value:this.state.operacion,children:[Object(k.jsx)("option",{value:"mas",children:"SUMAR"}),Object(k.jsx)("option",{value:"menos",children:"RESTAR"}),Object(k.jsx)("option",{value:"por",children:"MULTIPLICAR"}),Object(k.jsx)("option",{value:"entre",children:"DIVIDIR"})]})}},{key:"add",value:function(t,e,a){0!==e?this.props.add({codigo:t,precio:e,operacion:a}):Object(l.b)("DEBE UNGRESAR UN VALOR A LA OPERACION",{type:l.b.TYPE.ERROR})}}]),a}(s.a.Component),ui=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={precio1:10,precio2:20,precio3:30},c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state,a=e.precio1,c=e.precio2,s=e.precio3,n=this.props.departamento,r=n.codigo,i=n.descripcion,o=this.setState;return Object(k.jsxs)("tr",{className:"AAAA"===r?"bg-warning":"",children:[Object(k.jsx)(St,{width:"90px",children:r}),Object(k.jsx)(St,{width:"calc(100% - 610px)",children:i}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:o,value:a,update:"precio1"})}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:o,value:c,update:"precio2"})}),Object(k.jsx)(Tt,{width:"150px",children:Object(k.jsx)(At,{min:.01,step:"0.01",setData:o,value:s,update:"precio3"})}),Object(k.jsx)(Tt,{width:"70px",children:Object(k.jsx)(F.a,{"data-tip":"PLICAR A LA CATEGORIA",onClick:function(){t.props.add({codigo:r,precio1:a,precio2:c,precio3:s})},variant:"primary",children:Object(k.jsx)("i",{className:"fa fa-plus"})})})]})}},{key:"componentDidMount",value:function(){var t=this.context,e=t.precio1,a=t.precio2,c=t.precio3;this.setState({precio1:e,precio2:a,precio3:c})}}]),a}(s.a.Component);ui.contextType=Le;var hi=ui,Oi=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).variant="bg-warning",t.buscarEn=["codigo","descripcion"],t}return Object(u.a)(a,[{key:"Title",value:function(){return Object(k.jsx)("h4",{className:"mr-auto",children:"BUSCAR DEPARTAMENTO"})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{label:"codigo",width:"90px",children:"COD"}),Object(k.jsx)(t,{label:"descripcion",width:"auto",children:"DESCRIPCION"}),this.head(),Object(k.jsx)(t,{width:"70px",children:" "})]})}},{key:"Row",value:function(t){switch(this.props.type){case"COSTO":return Object(k.jsx)(di,{departamento:t,add:this.addPrecio.bind(this)},t.codigo+"COSTO");case"UTILIDAD":return Object(k.jsx)(hi,{departamento:t,add:this.addUtilidad.bind(this)},t.codigo+"UTILIDAD")}}},{key:"filter",value:function(){return this.ordenar().filter((function(t){return 0!==t.estatus}))}},{key:"head",value:function(){var t=this.Th;switch(this.props.type){case"COSTO":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(t,{width:"150px",children:"OPERACION"}),Object(k.jsx)(t,{width:"180px",children:"COSTO"})]});case"UTILIDAD":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(t,{width:"150px",children:"% UTILIDAD 1"}),Object(k.jsx)(t,{width:"150px",children:"% UTILIDAD 2"}),Object(k.jsx)(t,{width:"150px",children:"% UTILIDAD 3"})]})}}},{key:"addPrecio",value:function(t){var e=t.codigo,a=t.precio,c=t.operacion,s=[];this.props.close(),this.context.Productos.forEach((function(t){if("AAAA"===e||t.departamento===e){var n=t.costo;switch(c){case"mas":n+=a;break;case"menos":n-=a;break;case"por":n*=a;break;case"entre":n/=a}var r=Object(V.a)(Object(V.a)({},t),{},{precio:n,unidades:1,comentario:""});s.push(r)}})),this.props.add(s)}},{key:"addUtilidad",value:function(t){var e=t.codigo,a=t.precio1,c=t.precio2,s=t.precio3,n=[];this.props.close(),this.context.Productos.forEach((function(t){if("AAAA"===e||t.departamento===e){var r=Object(V.a)(Object(V.a)({},t),{},{precio:t.costo,unidades:1,comentario:""});r.precio1=a,r.precio2=c,r.precio3=s,n.push(r)}})),this.props.add(n)}},{key:"getItens",value:function(){return[{codigo:"AAAA",descripcion:"TODOS LO PRODUCTOS EN EL INVENTARIO",estatus:1}].concat(Object(Z.a)(this.context.Departamentos))}},{key:"set",value:function(){this.context.actDepartamento()}},{key:"getEstado",value:function(){return this.context.estDepartamentos}}]),a}(Ja);Oi.contextType=ha;var bi=Oi,xi=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"Row",value:function(t){var e=t.data,a=this.props.data,c=a.tipo,s=a.dolar;switch(c){case"ENTRADA":return Object(k.jsx)(ii,{producto:e,edit:this.addProductos.bind(this),remove:this.removeProductos.bind(this)},"USD"+e.codigo);case"SALIDA":return Object(k.jsx)(oi,{producto:e,edit:this.addProductos.bind(this),remove:this.removeProductos.bind(this)},"USD"+e.codigo);case"COSTO":return Object(k.jsx)(li,{dolar:s,producto:e,edit:this.addProductos.bind(this),remove:this.removeProductos.bind(this)},"USD"+e.codigo);case"UTILIDAD":return Object(k.jsx)(ji,{dolar:s,producto:e,edit:this.addProductos.bind(this),remove:this.removeProductos.bind(this)},"USD"+e.codigo)}return Object(k.jsx)(k.Fragment,{})}},{key:"BotonesLeft",value:function(){var t=this.props.data.tipo;return""!==t?Object(k.jsxs)(ot.a,{md:6,children:[Object(k.jsx)("b",{children:"TIPO DE AJUSTE: "})," ",t]}):Object(k.jsx)(ot.a,{md:6,children:Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:this.setStatus.bind(this),className:"form-control",value:t,children:[Object(k.jsx)("option",{children:"SELECCIONE TIPO DE AJUSTE"}),Object(k.jsx)("option",{children:"ENTRADA"}),Object(k.jsx)("option",{children:"SALIDA"}),Object(k.jsx)("option",{children:"COSTO"}),Object(k.jsx)("option",{children:"UTILIDAD"})]})})}},{key:"BotonesRight",value:function(){var t=this,e=this.props.data,a=e.tipo,c=e.dolar;return""===a?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(ot.a,{xs:6,style:{textAlign:"right"},className:"float-right",children:[Object(k.jsx)(Aa.a,{}),Object(k.jsx)(F.a,{"data-tip":"PROCESAR",style:{marginRight:"15px"},variant:"success",className:"float-right",onClick:function(){return t.setData({procesar:!0})},children:Object(k.jsx)("span",{className:"fa fa-print"})}),"COSTO"===a||"UTILIDAD"===a?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(F.a,{"data-tip":"CAMBIAR A "+(c?"BOLIVARES":"DOLARES"),style:{marginRight:"15px"},variant:c?"warning":"primary",onClick:function(){return t.setData({dolar:!c})},size:"sm",children:[c?Object(k.jsx)("span",{className:"fa fa-dollar-sign"}):Object(k.jsx)("b",{children:"BS"})," DOCUMENTO EN ",c?"DOLARES":"BOLIVARES"]}),Object(k.jsx)(bi,{type:a,open:this.state.aux,add:this.addGrup.bind(this),close:this.close.bind(this)}),Object(k.jsx)(F.a,{style:{marginRight:"15px"},"data-tip":"APLICAR A DEPARTAMENTO",onClick:function(){t.setState({aux:!0})},variant:"warning",className:"float-right",children:Object(k.jsx)("i",{className:"fa fa-university"})})]}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(F.a,{style:{marginRight:"15px"},"data-tip":"BUSCAR PRODUCTO",onClick:function(){t.setState({buscarProducto:!0})},variant:"primary",className:"float-right",children:Object(k.jsx)("span",{className:"fa fa-search"})})]})}},{key:"THead",value:function(){return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)("th",{style:{width:"100px",textAlign:"center"},children:"CODIGO"}),Object(k.jsx)("th",{style:{textAlign:"center"},children:"DESCRIPCI\xd3N"}),this.Th(),Object(k.jsx)("th",{style:{width:"110px",textAlign:"center"},children:"ACCIONES"})]})}},{key:"Th",value:function(){switch(this.props.data.tipo){case"ENTRADA":return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("th",{style:{width:"100px",textAlign:"center"},children:"CANTIDAD"})});case"SALIDA":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("th",{style:{width:"100px",textAlign:"center"},children:"CANTIDAD"}),Object(k.jsx)("th",{style:{width:"150px",textAlign:"center"},children:"DISPONIBLE"})]});case"COSTO":return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("th",{style:{width:"300px",textAlign:"center"},children:"COSTO"})});case"UTILIDAD":return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("th",{style:{width:"200px",textAlign:"center"},children:"% UTILIDAD 1"}),Object(k.jsx)("th",{style:{width:"200px",textAlign:"center"},children:"% UTILIDAD 2"}),Object(k.jsx)("th",{style:{width:"200px",textAlign:"center"},children:"% UTILIDAD 3"})]})}return Object(k.jsx)(k.Fragment,{})}},{key:"setStatus",value:function(t){this.setData({tipo:t.currentTarget.value})}},{key:"Calcular",value:function(){return Object(k.jsx)(k.Fragment,{})}},{key:"addGrup",value:function(t){var e=this.props.data.detalles.filter((function(e){return t.some((function(t){return e.codigo!==t.codigo}))}));this.setData({detalles:[].concat(Object(Z.a)(e),Object(Z.a)(t))})}},{key:"componentWillReceiveProps",value:function(t){var e=t.data.tipo;this.productos!==e&&(this.productos=e)}}]),a}(dc),pi=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=$r(),c.title="OPERACION DE INVENTARIO",c.msn="LA OPERACION DE INVENTARIO",c.state=Object(V.a)(Object(V.a)({},Qr),{},{procesar:!1}),c.tipo="Ajuste",c}return Object(u.a)(a,[{key:"Top",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("b",{children:"NOTA"}),Object(k.jsx)(pt,{rows:4,maxLength:600,value:this.state.nota,setData:this.setState,update:"nota"})]})}},{key:"PDF",value:function(){return Object(k.jsx)("iframe",{src:"/api/Ajuste/PDF/".concat(this.state.codigo),title:"print",frameBorder:"0",width:"100%",height:"700wh",scrolling:"no"})}},{key:"Productos",value:function(){return Object(k.jsx)(xi,{setData:this.setState,data:this.state})}},{key:"Procesar",value:function(){var t=this,e=this.state,a=!0;""===this.state.nota&&(Object(l.b)("DEBE AGREGAR UNA NOTA",{type:l.b.TYPE.ERROR}),a=!1),(a=this.validacionGenerica(a))&&this.con.nuevo(function(t){var e=t.detalles,a=t.nota,c=t.tipo;return{nota:a,tipo:c,detalles:e.map((function(t){return function(t,e){var a=t.unidades,c=t.precio,s=t.precio1,n=t.precio2,r=t.precio3,i=t.codigo,o=t.comentario;switch(e){case"COSTO":return{codigo:i,precio:c,comentario:o};case"UTILIDAD":return{codigo:i,precio1:s,precio2:n,precio3:r,comentario:o};default:return{codigo:i,unidades:a,comentario:o}}}(t,c)}))}}(e),(function(e){return t.setState({codigo:e.codigo})}),(function(e){return t.procesar=!0}))}}]),a}(hc);pi.contextType=Le;var fi=pi;function vi(t){var e=t.fecha_init,a=t.fecha_fin,c=t.min,s=t.max,n=t.departamento,r=t.status,i=t.setData;return Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)(ot.a,{xs:12,className:"RangoFechas",children:Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"TIEMPO DE CREACION"})}),Object(k.jsx)(vt,{value:e,setData:i,update:"fecha_init"}),Object(k.jsx)(vt,{value:a,setData:i,update:"fecha_fin"}),Object(k.jsx)(F.a,{onClick:function(){i({fecha_ini:"dd/mm/aaaa",fecha_fin:"dd/mm/aaaa"})},"data-tip":"LIMPIAR FECHAS",variant:"danger",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})}),Object(k.jsxs)(ot.a,{xs:12,className:"productoStock",children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"INVENTARIO DISPONIBLE DESDE"})}),Object(k.jsx)(At,{value:c,setData:i,update:"min"}),Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"HASTA"})}),Object(k.jsx)(At,{value:s,setData:i,update:"max"}),Object(k.jsx)(F.a,{onClick:function(){i({min:0,max:0})},"data-tip":"LIMPIAR STOCK",variant:"danger",children:Object(k.jsx)("i",{className:"fa fa-ban"})})]})]}),Object(k.jsxs)(ot.a,{"data-tip":"FILTRAR POR DEPARTAMENTO",xs:12,style:{minWidth:"320px"},className:"RangoFechas",children:[Object(k.jsx)("br",{}),Object(k.jsx)(Wa,{change:function(t){i({departamento:t})},defaultValue:n})]}),Object(k.jsxs)(ot.a,{style:{minWidth:"230px"},xs:12,className:"productoStock",children:[Object(k.jsx)("br",{}),Object(k.jsxs)("select",{"data-tip":"FILTRAR POR EL ESTADO",onChange:function(t){i({status:parseInt(t.currentTarget.value)})},className:"form-control",value:r,children:[Object(k.jsx)("option",{value:-1,children:"TODOS LOS ESTADOS"}),Object(k.jsx)("option",{value:0,children:"INACTIVO"}),Object(k.jsx)("option",{value:1,children:"ACTIVO"})]})]})]})}var mi=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n)))._export=s.a.createRef(),t}return Object(u.a)(a,[{key:"excelExport",value:function(){this._export.current&&this._export.current.save()}},{key:"render",value:function(){var t=this.props.productos;return 0===t.length?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{variant:"success",onClick:this.excelExport.bind(this),style:{marginRight:"15px"},children:Object(k.jsx)("i",{className:"fa fa-file-excel"})}),Object(k.jsxs)(Ve.a,{data:t,ref:this._export,fileName:"Productos",children:[Object(k.jsx)(ze.a,{field:"codigo",title:"N\xb0",width:120}),Object(k.jsx)(ze.a,{field:"descripcion",title:"DESCRIPCION",width:2100}),Object(k.jsx)(ze.a,{field:"fecha",title:"FECHA",width:200}),Object(k.jsx)(ze.a,{field:"cantidad",title:"CANTIDAD",width:120}),Object(k.jsx)(ze.a,{field:"costo",title:"COSTO",width:200})]})]})}}]),a}(s.a.Component),Ai=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).con=Re(),c.departamento="",c.tipo="",c.state=t.producto,c.setState=c.setState.bind(Object(jt.a)(c)),c}return Object(u.a)(a,[{key:"setUnidad",value:function(t){this.setState({unidad:t})}},{key:"render",value:function(){var t=this,e=this.setState,a=this.state,c=a.descripcion,s=a.codigo,n=a.unidad,r=a.precio1,i=a.precio2,o=a.precio3,l=a.costo,j=a.enser,d=a.exento,u=this.props,h=u.open,O=u.close,b=this.tipo,x=this.departamento;return Object(k.jsxs)(dt.a,{size:"xl",animation:!0,show:h,onHide:O,children:[Object(k.jsx)(dt.a.Header,{closeButton:!0,children:Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-edit"})," EDITAR PRODUCTO"]})}),Object(k.jsx)(dt.a.Body,{children:Object(k.jsxs)(ut.a,{children:[Object(k.jsx)(ot.a,{xs:4,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"CODIGO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:s})]})}),Object(k.jsx)(ot.a,{xs:8,children:Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"DEPARTAMENTO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:x})]})}),Object(k.jsxs)(ot.a,{xs:12,children:[Object(k.jsx)("br",{}),Object(k.jsx)("b",{children:"DESCRIPCI\xd3N"}),Object(k.jsx)(pt,{rows:3,maxLength:300,value:c,setData:e,update:"descripcion"})]}),Object(k.jsxs)(ot.a,{md:4,style:{height:54},children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{block:!0,onClick:function(){t.setState({enser:1===j?0:1})},variant:0===j?"success":"danger",children:["PARA LA VENTA: ",0===j?"SI":"NO"]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsx)(nc,{defaultValue:n,change:this.setUnidad.bind(this)})]}),Object(k.jsxs)(ot.a,{xs:4,style:{height:54},children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"TIPO"})}),Object(k.jsx)(bt.a,{disabled:!0,value:b})]})]}),Object(k.jsxs)(ot.a,{md:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{block:!0,onClick:function(){t.setState({exento:!d})},variant:d?"success":"primary",children:["EXENTO: ",d?"SI":"NO"]})]}),Object(k.jsxs)(ot.a,{xs:8,style:{height:54},children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{style:{width:"100%"},className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"COSTO"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(l)})]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"UTILIDAD 1"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(r)})]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"UTILIDAD 2"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(i)})]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"UTILIDAD 3"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(o)})]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"PRECIO 1"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(this.getPrecio(r))})]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"PRECIO 2"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(this.getPrecio(i))})]})]}),Object(k.jsxs)(ot.a,{xs:4,children:[Object(k.jsx)("br",{}),Object(k.jsxs)(Ot.a,{className:"mb-3",children:[Object(k.jsx)(Ot.a.Prepend,{children:Object(k.jsx)(Ot.a.Text,{children:"PRECIO 3"})}),Object(k.jsx)(bt.a,{style:{textAlign:"right"},disabled:!0,value:m(this.getPrecio(o))})]})]})]})}),Object(k.jsx)(dt.a.Footer,{children:Object(k.jsxs)(F.a,{onClick:this.actualizar.bind(this),variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-floppy-disk"})," Guardar"]})})]})}},{key:"actualizar",value:function(){var t=this,e=this.state,a=e.descripcion,c=e.unidad;""===a?Object(l.b)("DEBE COLOCAR UNA DESCRIPCION",{type:l.b.TYPE.ERROR}):-1===c?Object(l.b)("DEBA SELECCIONAR UNA UNIDAD DE MEDIDA",{type:l.b.TYPE.ERROR}):this.con.actualizar(this.state.codigo,this.state,(function(e){t.props.add(e),t.props.close()}))}},{key:"getPrecio",value:function(t){var e=t/100+1;return this.state.costo*e}},{key:"componentDidMount",value:function(){var t=this,e=this.props.producto,a=e.departamento,c=e.tipo;Te().detalle(a,(function(e){t.departamento=e.descripcion,t.forceUpdate()})),Pe().detalle(c,(function(e){t.tipo=e.descripcion,t.forceUpdate()}))}}]),a}(s.a.Component),gi=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(t){var c;return Object(d.a)(this,a),(c=e.call(this,t)).state={edit:!1},c}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.data,c=a.codigo,s=a.descripcion,n=a.cantidad,r=a.inventario,i=a.costo,o=e.dolar;return Object(k.jsxs)("tr",{children:[Object(k.jsx)(St,{width:"90px",children:c}),Object(k.jsx)(St,{width:"calc(100% - 500px)",children:s}),Object(k.jsx)(St,{width:"160px",align:"right",children:1!==r?m(n):"NO APLICA"}),Object(k.jsxs)(St,{width:"250px",align:"right",children:[m(i)," ",o?Object(k.jsx)("span",{className:"fa fa-dollar-sign"}):Object(k.jsx)("b",{children:"BS"})]}),Object(k.jsx)(St,{width:"100px",align:"right",children:this.getStatus()}),Object(k.jsx)("th",{style:{minWidth:"135px",maxWidth:"135px"},children:Object(k.jsxs)(Rt.a,{className:"float-right",children:[Object(k.jsx)(F.a,{"data-tip":"EDITAR",variant:"primary",onClick:function(){t.setState({edit:!0})},children:Object(k.jsx)("i",{className:"fa fa-edit"})}),Object(k.jsx)(Aa.a,{}),Object(k.jsx)(Ai,{open:this.state.edit,producto:this.props.data,close:function(){t.setState({edit:!1})},add:this.props.update},"edit"+c),1===this.props.data.estatus?Object(k.jsx)(F.a,{"data-tip":"ELIMINAR",variant:"danger",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-ban"})}):Object(k.jsx)(F.a,{"data-tip":"ACTIVAR",variant:"success",onClick:this.cancelar.bind(this),children:Object(k.jsx)("i",{className:"fa fa-check"})})]})})]})}},{key:"getStatus",value:function(){return 1===this.props.data.estatus?Object(k.jsx)("span",{className:"badge badge-success",children:"ACTIVO"}):Object(k.jsx)("span",{className:"badge badge-danger",children:"INACTIVO"})}},{key:"close",value:function(){this.setState({edit:!1})}},{key:"cancelar",value:function(){this.close(),Re().cancelar(this.props.data.codigo,this.props.update)}}]),a}(s.a.Component),Ei=function(t){Object(h.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).con=Re(),t.placeholder="BUSCAR PRODUCTO",t.fecha_init="dd/mm/aaaa",t.fecha_fin="dd/mm/aaaa",t.departamento="TODO",t.max=0,t.min=0,t.status=-1,t.buscarEn=["codigo","descripcion"],t}return Object(u.a)(a,[{key:"Title",value:function(){var t=this.setState,e=this.set,a=this.state.modal;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(oc,{dolar:this.state.dolar,open:a,close:function(){t({modal:!1})},add:e.bind(this)}),Object(k.jsxs)("h4",{className:"mr-auto",children:[Object(k.jsx)("i",{className:"fa fa-search"})," BUSCAR PRODUCTO"]}),Object(k.jsxs)(F.a,{onClick:function(){t({modal:!0})},variant:"primary",children:[Object(k.jsx)("span",{className:"fa fa-plus"})," NUEVO PRODUCTO"]})]})}},{key:"Avansado",value:function(){var t=this.fecha_fin,e=this.fecha_init,a=this.status,c=this.departamento,s=this.min,n=this.max,r=this.setAvansados;return Object(k.jsx)(vi,{fecha_fin:t,fecha_init:e,status:a,departamento:c,min:s,max:n,setData:r.bind(this)})}},{key:"Row",value:function(t){var e=(0,this.context.findProVen)(t,this.state.dolar);return Object(k.jsx)(gi,{dolar:this.state.dolar,data:e,update:this.set.bind(this)})}},{key:"Header",value:function(){var t=this.Th;return Object(k.jsxs)("tr",{className:"info",children:[Object(k.jsx)(t,{width:"90px",label:"codigo",children:"COD"}),Object(k.jsx)(t,{width:"calc(100% - 500px)",label:"descripcion",children:"DESCRIPCION"}),Object(k.jsx)(t,{width:"160px",label:"cantidad",aling:"right",children:"CANTIDAD"}),Object(k.jsx)(t,{width:"250px",label:"costo",aling:"right",children:"COSTO"}),Object(k.jsx)(t,{width:"100px",children:"ESTATUS"}),Object(k.jsx)(t,{width:"150px",children:"ACCIONES"})]})}},{key:"setAvansados",value:function(t){var e=t.fecha_init,a=t.fecha_fin,c=t.min,s=t.max,n=t.departamento,r=t.status;e&&(this.fecha_init=e),a&&(this.fecha_fin=a),n&&(this.departamento=n),r&&(this.status=r),0===r&&(this.status=r),s&&(this.max=s),0===s&&(this.max=s),c&&(this.min=c),0===c&&(this.min=c),this.forceUpdate()}},{key:"filter",value:function(){var t=this.fecha_fin,e=this.fecha_init,a=this.status,c=this.departamento,s=this.min,n=this.max,r=this.datetonomber;return this.ordenar().filter((function(i){if(i.cantidad<s)return!1;if(i.cantidad>n&&0!==n)return!1;if(i.estatus!==a&&-1!==a)return!1;if("TODO"!==c&&i.departamento!==c)return!1;var o=r(i.fecha_creacion);return!("dd/mm/aaaa"!==t&&o>r(t))&&!("dd/mm/aaaa"!==e&&o<r(e))}))}},{key:"getItens",value:function(){return this.context.Productos}},{key:"set",value:function(){this.context.actProducto()}},{key:"getEstado",value:function(){return this.context.estProducto}},{key:"Actualizar",value:function(){var t=this,e=this.getEstado().hora,a=this.state.dolar;return Object(k.jsxs)(ot.a,{md:3,className:"mr-auto d-flex flex-row-reverse",children:[Object(k.jsx)(F.a,{"data-tip":"CAMBIAR A "+(a?"BOLIVARES":"DOLARES"),style:{marginRight:"15px"},variant:a?"warning":"primary",onClick:function(){return t.setState({dolar:!a})},size:"sm",children:a?Object(k.jsx)("span",{className:"fa fa-dollar-sign"}):Object(k.jsx)("b",{children:"BS"})}),Object(k.jsx)(mi,{productos:this.filter()}),Object(k.jsxs)("div",{style:{fontSize:"12px",width:"200px",paddingLeft:"15px"},children:[Object(k.jsx)("strong",{children:"ACTUALIZADO:"})," ",Object(k.jsx)("br",{}),e]})]})}}]),a}(Be);Ei.contextType=Le;var Ci=Ei;function yi(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{path:"/producto",exact:!0,component:Ni}),Object(k.jsx)(o.a,{path:"/producto/ajuste",component:Ri})]})}function Ni(){var t=Object(c.useContext)(et);return null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"PRODUCTO"===t}))?Object(k.jsx)(Ci,{}):Object(k.jsx)(js,{})}function Ri(){var t=Object(c.useContext)(et);return null!==t&&void 0!==t&&t.data.Permisos.some((function(t){return"AJUSTE"===t}))?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(o.a,{path:"/producto/ajuste/lista",component:ri}),Object(k.jsx)(o.a,{path:"/producto/ajuste/nuevo",component:fi})]}):Object(k.jsx)(js,{})}function Si(){return Object(k.jsxs)(ut.a,{style:{fontSize:"300%"},className:"d-flex justify-content-center",children:[Object(k.jsx)(zt.a,{style:{width:"15rem",height:"15rem"},variant:"primary",animation:"border"}),Object(k.jsx)("h4",{style:{position:"absolute"},className:"m-0 font-weight-bold text-primary mr-auto align-self-center",children:"Cargando...."})]})}a(96);function Ti(){var t=Object(c.useContext)(et).data,e=t.seccion,a=t.cargando;return e?a?Object(k.jsx)(_t.a,{style:{height:"99.9999vh",padding:"20% 20% 20% 20%"},children:Object(k.jsx)(Si,{})}):Object(k.jsx)(i.a,{children:Object(k.jsxs)(w,{children:[Object(k.jsx)(l.a,{position:"bottom-right"}),Object(k.jsx)(nt,{},"headerBar"),Object(k.jsx)(it,{},"MenuAside"+Math.random()),Object(k.jsx)("section",{className:"content-wrapper",style:{overflowY:"auto",maxHeight:"calc(100vh - 150px)"},children:Object(k.jsx)(ot.a,{md:12,className:"mt-3",children:Object(k.jsx)(Ue,{children:Object(k.jsx)(o.c,{children:Object(k.jsxs)(Oa,{children:[Object(k.jsxs)(Fe,{children:[Object(k.jsx)(o.a,{path:"/",exact:!0,component:ja}),Object(k.jsx)(o.a,{path:["/cotizacion","/factura","/nota","/clientes"],component:ds}),Object(k.jsx)(o.a,{path:["/orden","/compra","/proveedores"],component:ln}),Object(k.jsx)(o.a,{path:"/producto",component:yi}),Object(k.jsx)(o.a,{path:"/reporte",component:Jr}),Object(k.jsx)(o.a,{path:"/config",component:Qn})]}),Object(k.jsx)(o.a,{path:"/usuarios",component:Ye})]})})})})}),Object(k.jsx)(lt,{})]})}):Object(k.jsx)(ua,{})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Di=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,121)).then((function(e){var a=e.getCLS,c=e.getFID,s=e.getFCP,n=e.getLCP,r=e.getTTFB;a(t),c(t),s(t),n(t),r(t)}))};r.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(at,{children:Object(k.jsx)(Ti,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),Di()}},[[97,1,2]]]);
//# sourceMappingURL=main.042e4361.chunk.js.map