{"version":3,"sources":["Utils/Utiles.ts","Utils/ModalBusqueda.tsx","Utils/setTex.tsx","App/Productos/BuscarProducto/FilaEntrada.tsx","App/Productos/BuscarProducto/FilaSeleccion.tsx","App/Productos/BuscarProducto/FilaFactura.tsx","App/Productos/Departamento/Selector.tsx","App/Productos/BuscarProducto/index.tsx","App/Usuarios/Select.tsx","Utils/Table.tsx","Utils/ModalPrint.tsx","Utils/ModalAlert.tsx","Modelos/General.ts","Utils/ModalDetalle.tsx","Utils/FilaProto.tsx","Utils/Seguimiento.tsx","App/Cotizacion/ModalDetalle.tsx","App/Cotizacion/ModalPrint.tsx","App/Cotizacion/FilaCotizacio.tsx","App/Cotizacion/index.tsx","App/Facturas/FilaFactura.tsx","App/Facturas/index.tsx","App/Nota/FilaNota.tsx","App/Nota/index.tsx","App/Orden/FilaOrden.tsx","App/Orden/index.tsx","App/Compra/RegistrarFactura.tsx","App/Compra/FilaCompra.tsx","App/Compra/index.tsx","Modelos/Compra.ts","Utils/CacheStorage.tsx","Utils/InputText.tsx","Modelos/Cliente.ts","Modelos/Proveedor.ts","App/Clientes/FormCliente.tsx","App/Clientes/ClienteSelector.tsx","Utils/ArrayFun.tsx","Modelos/Productos.ts","App/Productos/Unidad/Selector.tsx","App/Productos/Tipos/Selector.tsx","App/Productos/FormProductos.tsx","App/Compra/Nuevo/FilaProducto.tsx","App/Compra/Nuevo/CalcularImpuesto.tsx","App/Compra/Nuevo/AuxiliarCompra.tsx","Utils/FilaGeneraModal.tsx","App/Orden/BuscarOrden.tsx","App/Orden/Nuevo.tsx","App/Compra/Nuevo.tsx","Modelos/Factura.ts","App/Cotizacion/BuscarCotizacion.tsx","App/Facturas/Nuevo/FilaProducto.tsx","App/Facturas/Nuevo/CalcularImpuesto.tsx","App/Facturas/Nuevo/AuxiliarFactura.tsx","App/Nota/Nuevo.tsx","App/Nota/BuscarNota.tsx","App/Facturas/Nuevo.tsx","App/Cotizacion/BuscarGuardado.tsx","App/Cotizacion/Nuevo/FilaProducto.tsx","App/Cotizacion/Nuevo/CalcularImpuesto.tsx","App/Cotizacion/Nuevo/FilaDolar.tsx","App/Cotizacion/Nuevo/AuxiliarCotizacion.tsx","App/Cotizacion/Nueva.tsx","Template/Header.tsx","Template/Treeview.tsx","Template/Menu.tsx","Template/Footer.tsx","App/Clientes/Fila.tsx","App/Clientes/index.tsx","App/Proveedores.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ordenarPor","itens","orden","label","sort","a","b","fa","datetonomber","fecha","fb","isNaN","busqueda","encontar","bucarLabel","filter","iten","en","split","pasa","forEach","considencias","e","toUpperCase","indexOf","zfill","length","filtro","value","Label","numberFormat","number","toFixed","replace","width","numberOutput","Math","abs","toString","zero","repeat","date","Date","a√±o","getFullYear","mes","getMonth","getDate","formatoFecha","formatoHora","hora","getHours","minuto","getMinutes","segundo","getSeconds","turno","FormDataFotmat","o","formData","FormData","Object","keys","key","append","JSON","stringify","maskFormat","val","mask","nval","m","i","test","undefined","post","url","obj","success","d","error","xhr","XMLHttpRequest","responseType","open","onreadystatechange","readyState","status","response","send","getPreCache","setData","dataCache","localStorage","getItem","parse","fetch","then","json","data","setItem","ModalBusqueda","p","placeholder","mostrar","buscarLabel","estatus","setState","bind","setBuscar","state","buscar","page","ordenar","init","this","fin","filtros","index","map","Row","total_page","ceil","buttons","push","Pagination","Item","active","onClick","setpage","Ellipsis","style","position","float","paginacion","currentTarget","forceUpdate","className","Modal","show","props","onHide","close","bsSize","Header","closeButton","title","Body","padding","renderBusqueda","Table","body","Footer","pagination","onKeyUp","name","data-tip","onChange","setStatus","defaultValue","Button","borderTopLeftRadius","borderBottomLeftRadius","bsStyle","r","parseInt","c","actualizar","set","setTimeout","setItens","React","Component","SetText","ref","createRef","area","selected","type","id","listLabel","maxLength","rows","onBlur","keyUp","onFocus","list","getValue","getProps","input","current","update","minValue","parseFloat","numberValue","stringValue","keyCode","step","textAlign","minLength","min","FilaEntrada","producto","precio","costo","unidades","comentario","descripcion","codigo","backgroundColor","ButtonGroup","add","FilaSeleccion","FilaFactura","precio1","precio2","precio3","DepartamentoSelector","Departamentos","setRol","Rol","change","setUsers","BuscarProducto","departamento","setDepartamento","minWidth","maxWidth","colorOrden","setOrden","flechas","cantidad","UsuarioSelector","usuarios","nombre","Tabla","productos","modalProductos","fecha_ini","fecha_fin","user","fini","ffin","ini","busquedaFechas","values","cod","detalles","filtrarProducto","randon","random","Panel","expanded","Heading","paddingTop","Collapse","Avansado","Col","md","striped","condensed","hover","borderRadius","addProducto","paddingLeft","setFechaInicio","setFechaFin","limpiarFechas","u","removeProducto","window","innerWidth","ModalPrint","src","height","scrolling","frameBorder","ModalAlert","msn","accion","generalNull","nota","subtotal","total","impuesto","condicionesNull","forma_pago","tiempo_entrega","validez","getSubtotal","sentDetalles","ModalDetalle","suma","animation","titulo","s","colSpan","Dialog","tipo","FilaProto","print","aux","eliminar","cot","whiteSpace","textOverflow","overflow","data-class","data-html","tooltipCliente","monto","fontSize","getStatus","cancelar","getModal","getButtons","contacto","correo","telefono","FilaSeguimiento","seguimiento","usuario","Seguimientos","mensajes","color","borderTopRightRadius","xs","overflowY","maxHeight","setMsn","enviar","sent","toDateString","clear","dialogClassName","dolar","marginRight","FilaCotizacio","tasa","ListCotizaciones","to","ListFactura","FilaNota","ListNotas","FilaOrden","ListOrdenes","RegistrarFactura","cod_doc","num_con","fecha_doc","FilaCompra","ListConpra","dataNull","cod_proveedor","ordenNull","compraNull","id_orden","cod_documento","cod_nota","nun_control","fecha_documento","CacheStorage","borrarCache","warning","msnWarnig","guardarCache","cargarCache","Identificador","toast","TYPE","SUCCESS","ERROR","InputText","widthLabel","widthAfter","l","InputGroup","after","ClienteNull","direccion","tipo_contribuyente","retencion","FormCliente","cliente","inputCodeMode","setContribuyente","get","ClienteSelector","nuevoCliente","lista","buscarCodigo","buscarNumbre","getLabel","seleccion","limpiarCodigo","setBuscarCodigo","getList","limpiarNombre","setBuscarNombre","target","limpiar","Cliente","comprare","com","isCompare","removeElement","addUpdateArray","ifArray","UpdateElement","ProductoNull","enser","exento","unidad","fecha_creacion","UnidadesSelector","Unidades","TipoSelector","tipos","FormProductos","setUnidad","setTipo","FormControl","disabled","getPrecio","create","price","utilidad","FilaProducto","remove","edit","CalcularImpuesto","imponible","rowSpan","calImpuesto","calPagar","AuxiliarCompra","nuevoProducto","buscarProducto","cant","addProductos","imp","ext","createProducto","children","Prosesar","removeProductos","FilaGeneraModal","getStatus1","getStatus2","BuscarOrden","NuevaOrden","cargar","setProveedor","marginBottom","propcesar","procesar","iva","sentOrden","NuevaCompra","sentCompra","sentCotizacion","cod_cliente","plantilla","BuscarCotizacion","AuxiliarFactura","NuevaNota","cargarCotizacion","setCliente","id_cotizacion","porc_impuesto","sentNota","BuscarNota","NuevaFactura","condicion","cargarNota","setCondicion","id_nota","observacion","v","getCosto","sentFactura","BuscarGuardado","display","FilaDolar","costoDolar","precioDolar","precio1Dolar","precio2Dolar","precio3Dolar","setPrecio","AuxiliarCotizacion","impo","exen","NuevaCotizacion","copiar","guardar","id_usuario","nivel","href","alt","role","data-toggle","aria-expanded","document","getElementsByTagName","classList","Treeview","ul","h","collapse","icon","clientHeight","collapsed","n","Menu","bottom","FilaCliente","ListClientes","ListaProveedores","App","styles","marginLeft","minHeight","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.64deb6a4.chunk.js","sourcesContent":["import { GeneralFila } from \"../Modelos/General\"\r\nimport { Producto } from \"../Modelos/Productos\";\r\nexport type filaLabel = \"codigo\" | \"fecha\" | \"nombre\" | \"telefono\" | \"nota\" | \"tasa\" | \"monto\" | \"usuario\" | \"status\";\r\n\r\nexport function ordenarPor<p>(itens: any[], orden: string, label: p | 'fecha' | 'codigo') {\r\n    return itens.sort((a, b) => {\r\n        if (label === 'fecha') {\r\n            let fa = datetonomber(a.fecha), fb = datetonomber(b.fecha);\r\n            if (orden === \"desc\")\r\n                return (fb < fa ? - 1 : (fb > fa ? 1 : 0));\r\n            else\r\n                return (fa < fb ? - 1 : (fa > fb ? 1 : 0));\r\n        } else if (isNaN(b[label])) {\r\n            if (orden === \"desc\")\r\n                return (a[label] < b[label] ? - 1 : (a[label] > b[label] ? 1 : 0));\r\n            else\r\n                return (b[label] < a[label] ? - 1 : (b[label] > a[label] ? 1 : 0));\r\n        } else {\r\n            if (orden === \"desc\")\r\n                return (b[label] - a[label]);\r\n            else\r\n                return (a[label] - b[label]);\r\n        }\r\n    })\r\n}\r\nexport function busqueda<p>(itens: any[], encontar: string, bucarLabel: p[]) {\r\n    if (encontar !== \"\") {\r\n        return itens.filter(iten => {\r\n            let en = encontar.split(\" \"), pasa = false;\r\n            bucarLabel.forEach(label => {\r\n                let considencias = 0;\r\n                en.forEach(e => {\r\n                    if (isNaN(iten[label])) {\r\n                        if (iten[label].toUpperCase().indexOf(e) > -1) { considencias++ }\r\n                    } else {\r\n                        if (zfill(iten[label]).indexOf(e) > -1) { considencias++ }\r\n                    }\r\n                })\r\n                if (en.length === considencias) {\r\n                    pasa = true\r\n                }\r\n            })\r\n            return pasa\r\n        })\r\n    }\r\n    return itens;\r\n}\r\nexport function busquedaFechas(itens: GeneralFila[], fini: string, ffin: string) {\r\n    if ((ffin !== 'dd/mm/aaaa') && (fini !== 'dd/mm/aaaa')) {\r\n        var ini = datetonomber(fini);\r\n        var fin = datetonomber(ffin);\r\n        return itens.filter((iten) => {\r\n            var fecha = datetonomber(iten.fecha);\r\n            if ((ini <= fecha) && (fin >= fecha)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    return itens;\r\n}\r\nexport function filtro<l>(itens: any[], value: number, Label: l) {\r\n    if (value !== -1)\r\n        return itens.filter(iten => {\r\n            return iten[Label] === value;\r\n        })\r\n    return itens;\r\n}\r\nexport function filtrarProducto(itens: GeneralFila[], values: Producto[]) {\r\n    return itens.filter(iten => {\r\n        let pasa: string[] = [];\r\n        values.forEach(cod => {\r\n            iten.detalles.forEach(e => {\r\n                if (cod.codigo === e) pasa.push(e);\r\n            })\r\n        })\r\n        if (pasa.length === values.length || values.length === 0) return true;\r\n        return false;\r\n    })\r\n}\r\nexport function numberFormat(number: number) {\r\n    return (number\r\n        .toFixed(2) // always two decimal digits\r\n        .replace('.', ',') // replace decimal point character with ,\r\n        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.')) // use . as a separator\r\n}\r\nexport function zfill(number: number, width = 6) {\r\n    var numberOutput = Math.abs(number) /* Valor absoluto del n√∫mero */\r\n    var length = number.toString().length /* Largo del n√∫mero */\r\n    var zero = \"0\" /* String de cero */\r\n\r\n    if (width <= length) {\r\n        if (number < 0) {\r\n            return (\"-\" + numberOutput.toString())\r\n        } else {\r\n            return numberOutput.toString()\r\n        }\r\n    } else {\r\n        if (number < 0) {\r\n            return (\"-\" + (zero.repeat(width - length)) + numberOutput.toString())\r\n        } else {\r\n            return ((zero.repeat(width - length)) + numberOutput.toString())\r\n        }\r\n    }\r\n}\r\nexport function datetonomber(fecha: string) {\r\n    var date = new Date(fecha);\r\n    var a√±o = date.getFullYear();\r\n    var mes = date.getMonth() + 1;\r\n    var dia = date.getDate() + 1;\r\n    a√±o *= 10000;\r\n    mes *= 100;\r\n    return a√±o + mes + dia;\r\n};\r\nexport function formatoFecha(fecha: string) {\r\n    var date = new Date(fecha);\r\n    var a√±o = date.getFullYear();\r\n    var mes = date.getMonth() + 1;\r\n    var dia = date.getDate() + 1;\r\n    return zfill(dia, 2) + '/' + zfill(mes, 2) + '/' + a√±o;\r\n};\r\nexport function formatoHora(fecha: string) {\r\n    let date = new Date(fecha);\r\n    let hora = date.getHours(),\r\n        minuto = date.getMinutes(),\r\n        segundo = date.getSeconds(),\r\n        turno = ' AM';\r\n    if (hora >= 12)\r\n        turno = ' PM'\r\n    if (hora > 12)\r\n        hora = hora - 12;\r\n    if (hora === 0)\r\n        hora = hora + 12;\r\n    return zfill(hora, 2) + \":\" + zfill(minuto, 2) + \":\" + zfill(segundo, 2) + turno;\r\n};\r\nexport function FormDataFotmat(o: any) {\r\n    const formData = new FormData();\r\n    Object.keys(o).forEach(key => {\r\n        switch (typeof o[key]) {\r\n            case 'object':\r\n                formData.append(key, JSON.stringify(o[key]));\r\n                break;\r\n            default:\r\n                formData.append(key, o[key]);\r\n        }\r\n    });\r\n    return formData;\r\n};\r\nexport function maskFormat(val: string, mask: string) {\r\n    let nval = '';\r\n    if (val.length > 0) {\r\n        mask.split('').forEach((m, i) => {\r\n            if (m === 'a') {\r\n                if (/[A-Za-z]/g.test(val[i])) {\r\n                    nval += val[i];\r\n                }\r\n            } else if (m === 'A') {\r\n                if (/[A-Za-z]/g.test(val[i])) {\r\n                    nval += val[i].toUpperCase();\r\n                }\r\n            } else if (m === '9') {\r\n                if (/[0-9]/g.test(val[i])) {\r\n                    nval += val[i];\r\n                }\r\n            } else if (m === '*') {\r\n                if (/[A-Za-z0-9]/g.test(val[i])) {\r\n                    nval += val[i];\r\n                }\r\n            } else if (val[i] !== undefined) {\r\n                if (nval.length === i)\r\n                    nval += m;\r\n            } else if (val[i] === undefined) {\r\n                if (m !== 'a' && m !== 'A' && m !== '9' && m !== '*')\r\n                    if (nval.length === i)\r\n                        nval += m;\r\n            }\r\n        });\r\n        return nval;\r\n    } else {\r\n        return '';\r\n    }\r\n};\r\nexport function post(url = '', obj = {}, success = (d: any) => { }, error = (d: any) => { }) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.responseType = 'json';\r\n    xhr.open(\"POST\", url);\r\n    xhr.onreadystatechange = (e) => {\r\n        if (xhr.readyState !== 4) {\r\n            return;\r\n        }\r\n        if (xhr.status === 200) {\r\n            success(xhr.response);\r\n        } else {\r\n            error(xhr);\r\n        }\r\n    };\r\n    xhr.send(FormDataFotmat(obj));\r\n};\r\nexport function getPreCache(url: string, setData: (d: any) => void) {\r\n    let dataCache = localStorage.getItem(url);\r\n    if (dataCache !== null)\r\n        setData(JSON.parse(dataCache));\r\n    fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setData(data);\r\n            if (dataCache !== JSON.stringify(data))\r\n                localStorage.setItem(url, JSON.stringify(data))\r\n        });\r\n}","import React from \"react\";\r\nimport { Button, Modal, Pagination, Row, Table } from \"react-bootstrap\";\r\nimport { busqueda, filtro, getPreCache, ordenarPor } from \"./Utiles\";\r\ninterface State<t, l> {\r\n    itens: t[] | 'carro'\r\n    buscar: string\r\n    page: number\r\n    ordenar: 'codigo' | l\r\n    estatus: number\r\n}\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void\r\n}\r\nexport default class ModalBusqueda<p, t, l> extends React.Component<Props & p, State<t, l>>{\r\n    placeholder = \"\";\r\n    mostrar = 6\r\n    buscarLabel: l[] = []\r\n    estatus: { label: string, value: number }[] = []\r\n    orden: string = \"desc\";\r\n    length = 0;\r\n    constructor(p: any) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        this.setBuscar = this.setBuscar.bind(this);\r\n        this.state = { itens: \"carro\", buscar: '', page: 1, ordenar: 'codigo', estatus: -1 };\r\n    }\r\n    body() {\r\n        var page = this.state.page - 1\r\n        var init = page * this.mostrar\r\n        var fin = init + this.mostrar\r\n        var itens = this.filtros().filter((iten, index) => {\r\n            if (index >= init && index < fin) {\r\n                return true\r\n            }\r\n            return false\r\n        })\r\n        var pts = itens.map((iten) => {\r\n            return this.Row(iten)\r\n        })\r\n        return pts\r\n    }\r\n    paginacion() {\r\n        if (this.length === 0)\r\n            return <></>\r\n        var total_page = Math.ceil(this.length / this.mostrar)\r\n        var page = this.state.page\r\n        var buttons = []\r\n        if (page === 1) {\r\n            buttons.push(<Pagination.Item key=\"active1\" active>1</Pagination.Item>)\r\n        } else {\r\n            buttons.push(<Pagination.Item key=\"p1\" onClick={this.setpage.bind(this, 1)}>1</Pagination.Item>)\r\n        }\r\n        for (var i = 3; i > 0; i--) {\r\n            if ((page - i) > 1) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis1\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page - i)} onClick={this.setpage.bind(this, page - i)}>{page - i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (total_page > page && page > 1) {\r\n            buttons.push(<Pagination.Item active>{page}</Pagination.Item>)\r\n        }\r\n        for (i = 1; i < 4; i++) {\r\n            if ((page + i) < total_page) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis2\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page + i)} onClick={this.setpage.bind(this, page + i)}>{page + i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (page === total_page) {\r\n            if (1 !== total_page) {\r\n                buttons.push(<Pagination.Item key={\"active\" + total_page} active>{total_page}</Pagination.Item>)\r\n            }\r\n        } else {\r\n            buttons.push(<Pagination.Item key={\"p\" + total_page} onClick={this.setpage.bind(this, total_page)}>{total_page}</Pagination.Item>)\r\n        }\r\n        return buttons\r\n    }\r\n    pagination() {\r\n        return <Pagination style={{ position: \"relative\", float: \"right\" }}>{this.paginacion()}</Pagination>\r\n    }\r\n    setBuscar(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        this.setState({ buscar: value.toUpperCase() });\r\n        this.setpage(1)\r\n    }\r\n    setOrden(label: l) {\r\n        if (this.state.ordenar === label) {\r\n            if (this.orden === \"asc\")\r\n                this.orden = \"desc\";\r\n            else\r\n                this.orden = \"asc\";\r\n            this.forceUpdate();\r\n        } else {\r\n            this.orden = \"desc\";\r\n            this.setState({ ordenar: label })\r\n        }\r\n    }\r\n    flechas(label: l) {\r\n        if (this.state.ordenar === label) {\r\n            if (this.orden === \"desc\") {\r\n                return <i className=\"fa fa-arrow-down pull-right\" />\r\n            } else {\r\n                return <i className=\"fa fa-arrow-up pull-right\" />\r\n            }\r\n        }\r\n        return <></>\r\n    }\r\n    colorOrden(label: l) {\r\n        if (this.state.ordenar === label) {\r\n            return '#afd9ee'\r\n        }\r\n        return ''\r\n    }\r\n    filtros() {\r\n        let { itens, buscar, ordenar } = this.state;\r\n        if (itens !== 'carro') {\r\n            itens = busqueda(itens, buscar, this.buscarLabel);\r\n            itens = ordenarPor<l>(itens, this.orden, ordenar);\r\n            itens = filtro(itens, this.state.estatus, 'status');\r\n            this.length = itens.length;\r\n            return itens;\r\n        }\r\n        return [];\r\n    }\r\n    render() {\r\n        return <Modal show={this.props.open} onHide={this.props.close} bsSize=\"lg\">\r\n            <Modal.Header closeButton>\r\n                {this.title()}\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    {this.renderBusqueda()}<br />\r\n                    <Row>\r\n                        <Table>\r\n                            <thead>\r\n                                {this.Header()}\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.body()}\r\n                            </tbody>\r\n                        </Table>\r\n                    </Row>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {this.pagination()}\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    title() {\r\n        return <></>;\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"input-group col-md-12\">\r\n                <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                <select style={{ position: 'relative', width: \"300px\" }} data-tip=\"FILTRAR POR EL ESTADO\" onChange={this.setStatus.bind(this)} className=\"form-control\" defaultValue={this.state.estatus}>\r\n                    <option value={-1}>TODOS LOS ESTADOS</option>\r\n                    {this.estatus.map(m => {\r\n                        return <option value={m.value}>{m.label}</option>\r\n                    })}\r\n                </select>\r\n                <div className=\"input-group-append\">\r\n                    <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span> Buscar\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    setStatus(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        let r = parseInt(value);\r\n        this.setState({ estatus: r });\r\n    }\r\n    Header() {\r\n        return <tr>\r\n        </tr>\r\n    }\r\n    Row(c: any) {\r\n        return <></>;\r\n    }\r\n    setpage(page: number) {\r\n        this.setState({ page })\r\n    }\r\n    setItens(itens: Array<any>) {\r\n        let n = JSON.stringify(itens);\r\n        let s = JSON.stringify(this.state.itens);\r\n        if (n !== s) this.setState({ itens });\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    update(url: string) {\r\n        getPreCache(url, data => { this.setItens(data); });\r\n    }\r\n    set() {\r\n\r\n    }\r\n}","import React, { CSSProperties } from \"react\"\r\nimport { maskFormat, numberFormat } from \"./Utiles\"\r\n\r\ninterface Props {\r\n    id?: string\r\n    setData: (data: any) => void,\r\n    update: string\r\n    type?: \"number\" | \"password\" | \"date\" | 'textarea'\r\n    minValue?: number\r\n    maxLength?: number\r\n    value: string | number\r\n    step?: number | string\r\n    style?: CSSProperties\r\n    placeholder?: string\r\n    listLabel?: string\r\n    mask?: string\r\n    rows?: number\r\n}\r\ninterface State {\r\n    selected: boolean\r\n}\r\n\r\nexport default class SetText extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLInputElement>()\r\n    area = React.createRef<HTMLTextAreaElement>()\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { selected: false };\r\n    }\r\n    render() {\r\n        let { type, id, style, placeholder, listLabel, maxLength, value, rows } = this.props\r\n        if (type === 'textarea') {\r\n            return <textarea className='form-control' ref={this.area}\r\n                maxLength={maxLength} rows={rows ? rows : 5} id={id} style={style}\r\n                placeholder={placeholder} defaultValue={value}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onKeyUp={this.keyUp.bind(this)}\r\n                onFocus={this.onFocus.bind(this)} />\r\n        }\r\n        return <>\r\n            <input className='form-control' maxLength={maxLength}\r\n                id={id} list={listLabel} placeholder={placeholder} ref={this.ref}\r\n                defaultValue={this.getValue()}\r\n                {...this.getProps()}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onKeyUp={this.keyUp.bind(this)}\r\n                onFocus={this.onFocus.bind(this)} />\r\n        </>\r\n    }\r\n    stringValue() {\r\n        let input = this.ref.current ? this.ref.current : false;\r\n        if (input) {\r\n            let { setData, update } = this.props;\r\n            if (update !== undefined)\r\n                setData({ [update]: input.value.toUpperCase() });\r\n            input.value = input.value.toUpperCase();\r\n        } else {\r\n            let input = this.area.current ? this.area.current : false;\r\n            if (input) {\r\n                let { setData, update } = this.props;\r\n                if (update !== undefined)\r\n                    setData({ [update]: input.value.toUpperCase() });\r\n                input.value = input.value.toUpperCase();\r\n            }\r\n        }\r\n    }\r\n    numberValue() {\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { minValue, setData, update, value } = this.props,\r\n                r = (input.value === \"\") ? value as number : parseFloat(input.value);\r\n            if (minValue)\r\n                if (r < minValue)\r\n                    r = minValue;\r\n            if (update !== undefined)\r\n                setData({ [update]: r });\r\n        }\r\n    }\r\n    onBlur() {\r\n        this.setState({ selected: false })\r\n        let { type } = this.props\r\n        if (type === \"number\") {\r\n            this.numberValue();\r\n        } else {\r\n            this.stringValue();\r\n        }\r\n    }\r\n    keyUp(e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) {\r\n        let { update, setData, type, mask } = this.props\r\n        let { value } = e.currentTarget\r\n        if (type !== \"number\" && type !== 'password') {\r\n            let r = value.toUpperCase()\r\n            if (mask) {\r\n                if (e.keyCode !== 8) {\r\n                    r = maskFormat(r, mask);\r\n                }\r\n                if (update !== undefined)\r\n                    setData({ [update]: r })\r\n            }\r\n        }\r\n    }\r\n    onFocus() {\r\n        this.setState({ selected: true })\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { value, type } = this.props;\r\n            if (type !== 'number') {\r\n                input.value = value + '';\r\n            } else {\r\n                input.value = '';\r\n            }\r\n        }\r\n    }\r\n    getValue() {\r\n        let { value, type } = this.props;\r\n        if (type === 'number') {\r\n            let r = value as number;\r\n            return this.state.selected ? r : numberFormat(r);\r\n        }\r\n        let s = value as string\r\n        return s.toUpperCase();\r\n    }\r\n    getProps() {\r\n        let { type, step, style } = this.props\r\n        if (type === 'number') {\r\n            style = { ...style, textAlign: 'right' }\r\n            if (this.state.selected) {\r\n                return { step, minLength: 0, min: 0, type, style, defaultValue: this.getValue() };\r\n            }\r\n        }\r\n        if (this.state.selected) {\r\n            return { style, defaultValue: this.getValue() };\r\n        }\r\n        return { style, value: this.getValue() }\r\n    }\r\n}","\r\nimport React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport SetText from '../../../Utils/setTex'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles { }\r\nexport default class FilaEntrada extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 1, comentario: '' };\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo } = this.state\r\n        return <>\r\n            <tr>\r\n                <td>{codigo}</td>\r\n                <td>{descripcion}</td>\r\n                <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n                <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={precio} update=\"precio\" /></td>\r\n                <td>\r\n                    <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                        className=\"form-control\">{(precio * unidades).toFixed(2)}</span>\r\n                </td>\r\n                <td style={{ textAlign: 'right' }}>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"primary\" onClick={() => { this.props.add(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"glyphicon glyphicon-plus\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n\r\n\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\ninterface PropsFila {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n    color?: string\r\n}\r\nexport default class FilaSeleccion extends React.Component<PropsFila>{\r\n    render() {\r\n        let { producto: { codigo, descripcion } } = this.props\r\n        return <tr>\r\n            <th>{codigo}</th>\r\n            <th>{descripcion}</th>\r\n            <th>\r\n                <Button data-tip=\"Agregar Producto\" onClick={() => { this.props.add({ ...this.props.producto, unidades: 1, comentario: '', precio: 1 }) }} bsStyle=\"primary\">\r\n                    <i className=\"glyphicon glyphicon-plus\" />\r\n                </Button>\r\n            </th>\r\n        </tr >\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport SetText from '../../../Utils/setTex'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nexport default class FilaFactura extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        let { costo, precio1 } = p.producto;\r\n        this.state = {\r\n            ...p.producto,\r\n            unidades: 1,\r\n            comentario: '',\r\n            precio: (costo * (1 + precio1 / 100))\r\n        }\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, costo, precio1, precio2, precio3 } = this.state\r\n        return <tr>\r\n            <td>{codigo}</td>\r\n            <td>{descripcion}</td>\r\n            <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n            <td>\r\n                <SetText step='0.01' listLabel={costo + 'list'}\r\n                    minValue={costo * (1 + precio1 / 100)} type=\"number\"\r\n                    setData={this.setState} value={parseFloat(precio.toFixed(2))} update=\"precio\" />\r\n                <datalist id={costo + 'list'}>\r\n                    <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                </datalist>\r\n            </td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{(precio * unidades).toFixed(2)}</span>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n                <ButtonGroup>\r\n                    <Button bsStyle=\"primary\" onClick={() => { this.props.add(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                        <i className=\"glyphicon glyphicon-plus\"></i>\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </td>\r\n        </tr>\r\n    }\r\n}","import React from 'react'\r\nimport { Departamento } from '../../../Modelos/Productos';\r\nimport { getPreCache } from '../../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: string) => void\r\n    defaultValue: string\r\n    width?: string\r\n}\r\ninterface State {\r\n    Departamentos: Departamento[] | 'carro'\r\n}\r\nexport default class DepartamentoSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { Departamentos: 'carro' };\r\n    }\r\n    setUsers(c: Departamento[]) {\r\n        this.setState({ Departamentos: c })\r\n    }\r\n    render() {\r\n        return <select style={{ width: this.props.width }} onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={''}>SELECCIONAR UN DEPARTAMENTO</option>\r\n            {(this.state.Departamentos !== 'carro') ? this.state.Departamentos.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        this.props.change(value)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Producto/departamentos', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from 'react';\r\nimport { Detalles } from '../../../Modelos/General';\r\nimport { Producto, productoLabel } from '../../../Modelos/Productos';\r\nimport ModalBusqueda from '../../../Utils/ModalBusqueda';\r\nimport FilaEntrada from './FilaEntrada';\r\nimport { filtro } from '../../../Utils/Utiles';\r\nimport FilaSeleccion from './FilaSeleccion';\r\nimport FilaFactura from './FilaFactura';\r\nimport { Button, Row } from 'react-bootstrap';\r\nimport DepartamentoSelector from '../Departamento/Selector';\r\ninterface Props {\r\n    type: 'Cotizacion' | 'Compra' | 'Factura' | 'Nota' | 'Orden' | 'Salida' | 'Entrada' | 'Precio' | 'Seleccion'\r\n    add: (p: Detalles) => void\r\n}\r\nexport default class BuscarProducto extends ModalBusqueda<Props, Producto, productoLabel>{\r\n    buscarLabel: productoLabel[] = ['codigo', 'descripcion'];\r\n    departamento: string = '';\r\n    title() {\r\n        return <h4>BUSCAR PRODUCTOS</h4>\r\n    }\r\n    setDepartamento(departamento: string) {\r\n        this.departamento = departamento;\r\n        this.forceUpdate();\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"col-md-12\">\r\n                <div style={{ position: 'relative', width: \"100%\" }} className=\"input-group\">\r\n                    <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                    <DepartamentoSelector width='300px' defaultValue={this.departamento} change={this.setDepartamento.bind(this)} />\r\n                    <div className=\"input-group-append\">\r\n                        <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                    </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>CODIGO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"descripcion\") }} onClick={() => { this.setOrden(\"descripcion\") }}>DESCRIPCION {this.flechas(\"descripcion\")}</th>\r\n            {this.props.type !== 'Seleccion' ? <>\r\n                <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n            </> : <></>}\r\n            <th >ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: Producto) {\r\n        switch (this.props.type) {\r\n            case 'Seleccion':\r\n                return <FilaSeleccion key={c.codigo + c.descripcion} producto={c} add={this.props.add} />\r\n            case 'Entrada': case 'Compra': case 'Orden':\r\n                return <FilaEntrada key={c.codigo + c.descripcion} producto={c} add={this.props.add} />\r\n            case 'Nota': case 'Factura': case 'Cotizacion':\r\n                return <FilaFactura key={c.codigo + c.descripcion} producto={c} add={this.props.add} />\r\n        }\r\n        return <></>;\r\n    }\r\n    filtros() {\r\n        let { type } = this.props;\r\n        let departamento = this.departamento;\r\n        let itens = super.filtros();\r\n        itens = filtro(itens, 1, 'estatus');\r\n        if (departamento !== '')\r\n            itens = itens.filter(c => {\r\n                if (c.departamento === departamento) return true;\r\n                return false;\r\n            });\r\n        if (type === 'Factura' || type === 'Nota')\r\n            itens = itens.filter(c => {\r\n                if (c.cantidad > 0) return true;\r\n                return false;\r\n            });\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Producto/lista');\r\n    }\r\n}","import React from 'react'\r\nimport { UsuarioFila } from '../../Modelos/Usuario';\r\nimport { getPreCache } from '../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n}\r\ninterface State {\r\n    usuarios: UsuarioFila[] | 'carro'\r\n}\r\nexport default class UsuarioSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { usuarios: 'carro' };\r\n    }\r\n    setUsers(c: UsuarioFila[]) {\r\n        this.setState({ usuarios: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>TODOS LOS USUARIOS</option>\r\n            {(this.state.usuarios !== 'carro') ? this.state.usuarios.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.nombre}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Usuario/lista', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Pagination, Panel, Row, Table } from \"react-bootstrap\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport BuscarProducto from \"../App/Productos/BuscarProducto\";\r\nimport UsuarioSelector from \"../App/Usuarios/Select\";\r\nimport { GeneralFila } from \"../Modelos/General\";\r\nimport { Producto } from \"../Modelos/Productos\";\r\nimport { filaLabel, busqueda, busquedaFechas, ordenarPor, filtrarProducto, filtro, getPreCache } from \"./Utiles\";\r\ninterface State {\r\n    itens: GeneralFila[] | \"carro\"\r\n    productos: Producto[]\r\n    modalProductos: boolean\r\n    buscar: string\r\n    fecha_ini: string\r\n    fecha_fin: string\r\n    user: number\r\n    estatus: number\r\n    page: number\r\n    open: boolean\r\n    ordenar: filaLabel\r\n}\r\nexport default class Tabla extends React.Component<any, State>{\r\n    placeholder = \"\";\r\n    mostrar = 10\r\n    buscarLabel: filaLabel[] = ['codigo', 'fecha', 'nombre']\r\n    estatus: { label: string, value: number }[] = []\r\n    orden: string = \"desc\";\r\n    length = 0;\r\n    constructor(p: any) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        this.setBuscar = this.setBuscar.bind(this);\r\n        this.state = { itens: \"carro\", productos: [], modalProductos: false, buscar: '', fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa', user: -1, estatus: -1, page: 1, open: false, ordenar: 'codigo' };\r\n    }\r\n    close() {\r\n        this.setState({ open: false })\r\n    }\r\n    body() {\r\n        var page = this.state.page - 1;\r\n        var init = page * this.mostrar;\r\n        var fin = init + this.mostrar;\r\n        var itens = this.filtros().filter((iten, index) => {\r\n            if (index >= init && index < fin) {\r\n                return true\r\n            }\r\n            return false\r\n        })\r\n        var pts = itens.map((iten) => {\r\n            return this.Row(iten)\r\n        })\r\n        return pts\r\n    }\r\n    paginacion() {\r\n        if (this.length === 0)\r\n            return <></>\r\n        var total_page = Math.ceil(this.length / this.mostrar)\r\n        var page = this.state.page\r\n        var buttons = []\r\n        if (page === 1) {\r\n            buttons.push(<Pagination.Item key=\"active1\" active>1</Pagination.Item>)\r\n        } else {\r\n            buttons.push(<Pagination.Item key=\"p1\" onClick={this.setpage.bind(this, 1)}>1</Pagination.Item>)\r\n        }\r\n        for (var i = 3; i > 0; i--) {\r\n            if ((page - i) > 1) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis1\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page - i)} onClick={this.setpage.bind(this, page - i)}>{page - i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (total_page > page && page > 1) {\r\n            buttons.push(<Pagination.Item active>{page}</Pagination.Item>)\r\n        }\r\n        for (i = 1; i < 4; i++) {\r\n            if ((page + i) < total_page) {\r\n                if (i === 3) {\r\n                    buttons.push(<Pagination.Ellipsis key=\"Ellipsis2\" />)\r\n                } else {\r\n                    buttons.push(<Pagination.Item key={\"p\" + (page + i)} onClick={this.setpage.bind(this, page + i)}>{page + i}</Pagination.Item>)\r\n                }\r\n            }\r\n        }\r\n        if (page === total_page) {\r\n            if (1 !== total_page) {\r\n                buttons.push(<Pagination.Item key={\"active\" + total_page} active>{total_page}</Pagination.Item>)\r\n            }\r\n        } else {\r\n            buttons.push(<Pagination.Item key={\"p\" + total_page} onClick={this.setpage.bind(this, total_page)}>{total_page}</Pagination.Item>)\r\n        }\r\n        return buttons\r\n    }\r\n    pagination() {\r\n        return <Pagination style={{ position: \"relative\", float: \"right\" }}>{this.paginacion()}</Pagination>\r\n    }\r\n    setBuscar(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        this.setState({ buscar: value.toUpperCase() });\r\n        this.setpage(1)\r\n    }\r\n    setOrden(label: filaLabel | '') {\r\n        if (label !== '')\r\n            if (this.state.ordenar === label) {\r\n                if (this.orden === \"asc\")\r\n                    this.orden = \"desc\";\r\n                else\r\n                    this.orden = \"asc\";\r\n                this.forceUpdate();\r\n            } else {\r\n                this.orden = \"desc\";\r\n                this.setState({ ordenar: label })\r\n            }\r\n    }\r\n    flechas(label: filaLabel | '') {\r\n        if (this.state.ordenar === label) {\r\n            if (this.orden === \"desc\") {\r\n                return <i className=\"fa fa-arrow-up\" />\r\n            } else {\r\n                return <i className=\"fa fa-arrow-down\" />\r\n            }\r\n        }\r\n        return <></>\r\n    }\r\n    colorOrden(label: filaLabel | '') {\r\n        if (this.state.ordenar === label) {\r\n            return '#afd9ee'\r\n        }\r\n        return ''\r\n    }\r\n    filtros() {\r\n        let { itens, user, fecha_fin, fecha_ini, buscar, productos, estatus, ordenar } = this.state;\r\n        if (itens !== 'carro') {\r\n            itens = busqueda(itens, buscar, this.buscarLabel);\r\n            itens = busquedaFechas(itens, fecha_ini, fecha_fin);\r\n            itens = filtro(itens, user, 'usuario');\r\n            itens = filtro(itens, estatus, 'status');\r\n            itens = filtrarProducto(itens, productos);\r\n            itens = ordenarPor(itens, this.orden, ordenar);\r\n            this.length = itens.length;\r\n            return itens;\r\n        }\r\n        return [];\r\n    }\r\n    render() {\r\n        let randon = Math.random();\r\n        return <Panel key={randon + 'tabla'} bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <Panel.Heading>\r\n                {this.title()}\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <Panel.Body style={{ paddingTop: 0 }}>{this.renderBusqueda()}</Panel.Body>\r\n                <Panel.Collapse>\r\n                    <Panel><Panel.Body>{this.Avansado()}</Panel.Body></Panel>\r\n                </Panel.Collapse>\r\n                <Col md={12}>\r\n                    <Table striped condensed hover>\r\n                        <thead>\r\n                            {this.Header()}\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.body()}\r\n                        </tbody>\r\n                    </Table>\r\n                    {this.pagination()}\r\n                </Col>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    title() {\r\n        return <></>;\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <ReactTooltip />\r\n            <div className=\"input-group col-md-12\">\r\n                <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                <div className=\"input-group-append\">\r\n                    <Button style={{ width: '100px', position: 'relative', borderRadius: 0 }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span> Buscar\r\n                    </Button>\r\n                    <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} data-tip=\"BUSQUEDA AVANSADA\" onClick={() => { this.setState({ open: !this.state.open }) }}>\r\n                        <span className=\"glyphicon glyphicon-wrench\"></span> Avanzado\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    Avansado() {\r\n        return <Row className=\"form\">\r\n            <BuscarProducto type='Seleccion' open={this.state.modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n            <Col style={{ width: '525px', paddingLeft: 10 }} md={6}>\r\n                <div className=\"input-group\">\r\n                    <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">Rango de fechas</span>\r\n                    <input style={{ width: '160px', position: 'relative' }} className=\"form-control\" onChange={this.setFechaInicio.bind(this)} value={this.state.fecha_ini} name=\"fecha_ini\" type=\"date\" />\r\n                    <input style={{ width: '160px', position: 'relative' }} className=\"form-control\" onChange={this.setFechaFin.bind(this)} value={this.state.fecha_fin} name=\"fecha_fin\" type=\"date\" />\r\n                    <Button onClick={this.limpiarFechas.bind(this)} data-tip=\"LIMPIAR FECHAS\" style={{ width: '40px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"danger\"><i className=\"glyphicon glyphicon-ban-circle\"></i></Button>\r\n                </div>\r\n            </Col>\r\n            <Col style={{ width: '230px', paddingLeft: 0 }} md={2}>\r\n                <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={this.setStatus.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n                    <option value={-1}>TODOS LOS ESTADOS</option>\r\n                    {this.estatus.map(m => {\r\n                        return <option value={m.value}>{m.label}</option>\r\n                    })}\r\n                </select>\r\n            </Col>\r\n            <Col data-tip=\"FILTRAR POR USUARIO QUE REALIZO LA OPERACION\" style={{ width: '230px', paddingLeft: 0 }} md={3}>\r\n                <UsuarioSelector change={(u: number) => { this.setState({ user: u }) }} defaultValue={this.state.user} />\r\n            </Col>\r\n            <Col md={2}>\r\n                <Button data-tip=\"FILTRAR POR LOS PRODUCTOS SELECCIONADOS\" onClick={() => { this.setState({ modalProductos: true }) }}><span className=\"glyphicon glyphicon-search\"></span>Articulos a Buscar</Button>\r\n            </Col>\r\n            <Col md={12}>\r\n                <Table striped condensed hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={{ width: \"10%\" }} className=\"text-center\">CODIGO</th>\r\n                            <th style={{ width: \"80%\" }} >DESCRIPCION</th>\r\n                            <th style={{ width: \"10%\" }} >Quitar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.productos.map((iten) => {\r\n                            return (<tr>\r\n                                <td className=\"text-center\">{iten.codigo}</td>\r\n                                <td>{iten.descripcion}</td>\r\n                                <td className=\"text-center\">\r\n                                    <Button bsStyle=\"danger\" onClick={() => { this.removeProducto(iten.codigo) }}>\r\n                                        <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                                    </Button>\r\n                                </td>\r\n                            </tr>);\r\n                        })}\r\n                    </tbody>\r\n                </Table>\r\n            </Col>\r\n        </Row >\r\n    }\r\n    Header() {\r\n        let width = window.innerWidth - 890;\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ width: width + 'px', backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>CLIENTE {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"160px\", backgroundColor: this.colorOrden(\"monto\") }} onClick={() => { this.setOrden(\"monto\") }}>MONTO {this.flechas(\"monto\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: any) {\r\n        return <></>;\r\n    }\r\n    setpage(page: number) {\r\n        this.setState({ page })\r\n    }\r\n    setItens(itens: Array<any>) {\r\n        let n = JSON.stringify(itens);\r\n        let s = JSON.stringify(this.state.itens);\r\n        if (n !== s) this.setState({ itens });\r\n    }\r\n    setStatus(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        let r = parseInt(value);\r\n        this.setState({ estatus: r });\r\n    }\r\n    setFechaInicio(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.setState({ fecha_ini: value });\r\n    }\r\n    setFechaFin(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.setState({ fecha_fin: value });\r\n    }\r\n    limpiarFechas() {\r\n        this.setState({ fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa' });\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ productos: [...this.state.productos, p] })\r\n    }\r\n    removeProducto(cod: String) {\r\n        this.setState({\r\n            productos: this.state.productos.filter(p => {\r\n                if (p.codigo === cod) return false;\r\n                return true;\r\n            })\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    update(url: string) {\r\n        getPreCache(url, data => { this.setItens(data); });\r\n    }\r\n    set() {\r\n\r\n    }\r\n}","import React from 'react';\r\nimport { Modal, Row } from 'react-bootstrap';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    url: string,\r\n    title: string\r\n}\r\nexport default class ModalPrint extends React.Component<Props> {\r\n\r\n    render() {\r\n        let { title, close, url, open } = this.props;\r\n        return <Modal show={open} onHide={close} bsSize=\"lg\">\r\n            <Modal.Header  closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{title}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <iframe src={url} width='100%' height='600wh' title=\"print\" scrolling='no' frameBorder='0'></iframe>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n}","import React from 'react';\r\nimport { Button, ButtonGroup, Modal, Row } from 'react-bootstrap';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    title: string\r\n    msn: string\r\n    accion: () => void\r\n}\r\nexport default class ModalAlert extends React.Component<Props> {\r\n\r\n    render() {\r\n        let { title, close, msn, open, accion } = this.props;\r\n        return <Modal show={open} onHide={close} className=' modal-warning'>\r\n            <Modal.Header style={{ borderRadius: 0 }} closeButton>\r\n                <h4 className=\"m-0 font-weight-bold mr-auto align-self-center\">\r\n                    <span><b>{title}</b></span>\r\n                </h4>\r\n            </Modal.Header>\r\n            <Modal.Body >\r\n                <Row style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    {msn}\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer >\r\n                <ButtonGroup className=\"pull-right\">\r\n                    <Button onClick={accion} bsStyle=\"success\">\r\n                        <span className=\"glyphicon glyphicon-ok-circle\"></span> Aceptar\r\n                    </Button>\r\n                    <Button onClick={close} bsStyle=\"danger\">\r\n                        <span className=\"glyphicon glyphicon-remove-circle\"></span> Cancelar\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n}","import { Producto } from \"./Productos\";\r\nexport interface Detalles extends Producto {\r\n    unidades: number,\r\n    comentario: string,\r\n    precio: number,\r\n}\r\nexport interface GeneralFila {\r\n    codigo: number\r\n    fecha: string\r\n    nombre: string\r\n    telefono: string\r\n    correo: string,\r\n    contacto: string,\r\n    nota: string\r\n    tasa: number\r\n    monto: number\r\n    usuario: number\r\n    status: 0 | 1 | 2\r\n    detalles: string[]\r\n}\r\nexport interface GeneralData {\r\n    codigo: number,\r\n    nota: string,\r\n    fecha: string,\r\n    subtotal: number,\r\n    total: number,\r\n    impuesto: number,\r\n    detalles: Detalles[]\r\n}\r\nexport interface CondicionesData extends GeneralData {\r\n    forma_pago: string\r\n    tiempo_entrega: string\r\n    validez: string\r\n}\r\nexport var generalNull: GeneralData = {\r\n    codigo: 0,\r\n    nota: '',\r\n    fecha: '',\r\n    subtotal: 0,\r\n    total: 0,\r\n    impuesto: 0,\r\n    detalles: []\r\n}\r\nexport var condicionesNull: CondicionesData = {\r\n    ...generalNull,\r\n    forma_pago: '',\r\n    tiempo_entrega: '',\r\n    validez: '',\r\n}\r\n\r\nexport function getSubtotal(d: Detalles[]) {\r\n    let subtotal = 0;\r\n    d.forEach(e => {\r\n        let { precio, unidades } = e;\r\n        subtotal += precio * unidades;\r\n    })\r\n    return subtotal;\r\n}\r\nexport function getCosto(d: Detalles[]) {\r\n    let subtotal = 0;\r\n    d.forEach(e => {\r\n        let { costo, unidades } = e;\r\n        subtotal += costo * unidades;\r\n    })\r\n    return subtotal;\r\n}\r\nexport function sentDetalles(d: Detalles[]) {\r\n    return d.map(e => {\r\n        let { codigo, precio, unidades, comentario } = e;\r\n        return { codigo, precio, unidades, comentario };\r\n    })\r\n}\r\n\r\nexport type tipoData = 'Cotizacion' | 'Orden' | 'Nota' | 'Factura' | 'Compra';","import React from 'react'\r\nimport { Modal, Row, Table } from 'react-bootstrap';\r\nimport { GeneralData, generalNull, tipoData } from '../Modelos/General';\r\nimport { numberFormat } from './Utiles';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n    tipo: tipoData\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, GeneralData> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = generalNull;\r\n    }\r\n    render() {\r\n        let { detalles } = this.state;\r\n        let suma = 0;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal bsSize='lg' animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row style={{ padding: '0px 30px 0px 30px' }}>\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>CODE</th>\r\n                                <th>DESCRIPCION</th>\r\n                                <th style={{ width: \"40px\", textAlign: \"right\" }}>CANT</th>\r\n                                <th style={{ width: \"80px\", textAlign: \"right\" }}>PRE/UNT</th>\r\n                                <th style={{ width: \"150px\", textAlign: \"right\" }}>PRECIO</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                suma += s.precio * s.unidades\r\n                                return <tr>\r\n                                    <td style={{ width: \"100px\" }}>{s.codigo}</td>\r\n                                    <td>{s.descripcion}</td>\r\n                                    <td style={{ width: \"40px\" }}>{numberFormat(s.unidades)}</td>\r\n                                    <td style={{ width: \"80px\", textAlign: \"right\" }}>{numberFormat(s.precio)}</td>\r\n                                    <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(s.precio * s.unidades)}</td>\r\n                                </tr>\r\n                            })}\r\n                            <tr>\r\n                                <td colSpan={3}></td>\r\n                                <td style={{ width: \"80px\", textAlign: \"right\" }}><b>TOTAL:</b></td>\r\n                                <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(suma)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        fetch('/api/' + this.props.tipo + '/detalles/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState(data);\r\n                this.forceUpdate();\r\n            });\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { GeneralFila, tipoData } from '../Modelos/General';\r\nimport ModalPrint from './ModalPrint';\r\nimport ModalAlert from './ModalAlert';\r\nimport ModalDetalle from './ModalDetalle';\r\nimport { formatoFecha, numberFormat, zfill } from './Utiles';\r\n\r\ninterface Props {\r\n    data: GeneralFila\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    print: boolean\r\n    detalles: boolean\r\n    aux: boolean\r\n    eliminar: boolean\r\n}\r\nexport default class FilaProto extends React.Component<Props, State>{\r\n    Label: 'COTIZACI√ìN' | 'COMPRA' | 'FACTURA' | 'NOTA DE ENTREGA' | 'ORDEN DE COMPRA' = 'COTIZACI√ìN';\r\n    tipo: tipoData = 'Nota';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { print: false, detalles: false, aux: false, eliminar: false };\r\n    }\r\n    render() {\r\n        let cot = this.props.data,\r\n            maxWidth = window.innerWidth - 890;\r\n        return <tr >\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\" }}>\r\n                {this.tipo !== 'Cotizacion' ? <ModalDetalle\r\n                    tipo={this.tipo} titulo={\"DETALLES DE LA \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    id={cot.codigo} open={this.state.detalles} close={this.close.bind(this)}\r\n                /> : <></>}\r\n                <Button data-tip=\"VER DETALLEA\" onClick={() => { this.setState({ detalles: true }) }} bsStyle=\"link\" >\r\n                    {zfill(cot.codigo)}\r\n                </Button>\r\n            </th>\r\n            <th style={{ minWidth: \"90px\", maxWidth: \"90px\", paddingTop: 10 }}>{formatoFecha(cot.fecha)}</th>\r\n            <th>\r\n                <ReactTooltip />\r\n                <Button\r\n                    style={{ maxWidth, whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\" }}\r\n                    data-class=\"toolbody\" data-html=\"true\" data-tip={this.tooltipCliente()} bsStyle=\"link\" >\r\n                    {cot.nombre}\r\n                </Button>\r\n            </th>\r\n            <th style={{ minWidth: \"160px\", maxWidth: \"160px\", paddingTop: 10, textAlign: 'right' }}>{numberFormat(cot.monto)}</th>\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\", paddingTop: 5, fontSize: 17 }}>{this.getStatus()}</th>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                {this.tipo !== 'Cotizacion' ? <ModalPrint title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    url={\"/api/\" + this.tipo + \"/PDF/\" + cot.codigo}\r\n                    open={this.state.print} close={this.close.bind(this)} /> : <></>}\r\n                <ModalAlert title={\"ELIMINAR \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    msn={\"ESTA SEGURO QUE ELIMINARA LA \" + this.Label + \" N¬∞\" + cot.codigo + \"?\"}\r\n                    open={this.state.eliminar} close={this.close.bind(this)} accion={this.cancelar.bind(this)} />\r\n                {this.getModal()}\r\n                {this.getButtons()}\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        return <></>;\r\n    }\r\n    getStatus() {\r\n        return <span className=\"label label-danger\">CANCELADA</span>\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    tooltipCliente() {\r\n        let cot = this.props.data\r\n        return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n            \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n            cot.contacto + \"<br />\" +\r\n            \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n            cot.correo + \"<br />\" +\r\n            \"<b>TELEFONO:</b><br />\" +\r\n            cot.telefono\r\n    }\r\n    close() {\r\n        this.setState({ print: false, detalles: false, aux: false, eliminar: false });\r\n    }\r\n    cancelar() {\r\n        this.close();\r\n        fetch(\"/api/\" + this.tipo + \"/cancelar/\" + this.props.data.codigo)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (this.props.update)\r\n                    this.props.update()\r\n            });\r\n    }\r\n}","import React from 'react'\r\nimport { Table, Modal, Row, Button, Col } from 'react-bootstrap';\r\nimport { formatoFecha, formatoHora, post } from './Utiles';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    id: number,\r\n    type: 'Cotizacion' | 'Orden'\r\n}\r\ninterface Seguimiento {\r\n    descripcion: string,\r\n    usuario: string,\r\n    fecha: string,\r\n    correo: string\r\n}\r\ninterface State {\r\n    mensajes: Seguimiento[],\r\n    msn: string\r\n}\r\nclass FilaSeguimiento extends React.Component<{ seguimiento: Seguimiento }> {\r\n    render() {\r\n        let { descripcion, usuario, fecha, correo } = this.props.seguimiento;\r\n        return <tr>\r\n            <th style={{ width: \"300px\", maxWidth: \"300px\" }}>\r\n                {usuario}<br />{correo}\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {formatoFecha(fecha)}<br />\r\n                {formatoHora(fecha)}\r\n            </th>\r\n            <th>\r\n                {descripcion}\r\n            </th>\r\n        </tr>\r\n    }\r\n}\r\nexport default class Seguimientos extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLDivElement>()\r\n    msn: any = undefined\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { msn: \"\", mensajes: [] };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { mensajes } = this.state\r\n        return <Modal bsSize=\"lg\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header  style={{ color: '#31708f', backgroundColor: '#d9edf7', borderTopLeftRadius: '6px', borderTopRightRadius: '6px' }}>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>BITACORA DE COTIZACI√ìN N¬∞ {this.props.id}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <Table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{ width: \"300px\" }}>USUARIO</th>\r\n                                    <th style={{ width: \"100px\" }}>FECHA</th>\r\n                                    <th>MENSAJE</th>\r\n                                </tr>\r\n                            </thead>\r\n                        </Table>\r\n                        <div ref={this.ref} style={{ overflowY: \"auto\", height: 400, maxHeight: 400, width: \"100%\" }}>\r\n                            <Table>\r\n                                <tbody>\r\n                                    {mensajes.map((s, i) => {\r\n                                        return <FilaSeguimiento key={s.usuario + i} seguimiento={s} />\r\n                                    })}\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xs={12}>\r\n                        <Col xs={12} className=\"input-group\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">Mensaje</span>\r\n                            <input style={{ position: 'relative', width: \"calc(100% - 140px)\" }} onKeyUp={this.setMsn.bind(this)} defaultValue={this.state.msn} className=\"form-control\" />\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={this.enviar.bind(this)}>\r\n                                <span className=\"glyphicon glyphicon-send\"></span>\r\n                            </Button>\r\n                        </Col>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    setMsn(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        if (this.msn === undefined)\r\n            this.msn = e.currentTarget\r\n        this.setState({ msn: value })\r\n        if (e.keyCode === 13) {\r\n            this.enviar()\r\n        }\r\n    }\r\n    enviar() {\r\n        this.sent();\r\n        let m = this.state.mensajes,\r\n            date = new Date().toDateString();\r\n        let fecha = formatoFecha(date) + \" \" + formatoHora(date);\r\n        this.setState({\r\n            mensajes: [...m, {\r\n                descripcion: this.state.msn,\r\n                fecha, usuario: \"\", correo: \"\"\r\n            }]\r\n        })\r\n        this.clear()\r\n    }\r\n    clear() {\r\n        if (this.msn !== undefined)\r\n            this.msn.value = ''\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    sent() {\r\n        post('/api/' + this.props.type + '/seguimiento_nuevo/' + this.props.id,\r\n            { descripcion: this.state.msn },\r\n            data => { this.set(); });\r\n    }\r\n    set() {\r\n        fetch('/api/' + this.props.type + '/seguimiento/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({ mensajes: data })\r\n            });\r\n    }\r\n}","import React from 'react'\r\nimport { Modal, Row, Table } from 'react-bootstrap';\r\nimport { GeneralData, generalNull } from '../../Modelos/General';\r\nimport { numberFormat } from '../../Utils/Utiles';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, GeneralData> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = generalNull;\r\n    }\r\n    render() {\r\n        let { detalles } = this.state;\r\n        let suma = 0;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal dialogClassName=\"modal-detalle\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header  closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>CODE</th>\r\n                                <th>DESCRIPCION</th>\r\n                                <th style={{ width: \"40px\", textAlign: \"right\" }}>CANT</th>\r\n                                <th style={{ width: \"80px\", textAlign: \"right\" }}>PRE/UNT</th>\r\n                                <th style={{ width: \"150px\", textAlign: \"right\" }}>PRECIO</th>\r\n                                <th>NOTA</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                suma += s.precio * s.unidades\r\n                                return <tr>\r\n                                    <td style={{ width: \"100px\" }}>{s.codigo}</td>\r\n                                    <td>{s.descripcion}</td>\r\n                                    <td style={{ width: \"40px\" }}>{numberFormat(s.unidades)}</td>\r\n                                    <td style={{ width: \"80px\", textAlign: \"right\" }}>{numberFormat(s.precio)}</td>\r\n                                    <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(s.precio * s.unidades)}</td>\r\n                                    <td>{s.comentario}</td>\r\n                                </tr>\r\n                            })}\r\n                            <tr>\r\n                                <td colSpan={3}></td>\r\n                                <td style={{ width: \"80px\", textAlign: \"right\" }}>total:</td>\r\n                                <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(suma)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        fetch('/api/Cotizacion/detalles/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState(data);\r\n                this.forceUpdate();\r\n            });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Modal, Row } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    codigo: string,\r\n    title: string\r\n}\r\nexport default class ModalPrint extends React.Component<Props, { dolar: boolean }> {\r\n    state = { dolar: false };\r\n    render() {\r\n        let { title, close, codigo, open } = this.props;\r\n        return <Modal show={open} onHide={close} bsSize=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{title}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <ReactTooltip />\r\n                    {this.state.dolar ? <Button data-tip=\"CAMBIAR A BOLIVARES\" style={{ marginRight: \"15px\" }} bsStyle=\"warning\"\r\n                        className=\"btn-block\" onClick={() => { this.setState({ dolar: !this.state.dolar }) }} >\r\n                        <span className=\"glyphicon glyphicon-usd\" /> VISTA EN DOLARES\r\n                </Button> : <Button data-tip=\"CAMBIAR A DOLARES\" style={{ marginRight: \"15px\" }} bsStyle=\"primary\"\r\n                        className=\"btn-block\" onClick={() => { this.setState({ dolar: !this.state.dolar }) }} >\r\n                        <b>BS</b> VISTA EN BOLIVARES\r\n                </Button>}\r\n                    {this.state.dolar ? <iframe src={\"/api/Cotizacion/PDFD/\" + codigo} width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0' /> :\r\n                        <iframe src={\"/api/Cotizacion/PDF/\" + codigo} width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0' />}\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\nimport ModalPrint from '../../Utils/ModalPrint';\r\nimport Seguimientos from '../../Utils/Seguimiento';\r\nimport { zfill } from '../../Utils/Utiles';\r\nimport ModalDetalle from './ModalDetalle';\r\nimport PrintDolar from './ModalPrint';\r\n\r\nexport default class FilaCotizacio extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'COTIZACI√ìN';\r\n        this.tipo = 'Cotizacion';\r\n    }\r\n    getModal() {\r\n        let { codigo, tasa } = this.props.data;\r\n        return <>\r\n            {(tasa > 0) ? <PrintDolar title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(codigo)}\r\n                codigo={zfill(codigo)}\r\n                open={this.state.print} close={this.close.bind(this)} /> : <ModalPrint title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(codigo)}\r\n                    url={\"/api/\" + this.tipo + \"/PDF/\" + codigo}\r\n                    open={this.state.print} close={this.close.bind(this)} />}\r\n            <Seguimientos\r\n                type='Cotizacion'\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n            <ModalDetalle\r\n                titulo={\"DETALLES DE LA COTIZACI√ìN N¬∞ \" + zfill(codigo)}\r\n                id={codigo}\r\n                open={this.state.detalles}\r\n                close={this.close.bind(this)} />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 1:\r\n                return <span className=\"label label-warning\">PENDIENTE</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">PROCESADA</span>\r\n            default:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER SEGUIMIENTO\"\r\n                onClick={() => { this.setState({ aux: true }) }} >\r\n                <i className=\"glyphicon glyphicon-eye-open\"></i>\r\n            </Button>\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaCotizacion from './FilaCotizacio'\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListCotizaciones extends Tabla {\r\n    placeholder = \"BUSCAR COTIZACI√ìN\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'PENDIENTE' }, { value: 2, label: 'PROCESADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_cotizacion\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> Nueva Cotizaci√≥n</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> Buscar Cotizaciones</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaCotizacion update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    set() {\r\n        this.update('/api/Cotizacion/lista');\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\n\r\nexport default class FilaFactura extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'FACTURA';\r\n        this.tipo = 'Factura';\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 2) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.status === 2)\r\n            return <span className=\"label label-success\">FACTURADA</span>\r\n        return <span className=\"label label-danger\">CANCELADA</span>;\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaFactura from './FilaFactura';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListFactura extends Tabla {\r\n    placeholder = \"BUSCAR COTIZACI√ìN\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 2, label: 'PROCESADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_factura\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> Nueva Factura</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> Buscar Factura</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaFactura update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    set() {\r\n        this.update('/api/Factura/lista');\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport FilaProto from '../../Utils/FilaProto';\r\n\r\nexport default class FilaNota extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'NOTA DE ENTREGA';\r\n        this.tipo = 'Nota';\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">ENTREGADO</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">FACTURADA</span>\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaNota from './FilaNota';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListNotas extends Tabla {\r\n    placeholder = \"BUSCAR NOTA DE ENTREGA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'ENTREGADA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_nota\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span>NUEVA NOTA DE ENTREGA</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR NOTA DE ENTREGA</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaNota update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    set() {\r\n        this.update('/api/Nota/lista');\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\nimport Seguimientos from '../../Utils/Seguimiento';\r\n\r\nexport default class FilaOrden extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'ORDEN DE COMPRA';\r\n        this.tipo = 'Orden';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <Seguimientos\r\n                type='Orden'\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">EN ESPERA</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">PROCESADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            <Button data-tip=\"VER SEGUIMIENTO\"\r\n                onClick={() => { this.setState({ aux: true }) }} >\r\n                <i className=\"glyphicon glyphicon-eye-open\"></i>\r\n            </Button>\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaOrden from './FilaOrden';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListOrdenes extends Tabla {\r\n    placeholder = \"BUSCAR ORDEN DE COMPRA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'EN ESPERA' }, { value: 2, label: 'PROCESADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_orden\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> NUEVA ORDEN DE COMPRA</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR ORDEN DE COMPRA</h4>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaOrden update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    Header() {\r\n        let width = window.innerWidth - 890;\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ width: width + 'px', backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>PROVEEDOR {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"160px\", backgroundColor: this.colorOrden(\"monto\") }} onClick={() => { this.setOrden(\"monto\") }}>MONTO {this.flechas(\"monto\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    set() {\r\n        this.update('/api/Orden/lista');\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Button, ButtonGroup, Modal, Row } from 'react-bootstrap';\r\nimport SetText from '../../Utils/setTex';\r\nimport { post, zfill } from '../../Utils/Utiles';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void\r\n    id: number\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    cod_doc: string\r\n    num_con: string\r\n    fecha_doc: string\r\n}\r\nexport default class RegistrarFactura extends React.Component<Props, State> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { cod_doc: \"\", num_con: \"\", fecha_doc: \"\" };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { props: { close, open, id }, state: { cod_doc, num_con, fecha_doc }, setState } = this;\r\n        return <Modal bsSize=\"lg\" show={open} onHide={close}>\r\n            <Modal.Header>\r\n                <h4 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>REGISTRAR FACTURA DE COMPRA N¬∞: {zfill(id)}</b></span>\r\n                </h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    <div className=\"form-group col-sm-12\">\r\n                        <div className=\"col-sm-4\">\r\n                            <SetText placeholder=\"Codigo de Documento\" setData={setState} update=\"cod_doc\" value={cod_doc} />\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <SetText placeholder=\"Numero de Comtrol\" setData={setState} update=\"num_con\" value={num_con} />\r\n                        </div>\r\n                        <div className=\"col-sm-4\">\r\n                            <SetText placeholder=\"Fecha de Documento\" type=\"date\" setData={setState} update=\"fecha_doc\" value={fecha_doc} />\r\n                        </div>\r\n                    </div>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <ButtonGroup className=\"pull-right\">\r\n                    <Button onClick={this.actualizar.bind(this)} bsStyle=\"success\">\r\n                        <span className=\"glyphicon glyphicon-ok-circle\"></span> Aceptar\r\n                    </Button>\r\n                    <Button onClick={close} bsStyle=\"danger\">\r\n                        <span className=\"glyphicon glyphicon-remove-circle\"></span> Cancelar\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Modal.Footer>\r\n        </Modal >\r\n    }\r\n    actualizar() {\r\n        post(\"/api/Compra/facturar/\" + this.props.id, this.state, data => { if (this.props.update) this.props.update() });\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport FilaProto from '../../Utils/FilaProto';\r\nimport RegistrarFactura from './RegistrarFactura';\r\n\r\nexport default class FilaCompra extends FilaProto {\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'COMPRA';\r\n        this.tipo = 'Compra';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <RegistrarFactura\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">SIN FACTURA</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">FACTURADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"pull-right\">\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"REGISTAR FACTURA\"\r\n                    onClick={() => { this.setState({ aux: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-pencil\"></i>\r\n                </Button> : <></>}\r\n            <Button data-tip=\"VER IMPRECION\" bsStyle=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"glyphicon glyphicon-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status > 0) ?\r\n                <Button data-tip=\"CANCELAR\" bsStyle=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n}","import React from 'react';\r\nimport Tabla from '../../Utils/Table';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\nimport FilaCompra from './FilaCompra';\r\nimport { Link } from 'react-router-dom';\r\nexport default class ListConpra  extends Tabla {\r\n    placeholder = \"BUSCAR COMPRA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'SIN FACTURA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarLabel: filaLabel[] = [\"codigo\", \"nombre\", 'fecha', 'nota', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <div className=\"btn-group pull-right\">\r\n                <Link to=\"nueva_compra\" className=\"btn btn-info\"><span className=\"glyphicon glyphicon-plus\"></span> NUEVA COMPRA</Link>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR COMPRA</h4>\r\n        </>\r\n    }\r\n    Header() {\r\n        let width = window.innerWidth - 890;\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ width: width + 'px', backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>PROVEEDOR {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"160px\", backgroundColor: this.colorOrden(\"monto\") }} onClick={() => { this.setOrden(\"monto\") }}>MONTO {this.flechas(\"monto\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaCompra update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p}  />\r\n    }\r\n    set() {\r\n        this.update('/api/Compra/lista');\r\n    }\r\n}\r\n","import { sentDetalles, getSubtotal, condicionesNull, CondicionesData, GeneralData } from \"./General\";\r\nvar dataNull = {\r\n    ...condicionesNull,\r\n    cod_proveedor: '',\r\n\r\n}\r\nexport interface Orden extends CondicionesData {\r\n    cod_proveedor: string\r\n}\r\nexport function sentOrden(e: Orden, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_proveedor, validez, tiempo_entrega, forma_pago, nota } = e;\r\n    return {\r\n        cod_proveedor,\r\n        validez,\r\n        tiempo_entrega,\r\n        forma_pago,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport var ordenNull: Orden = dataNull;\r\nexport interface Compra extends GeneralData {\r\n    cod_proveedor: string\r\n    id_orden: number\r\n    cod_documento: string\r\n    cod_nota: string\r\n    nun_control: string\r\n    fecha_documento: string\r\n}\r\nexport function sentCompra(e: Compra, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_proveedor, nota, cod_documento, nun_control, fecha_documento, id_orden } = e;\r\n    return {\r\n        id_orden,\r\n        cod_proveedor,\r\n        cod_documento,\r\n        nun_control,\r\n        fecha_documento,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport var compraNull: Compra = {\r\n    ...dataNull,\r\n    id_orden: 0,\r\n    cod_documento: '',\r\n    cod_nota: '',\r\n    nun_control: '',\r\n    fecha_documento: '',\r\n}","import React from 'react'\r\nimport { Button, ButtonGroup } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify';\r\nimport ModalAlert from './ModalAlert';\r\n\r\ninterface Props {\r\n    Identificador: string,\r\n    data: any\r\n    setData: (d: any) => void\r\n}\r\ninterface State {\r\n    warning: boolean\r\n    msnWarnig: string\r\n    accion: () => void\r\n}\r\nexport default class CacheStorage extends React.Component<Props, State> {\r\n    borrarCache = false;\r\n    state = { warning: false, msnWarnig: '', accion: () => { } };\r\n    render() {\r\n        let { warning, msnWarnig, accion } = this.state;\r\n        return <ButtonGroup>\r\n            <Button bsStyle=\"info\" onClick={this.guardarCache.bind(this)} data-tip=\"GUARDAR EN CACHE\">\r\n                <span className=\"glyphicon glyphicon-save-file\"></span>\r\n            </Button>\r\n            <ModalAlert open={warning} msn={msnWarnig} accion={accion} title='¬°PRECAUCION!' close={this.close.bind(this)} />\r\n            <Button bsStyle=\"warning\" onClick={this.cargarCache.bind(this)} data-tip=\"CARGAR DESDE CACHE\">\r\n                <span className=\"glyphicon glyphicon-open-file\" />\r\n            </Button>\r\n        </ButtonGroup>\r\n    }\r\n    guardarCache() {\r\n        let dataCache = localStorage.getItem('guardar' + this.props.Identificador);\r\n        if (dataCache !== null)\r\n            this.setState({\r\n                accion: () => {\r\n                    localStorage.setItem('guardar' + this.props.Identificador, JSON.stringify(this.props.data))\r\n                    this.borrarCache = false;\r\n                    toast(\"DATOS GUARDADOS\", { type: toast.TYPE.SUCCESS })\r\n                },\r\n                warning: true,\r\n                msnWarnig: '¬°YA HAY DATOS GUARDADOS EN LA CACHE! ¬øSEGURO QUE DESEA SOBREESCRIBIR CON LOS DATOS GUARDADOS CON LOS ACTUALES?'\r\n            })\r\n        else\r\n            localStorage.setItem('guardar' + this.props.Identificador, JSON.stringify(this.props.data))\r\n\r\n    }\r\n    cargarCache() {\r\n        let dataCache = localStorage.getItem('guardar' + this.props.Identificador);\r\n        if (dataCache !== null)\r\n            this.setState({\r\n                accion: () => {\r\n                    if (dataCache !== null)\r\n                        this.props.setData(JSON.parse(dataCache))\r\n                    this.borrarCache = true;\r\n                    toast(\"DATOS CARGADOS\", { type: toast.TYPE.SUCCESS })\r\n                },\r\n                warning: true,\r\n                msnWarnig: '¬øSEGURO QUE DESEA SOBREESCRIBIR CON LOS DATOS ACTUALES CON LOS GUARDADOS?'\r\n            })\r\n        else\r\n            toast(\"NO Hay DATOS GUARDADOS\", { type: toast.TYPE.ERROR })\r\n    }\r\n    close() {\r\n        this.setState({ warning: false });\r\n    }\r\n}","import React from \"react\"\r\nimport { CSSProperties } from \"react\";\r\nimport { InputGroup } from \"react-bootstrap\"\r\nimport { maskFormat, numberFormat } from './Utiles';\r\ninterface Props {\r\n    setData: (data: any) => void,\r\n    label?: string\r\n    widthLabel?: number\r\n    widthAfter?: number\r\n    update: string\r\n    type?: \"number\" | \"password\" | 'date'\r\n    value: string | number\r\n    maxLength?: number\r\n    minValue?: number\r\n    valid?: boolean\r\n    validMsn?: string\r\n    step?: string\r\n    after?: string\r\n    mask?: string\r\n    placeholder?: string\r\n}\r\ninterface State {\r\n    selected: boolean\r\n}\r\nexport default class InputText extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLInputElement>()\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { selected: false };\r\n    }\r\n    render() {\r\n        let { widthLabel, widthAfter, maxLength, placeholder, type } = this.props\r\n        let style: CSSProperties = { textAlign: (type === 'number') ? 'right' : undefined }\r\n        let l = 0\r\n        if (widthLabel) l += widthLabel;\r\n        if (widthAfter) l += widthAfter;\r\n        style = { width: 'calc(100% - ' + l + 'px)', ...style }\r\n        if (type === 'number')\r\n            style = { ...style, textAlign: 'right' }\r\n        return <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n            {this.label()}\r\n            <input className='form-control' maxLength={maxLength} placeholder={placeholder}\r\n                defaultValue={this.getValue()} ref={this.ref} style={style}\r\n                {...this.getProps()}\r\n                onBlur={this.onBlur.bind(this)}\r\n                onKeyUp={this.keyUp.bind(this)}\r\n                onFocus={this.onFocus.bind(this)}\r\n            />\r\n            {this.after()}\r\n        </InputGroup>\r\n    }\r\n    label() {\r\n        let { label, widthLabel } = this.props\r\n        if (label !== undefined)\r\n            return <span style={{ width: widthLabel, position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{label}</span>\r\n        return <></>\r\n    }\r\n    after() {\r\n        let { after, widthAfter } = this.props\r\n        if (after !== undefined)\r\n            return <span style={{ width: widthAfter, position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{after}</span>\r\n        return <></>\r\n    }\r\n    stringValue() {\r\n        let input = this.ref.current ? this.ref.current : false;\r\n        if (input) {\r\n            let { setData, update } = this.props;\r\n            if (update !== undefined)\r\n                setData({ [update]: input.value.toUpperCase() });\r\n            input.value = input.value.toUpperCase();\r\n        }\r\n    }\r\n    numberValue() {\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { minValue, setData, update } = this.props,\r\n                r = (input.value === \"\") ? 0 : parseFloat(input.value);\r\n            if (minValue)\r\n                if (r < minValue)\r\n                    r = minValue;\r\n            if (update !== undefined)\r\n                setData({ [update]: r });\r\n        }\r\n    }\r\n    onBlur() {\r\n        this.setState({ selected: false })\r\n        let { type } = this.props\r\n        if (type === \"number\") {\r\n            this.numberValue();\r\n        } else {\r\n            this.stringValue();\r\n        }\r\n    }\r\n    keyUp(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { update, setData, type, mask } = this.props\r\n        let { value } = e.currentTarget\r\n        if (type !== \"number\" && type !== 'password') {\r\n            let r = value.toUpperCase()\r\n            if (mask) {\r\n                if (e.keyCode !== 8) {\r\n                    r = maskFormat(r, mask);\r\n                    e.currentTarget.value = r;\r\n                }\r\n                if (update !== undefined)\r\n                    setData({ [update]: r })\r\n            }\r\n        }\r\n    }\r\n    onFocus() {\r\n        this.setState({ selected: true })\r\n        let input = this.ref.current;\r\n        if (input) {\r\n            let { value } = this.props;\r\n            input.value = value + '';\r\n        }\r\n    }\r\n    getValue() {\r\n        let { value, type } = this.props;\r\n        if (type === 'number') {\r\n            let r = value as number;\r\n            return this.state.selected ? r : numberFormat(r);\r\n        }\r\n        let s = value as string\r\n        return s.toUpperCase();\r\n    }\r\n    getProps() {\r\n        let { type, step, } = this.props\r\n        if (this.state.selected) {\r\n            return { step, minLength: 0, min: 0, type, defaultValue: this.getValue() };\r\n        }\r\n        if (this.state.selected) {\r\n            return { defaultValue: this.getValue() };\r\n        }\r\n        return { value: this.getValue() }\r\n    }\r\n\r\n}","import Proveedor, { ProveedorNull } from \"./Proveedor\";\r\nexport type ClienteLabel = 'codigo' | 'nombre' | 'telefono' | 'correo' | 'contacto' | 'direccion' | 'estatus' | 'tipo_contribuyente' | 'retencion'\r\nexport default interface Cliente extends Proveedor {\r\n    tipo_contribuyente: string,\r\n    retencion: number\r\n}\r\nexport var ClienteNull: Cliente = {\r\n    ...ProveedorNull,\r\n    tipo_contribuyente: \"ORDINARIO\",\r\n    retencion: 0\r\n}","export default interface Proveedor {\r\n    codigo: string\r\n    nombre: string\r\n    telefono: string\r\n    correo: string\r\n    contacto: string\r\n    direccion: string\r\n    estatus: number\r\n}\r\nexport var ProveedorNull: Proveedor = {\r\n    codigo: \"\",\r\n    nombre: \"\",\r\n    telefono: \"\",\r\n    correo: \"\",\r\n    contacto: \"\",\r\n    direccion: \"\",\r\n    estatus: 1\r\n}\r\n","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormControl } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport Cliente, { ClienteNull } from '../../Modelos/Cliente'\r\nimport InputText from '../../Utils/InputText'\r\nimport SetText from '../../Utils/setTex'\r\nimport { numberFormat, post } from '../../Utils/Utiles'\r\ninterface Props {\r\n    open: boolean\r\n    cliente: Cliente | null\r\n    type: 'Cliente' | 'Proveedor'\r\n    title: string\r\n    close: () => void\r\n    add?: (c: Cliente) => void\r\n}\r\nexport default class FormCliente extends React.Component<Props, Cliente> {\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        if (p.cliente !== null)\r\n            this.state = p.cliente\r\n        else\r\n            this.state = ClienteNull;\r\n    }\r\n\r\n    render() {\r\n        let { setState, state } = this\r\n        return <Modal animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h4>{this.props.title}</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        {this.inputCodeMode()}\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder=\"AILANTHUS SISTEMS C.A.\" widthLabel={150} label=\"RASON SOCIAL\" maxLength={150}\r\n                            value={state.nombre} setData={setState} update=\"nombre\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder=\"VENTAS@AILANTHUS-SISTEMS.COM\" widthLabel={100} label=\"CORREO\" maxLength={150}\r\n                            value={state.correo} setData={setState} update=\"correo\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder='(58) 251-2378406 (TELEFAX) / 4826705, (58) 414-5088735 / 416-6506831' maxLength={120}\r\n                            widthLabel={100} label=\"TEL√âFONO\" value={state.telefono} setData={setState} update=\"telefono\" />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText placeholder='ARMANDO SULBARAN' widthLabel={200} label=\"PERSONA DE CONTACTO\"\r\n                            maxLength={50} value={state.contacto} setData={setState} update=\"contacto\" />\r\n                    </Col>\r\n                    {(this.props.type === 'Cliente') ? <Col xs={12}><br />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '250px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">TIPO DE CONTRIBUYENTE</span>\r\n                            <select style={{ width: '150px', position: 'relative' }} onChange={this.setContribuyente.bind(this)}\r\n                                className=\"form-control\" defaultValue={state.tipo_contribuyente}>\r\n                                <option value=\"ORDINARIO\">ORDINARIO</option>\r\n                                <option value=\"ESPECIAL\">ESPECIAL</option>\r\n                            </select>\r\n                            {(state.tipo_contribuyente === 'ESPECIAL') ?\r\n                                <SetText style={{ width: 'calc(100% - 400px)' }} value={state.retencion} setData={setState}\r\n                                    update=\"retencion\" type='number' step={1} /> :\r\n                                <span style={{ width: 'calc(100% - 400px)', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                                    className=\"form-control\">{numberFormat(state.retencion)}</span>}\r\n                        </InputGroup>\r\n                    </Col> : <></>}\r\n                    <Col xs={12}><br />\r\n                        <b>DIRECCION</b>\r\n                        <SetText placeholder='CARRERA 4, ESQUINA CALLE 18, ZONA INDUSTIAL I, GALPON MANPEG, PISO. 1 OFC.2 Y 3, BARQUISIMETO, ESTADO LARA.'\r\n                            value={state.direccion} setData={setState} update=\"direccion\" type='textarea' maxLength={300} />\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"pull-right\" onClick={this.get.bind(this)} bsStyle=\"primary\">\r\n                    <span className=\"glyphicon glyphicon-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    isInvalid(s: string) {\r\n        if (s === \"\")\r\n            return true\r\n        return false\r\n    }\r\n    inputCodeMode() {\r\n        let { setState, state } = this\r\n        if (this.props.cliente !== null)\r\n            return <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                <span style={{ width: '60px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                    className=\"form-control\">RIF</span>\r\n                <span style={{ width: 'calc(100% - 60px)', position: 'relative', backgroundColor: \"#eee\" }}\r\n                    className=\"form-control\">{state.codigo}</span>\r\n            </InputGroup>\r\n        return <InputText mask='A-99999999-9' placeholder=\"_-________-_\" widthLabel={50} maxLength={20}\r\n            label=\"RIF\" value={state.codigo} setData={setState} update=\"codigo\" />\r\n    }\r\n    get() {\r\n        if (this.state.codigo === \"\") {\r\n            toast('DEBE COLOCAR EL DOCUMENTO LEGAL DEL CLIENTE', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.nombre === \"\") {\r\n            toast('DEBE COLOCAR EL RASON SOCIAL', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.codigo === \"\") {\r\n            toast('DEBE COLOCAR UN CORREO', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.direccion === \"\") {\r\n            toast('DEBE COLOCAR UNA DIRECCION', { type: toast.TYPE.ERROR })\r\n        } else if (this.state.contacto === \"\") {\r\n            toast('DEBE COLOCAR LA PERSONA DE CONTACTO', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            if (this.props.cliente === null) {\r\n                post('api/' + this.props.type + '/nuevo',\r\n                    this.state, data => {\r\n                        if (this.props.add)\r\n                            this.props.add(data)\r\n                        this.props.close()\r\n                    })\r\n            } else {\r\n                post('api/' + this.props.type + '/actualizar/' + this.props.cliente.codigo,\r\n                    this.state, data => {\r\n                        if (this.props.add)\r\n                            this.props.add(data)\r\n                        this.props.close()\r\n                    })\r\n            }\r\n        }\r\n    }\r\n    setContribuyente(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string;\r\n        this.setState({ tipo_contribuyente: value });\r\n\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { Row, Col, Button, InputGroup, ButtonGroup, Panel } from 'react-bootstrap'\r\nimport FormCliente from './FormCliente'\r\nimport Cliente, { ClienteNull } from '../../Modelos/Cliente'\r\nimport { busqueda, getPreCache } from '../../Utils/Utiles'\r\ninterface Props {\r\n    type: 'Cliente' | 'Proveedor'\r\n    Cliente: string\r\n    add: (Cliente: string) => void\r\n}\r\ninterface State {\r\n    lista: Cliente[]\r\n    cliente: Cliente\r\n    buscarNumbre: string\r\n    buscarCodigo: string\r\n    nuevoCliente: boolean\r\n    open: boolean\r\n}\r\nexport default class ClienteSelector extends React.Component<Props, State> {\r\n    nombre = React.createRef<HTMLInputElement>();\r\n    codigo = React.createRef<HTMLInputElement>();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { nuevoCliente: false,  open: false, lista: [], cliente: ClienteNull, buscarCodigo: '', buscarNumbre: '' }\r\n    }\r\n    render() {\r\n        const { state: { nuevoCliente,  lista, open, cliente, buscarCodigo, buscarNumbre }, props: { type } } = this\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={open}>\r\n            <FormCliente type={type} cliente={null} title={\"NUEVO \" + this.getLabel()} open={nuevoCliente} add={this.seleccion.bind(this)} close={this.close.bind(this)} />\r\n            <Panel.Body>\r\n                <Row><Col xs={12}><h4><b>DATOS DEL {this.getLabel()}</b></h4></Col></Row>\r\n                <Row>\r\n                    <Col style={{ width: '30%' }} xs={4}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '50px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">RIF</span>\r\n                            <input style={{ width: 'calc(100% - 60px)', position: 'relative' }} list=\"inputCodigo\" className=\"form-control\"\r\n                                ref={this.codigo}\r\n                                onKeyUp={this.limpiarCodigo.bind(this)}\r\n                                onChange={this.setBuscarCodigo.bind(this)}\r\n                                defaultValue={buscarCodigo} />\r\n                        </InputGroup>\r\n                        <datalist id=\"inputCodigo\">\r\n                            {this.getList(busqueda(lista, buscarCodigo, ['codigo']), 'codigo')}\r\n                        </datalist>\r\n                    </Col>\r\n                    <Col style={{ width: 'calc(70% - 120px)' }} xs={6}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">NOMBRE</span>\r\n                            <input style={{ width: 'calc(100% - 100px)' }} list=\"inputNombre\" className=\"form-control\"\r\n                                ref={this.nombre}\r\n                                onKeyUp={this.limpiarNombre.bind(this)}\r\n                                onChange={this.setBuscarNombre.bind(this)}\r\n                                defaultValue={buscarNumbre} />\r\n                        </InputGroup>\r\n                        <datalist id=\"inputNombre\">\r\n                            {this.getList(busqueda(lista, buscarCodigo, ['nombre']), 'nombre')}\r\n                        </datalist>\r\n                    </Col>\r\n                    <Col style={{ width: \"110px\" }} xs={2}>\r\n                        <ButtonGroup className=\"float-right\">\r\n                            <Button data-tip=\"VER MAS\" onClick={() => { this.setState({ open: !open }) }}>\r\n                                <i className=\"glyphicon glyphicon-eye-open\"></i>\r\n                            </Button>\r\n                            <Button data-tip={\"NUEVO \" + this.getLabel()} onClick={() => { this.setState({ nuevoCliente: true }) }} bsStyle=\"info\">\r\n                                <i className=\"glyphicon glyphicon-edit\"></i>\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                </Row>\r\n                <Panel.Collapse>\r\n                    <br />\r\n                    <Row>\r\n                        <Col xs={4}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">CORREO</span>\r\n                                <span style={{ width: 'calc(100% - 150px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.correo}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={3}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">TELEFONO</span>\r\n                                <span style={{ width: 'calc(100% - 150px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.telefono}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={5}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '240px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">PERSONA DE CONTACTO</span>\r\n                                <span style={{ width: 'calc(100% - 250px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.contacto}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <br />\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">DICECCION</span>\r\n                                <span style={{ width: 'calc(100% - 150px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">{cliente.direccion}</span>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </Row>\r\n                </Panel.Collapse>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    seleccion(c: Cliente) {\r\n        this.set();\r\n        this.props.add(c.codigo);\r\n        if (this.nombre.current)\r\n            this.nombre.current.value = c.nombre;\r\n        if (this.codigo.current)\r\n            this.codigo.current.value = c.codigo;\r\n        this.setState({ cliente: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n    }\r\n    setBuscarNombre(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarNumbre: b });\r\n        this.state.lista.forEach((c) => {\r\n            if (c.nombre === b)\r\n                this.props.add(c.codigo);\r\n        });\r\n    }\r\n    setBuscarCodigo(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarCodigo: b });\r\n        this.state.lista.forEach((c) => {\r\n            if (c.codigo === b)\r\n                this.props.add(c.codigo);\r\n        });\r\n    }\r\n    limpiarNombre(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiarCodigo(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiar() {\r\n        this.setState({ cliente: ClienteNull, buscarCodigo: '', buscarNumbre: '' })\r\n        if (this.nombre.current)\r\n            this.nombre.current.value = \"\";\r\n        if (this.codigo.current)\r\n            this.codigo.current.value = \"\";\r\n    }\r\n    getList(lista: Cliente[], label: 'codigo' | 'nombre') {\r\n        return lista.map(c => {\r\n            return <option key={label + c.codigo}>{c[label]}</option>\r\n        })\r\n    }\r\n    close() {\r\n        this.setState({\r\n            nuevoCliente: false\r\n        })\r\n    }\r\n    componentWillReceiveProps(p: Props) {\r\n        if (this.state.cliente.codigo !== p.Cliente)\r\n            this.state.lista.forEach((c) => {\r\n                if (c.codigo === p.Cliente) {\r\n                    if (this.nombre.current)\r\n                        this.nombre.current.value = c.nombre;\r\n                    if (this.codigo.current)\r\n                        this.codigo.current.value = c.codigo;\r\n                    this.setState({ cliente: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n                }\r\n            });\r\n    }\r\n    componentDidMount() {\r\n        this.actualizar();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    set() {\r\n        getPreCache('/api/' + this.props.type + '/lista', data => {\r\n            // data = filtro(data, 1, 'status');\r\n            this.setState({ lista: data });\r\n        });\r\n    }\r\n    getLabel() {\r\n        if (this.props.type === 'Cliente')\r\n            return 'CLIENTE'\r\n        return 'PROVEEDOR'\r\n    }\r\n}","\r\ninterface proto {\r\n    label?: string,\r\n    isCompare?: (a: any, b: any) => boolean\r\n}\r\ninterface compareElement extends proto {\r\n    a: any\r\n    b: any\r\n}\r\ninterface compareArray extends proto {\r\n    a: Array<any>,\r\n    b: Array<any>,\r\n}\r\ninterface removeArray extends proto {\r\n    a: Array<any>,\r\n    b: any\r\n}\r\ninterface notRepitArray extends proto {\r\n    a: Array<Array<any>>\r\n}\r\nfunction comprare(com: compareElement) {\r\n    let { a, b, label, isCompare } = com\r\n    if (label !== undefined) {\r\n        return (a[label] === b[label])\r\n    } else if (isCompare !== undefined) {\r\n        return isCompare(a, b)\r\n    } else {\r\n        return false\r\n    }\r\n}\r\nexport function inertJoin(com: compareArray) {\r\n    let { a, b, label, isCompare } = com\r\n    let c: Array<any> = []\r\n    a.forEach(d => {\r\n        let g = true\r\n        b.forEach(e => {\r\n            if (comprare({ a: d, b: e, label, isCompare }))\r\n                c.forEach(f => {\r\n                    if (comprare({ a: d, b: f, label, isCompare }))\r\n                        g = false\r\n                })\r\n        })\r\n        if (g)\r\n            c.push(d)\r\n    })\r\n    return c\r\n}\r\nexport function removeElement(com: removeArray) {\r\n    let { a, b, label, isCompare } = com\r\n    let c = a.filter(c => {\r\n        return !comprare({ a: c, b, label, isCompare })\r\n    })\r\n    return c\r\n}\r\nexport function ifArray(com: removeArray) {\r\n    let { a, b, label, isCompare } = com\r\n    let d = false\r\n    a.forEach(c => {\r\n        if (comprare({ a: c, b, label, isCompare }))\r\n            d = true\r\n    })\r\n    return d\r\n}\r\nexport function UpdateElement(com: removeArray) {\r\n    let { a, b, label, isCompare } = com\r\n    return a.map(c => {\r\n        if (comprare({ a: c, b, label, isCompare })) {\r\n            return b\r\n        } else {\r\n            return c\r\n        }\r\n    })\r\n}\r\nexport function addUpdateArray(com: removeArray) {\r\n    let { a } = com\r\n    if (ifArray(com))\r\n        a = UpdateElement(com)\r\n    else\r\n        a.push(com.b)\r\n    return a\r\n}\r\nexport function noRepit(com: notRepitArray) {\r\n    let { a, label, isCompare } = com\r\n    let ret: Array<any> = []\r\n    a.forEach(arr => {\r\n        arr.forEach(iten => {\r\n            let n = true\r\n            ret.forEach(b => {\r\n                if (comprare({ a: iten, b, label, isCompare }))\r\n                    n = false\r\n            })\r\n            if (n)\r\n                ret.push(iten)\r\n        })\r\n    })\r\n    return ret\r\n}","export type productoLabel = \"codigo\" | \"descripcion\" | \"departamento\" | \"estatus\" | \"enser\" | \"tipo\" | \"costo\" | \"precio1\" | \"precio3\" | \"cantidad\" | \"unidad\" | \"fecha_creacion\";\r\nexport interface Producto {\r\n    codigo: string,\r\n    departamento: string,\r\n    descripcion: string,\r\n    estatus: number,\r\n    enser: number,\r\n    tipo: number,\r\n    costo: number,\r\n    precio1: number,\r\n    precio2: number,\r\n    precio3: number,\r\n    cantidad: number,\r\n    unidad: number,\r\n    exento: boolean,\r\n    fecha_creacion: string\r\n}\r\nexport var ProductoNull: Producto = {\r\n    codigo: \"\",\r\n    departamento: \"\",\r\n    descripcion: \"\",\r\n    estatus: 1,\r\n    enser: 0,\r\n    tipo: 1,\r\n    costo: 1,\r\n    precio1: 1,\r\n    precio2: 1,\r\n    precio3: 1,\r\n    cantidad: 0,\r\n    exento: false,\r\n    unidad: 1,\r\n    fecha_creacion: \"\"\r\n}\r\nexport interface Departamento {\r\n    codigo: string\r\n    descripcion: string\r\n}\r\nexport interface Unidad {\r\n    codigo: number\r\n    descripcion: string\r\n}\r\nexport interface Tipo {\r\n    codigo: number\r\n    descripcion: string\r\n}","import React from 'react'\r\nimport { Unidad } from '../../../Modelos/Productos';\r\nimport { getPreCache } from '../../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n\r\n}\r\ninterface State {\r\n    Unidades: Unidad[] | 'carro'\r\n}\r\nexport default class UnidadesSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { Unidades: 'carro' };\r\n    }\r\n    setUsers(c: Unidad[]) {\r\n        this.setState({ Unidades: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>SELECCIONAR UNIDAD DE MEDIDA</option>\r\n            {(this.state.Unidades !== 'carro') ? this.state.Unidades.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Producto/unidad', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Tipo } from '../../../Modelos/Productos';\r\nimport { getPreCache } from '../../../Utils/Utiles';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n\r\n}\r\ninterface State {\r\n    tipos: Tipo[] | 'carro'\r\n}\r\nexport default class TipoSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { tipos: 'carro' };\r\n    }\r\n    setUsers(c: Tipo[]) {\r\n        this.setState({ tipos: c })\r\n    }\r\n    render() {\r\n        return <select onChange={this.setRol.bind(this)} className=\"form-control\" defaultValue={this.props.defaultValue}>\r\n            <option value={-1}>SELECCIONAR TIPO DE PRODUCTO</option>\r\n            {(this.state.tipos !== 'carro') ? this.state.tipos.map(c => {\r\n                return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        getPreCache('/api/Producto/tipo', data => {\r\n            this.setUsers(data);\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormControl } from 'react-bootstrap'\r\nimport InputText from '../../Utils/InputText'\r\nimport { Producto, ProductoNull } from '../../Modelos/Productos'\r\nimport { numberFormat, post } from '../../Utils/Utiles'\r\nimport SetText from '../../Utils/setTex'\r\nimport DepartamentoSelector from './Departamento/Selector'\r\nimport UnidadesSelector from './Unidad/Selector'\r\nimport TipoSelector from './Tipos/Selector'\r\nimport { toast } from 'react-toastify'\r\ninterface Props {\r\n    open: boolean\r\n    close: () => void\r\n    add: (p: Producto) => void\r\n}\r\ninterface State extends Producto {\r\n    cateName?: string\r\n}\r\nexport default class FormProductos extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = ProductoNull;\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    setDepartamento(departamento: string) {\r\n        this.setState({ departamento })\r\n    }\r\n\r\n    setUnidad(unidad: number) {\r\n        this.setState({ unidad })\r\n    }\r\n\r\n    setTipo(tipo: number) {\r\n        this.setState({ tipo })\r\n    }\r\n    render() {\r\n        let { setState, state: { descripcion, precio1, precio2, precio3, costo, tipo, unidad, departamento }, props: { open, close } } = this;\r\n        return <Modal bsSize=\"lg\" animation show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVO PRODUCTO</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <DepartamentoSelector defaultValue={departamento} change={this.setDepartamento.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <b>DESCRIPCI√ìN</b>\r\n                        <SetText type=\"textarea\" rows={3} maxLength={300} value={descripcion} setData={setState} update=\"descripcion\" />\r\n                    </Col>\r\n                    <Col xs={6}><br />\r\n                        <UnidadesSelector defaultValue={unidad} change={this.setUnidad.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={6}><br />\r\n                        <TipoSelector defaultValue={tipo} change={this.setTipo.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <InputText minValue={1} step=\"0.01\" type=\"number\" label=\"COSTO\" widthLabel={70} value={costo} setData={setState} update=\"costo\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputText minValue={1} step=\"1\" after=\"%\" widthAfter={40} type=\"number\" label=\"UTILIDAD 1\" widthLabel={120} value={precio1} setData={setState} update=\"precio1\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputText minValue={1} step=\"1\" after=\"%\" widthAfter={40} type=\"number\" label=\"UTILIDAD 2\" widthLabel={120} value={precio2} setData={setState} update=\"precio2\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputText minValue={1} step=\"1\" after=\"%\" widthAfter={40} type=\"number\" label=\"UTILIDAD 3\" widthLabel={120} value={precio3} setData={setState} update=\"precio3\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                                className=\"form-control\">PRECIO 1</span>\r\n                            <FormControl style={{ width: 'calc(100% - 100px)' }} disabled value={numberFormat(this.getPrecio(precio1))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                                className=\"form-control\">PRECIO 1</span>\r\n                            <FormControl style={{ width: 'calc(100% - 100px)' }} disabled value={numberFormat(this.getPrecio(precio2))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }}\r\n                                className=\"form-control\">PRECIO 1</span>\r\n                            <FormControl style={{ width: 'calc(100% - 100px)' }} disabled value={numberFormat(this.getPrecio(precio3))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button onClick={this.create.bind(this)} bsStyle=\"primary\">\r\n                    <span className=\"glyphicon glyphicon-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    getPrecio(price: number) {\r\n        let utilidad = (price / 100) + 1\r\n        return this.state.costo * utilidad\r\n    }\r\n    create() {\r\n        let { descripcion } = this.state;\r\n        if (descripcion === '') {\r\n            toast('debe colocar la persona de contacto', { type: toast.TYPE.ERROR })\r\n        }\r\n        post('api/Producto/nuevo', this.state, data => {\r\n            this.props.add(data);\r\n            this.props.close();\r\n        })\r\n    }\r\n}\r\n","\r\nimport React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles { }\r\nexport default class FilaProducto extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <td>{codigo}</td>\r\n            <td>{descripcion}</td>\r\n            <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n            <td><SetText minValue={1} step='0.01' type=\"number\" setData={this.setState} value={precio} update=\"precio\" /></td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(precio * unidades)}</span>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n                <ButtonGroup>\r\n                    <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                        <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </td>\r\n        </tr>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","import React from \"react\"\r\nimport { getPreCache, numberFormat } from \"../../../Utils/Utiles\";\r\n\r\ninterface Props {\r\n    imponible: number\r\n    exento: number\r\n}\r\n\r\nexport default class CalcularImpuesto extends React.Component<Props> {\r\n    impuesto = 0;\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    render() {\r\n        let { imponible, exento } = this.props\r\n        return <>\r\n            <tr>\r\n                <th colSpan={2} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n            {exento > 0 ? <>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n                </tr>\r\n            </> : <></>}\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {this.impuesto}%:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calImpuesto()}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calPagar()}</th>\r\n            </tr>\r\n        </>\r\n    }\r\n    calImpuesto() {\r\n        let { imponible } = this.props;\r\n        let impuesto = (this.impuesto / 100);\r\n        return numberFormat(imponible * impuesto);\r\n    }\r\n    calPagar() {\r\n        let { imponible, exento } = this.props;\r\n        let impuesto = this.impuesto / 100;\r\n        let total = imponible + exento + (imponible * impuesto);\r\n        return numberFormat(total)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Row, Col, Button, Table, ButtonGroup } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { removeElement, addUpdateArray } from '../../../Utils/ArrayFun'\r\nimport { GeneralData, Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport FormProductos from '../../Productos/FormProductos'\r\nimport BuscarProducto from '../../Productos/BuscarProducto'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport FilaProducto from './FilaProducto'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\ninterface State {\r\n    nuevoProducto: boolean\r\n    buscarProducto: boolean\r\n}\r\ninterface Props {\r\n    data: GeneralData\r\n    setData: (data: GeneralData) => void\r\n    Prosesar?: () => void\r\n}\r\nexport default class AuxiliarCompra extends React.Component<Props, State> {\r\n    setData: (data: any) => void;\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.state = { nuevoProducto: false, buscarProducto: false };\r\n    }\r\n    addProductos(producto: Detalles) {\r\n        let cant = this.props.data.detalles.length;\r\n        producto.precio = parseFloat(producto.precio.toFixed(2));\r\n        let aux = {\r\n            a: this.props.data.detalles, b: producto,\r\n            isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false }\r\n        }\r\n        let detalles = addUpdateArray(aux);\r\n        if (cant < detalles.length)\r\n            toast('PRODUCTO ' + producto.descripcion + \" AGREGADO\", { type: toast.TYPE.SUCCESS })\r\n        this.setData({ detalles })\r\n    }\r\n    removeProductos(producto: Detalles) {\r\n        let aux = { a: this.props.data.detalles, b: producto, isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false } }\r\n        this.setData({ detalles: removeElement(aux) })\r\n        toast('PRODUCTO ' + producto.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo, comentario: \"\" });\r\n    }\r\n    render() {\r\n        let imp: number = 0;\r\n        let ext: number = 0;\r\n        let { nuevoProducto, buscarProducto } = this.state;\r\n        return <>\r\n            <FormProductos open={nuevoProducto} close={this.close.bind(this)} add={this.createProducto.bind(this)} />\r\n            <BuscarProducto type='Compra' open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <Row>\r\n                <Col xs={6}>\r\n                    {this.props.children}\r\n                </Col>\r\n                <Col xs={6}>\r\n                    <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} bsStyle=\"success\"\r\n                        className=\"pull-right\" onClick={this.props.Prosesar} >\r\n                        <span className=\"glyphicon glyphicon-print\" />\r\n                    </Button>\r\n                    <ButtonGroup className=\"pull-right\" style={{ marginRight: \"15px\" }}>\r\n                        <Button data-tip=\"NUEVO PRODUCTO\" onClick={() => { this.setState({ nuevoProducto: true }) }} bsStyle=\"info\">\r\n                            <i className=\"glyphicon glyphicon-edit\"></i>\r\n                        </Button>\r\n                        <Button data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-search\"></span>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <thead>\r\n                    <tr className='info'>\r\n                        <th style={{ width: \"100px\" }}>CODIGO</th>\r\n                        <th>DESCRIPCI√ìN</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                        <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                        <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n                        <th style={{ width: \"110px\", textAlign: 'right' }}>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.props.data.detalles.map(producto => {\r\n                        if (producto.exento) {\r\n                            ext += producto.precio * producto.unidades\r\n                        } else {\r\n                            imp += producto.precio * producto.unidades\r\n                        }\r\n                        return <FilaProducto\r\n                            key={producto.codigo}\r\n                            producto={producto}\r\n                            edit={this.addProductos.bind(this)}\r\n                            remove={this.removeProductos.bind(this)} />\r\n                    })}\r\n                    <CalcularImpuesto exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    close() {\r\n        this.setState({ nuevoProducto: false, buscarProducto: false })\r\n    }\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { GeneralFila } from '../Modelos/General'\r\nimport { formatoFecha, zfill } from './Utiles'\r\ninterface PropsFila {\r\n    data: GeneralFila,\r\n    add: (iten: GeneralFila) => void\r\n    color?: string\r\n    type: 'Cotizacion' | 'Orden' | 'Nota' | 'Factura' | 'Compra'\r\n}\r\nexport default class FilaGeneraModal extends React.Component<PropsFila>{\r\n    render() {\r\n        let { data } = this.props\r\n        return <tr>\r\n            <th>{zfill(data.codigo)}</th>\r\n            <th>{formatoFecha(data.fecha)}</th>\r\n            <th>{data.nombre}</th>\r\n            <th>{this.getStatus()}</th>\r\n            <th style={{ textAlign: 'center' }}>\r\n                <Button data-tip=\"Agregar Producto\" onClick={() => { this.props.add(data) }} bsStyle=\"primary\">\r\n                    <i className=\"glyphicon glyphicon-plus\" />\r\n                </Button>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"label label-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"label label-warning\">{this.getStatus1()}</span>\r\n            case 2:\r\n                return <span className=\"label label-success\">{this.getStatus2()}</span>\r\n        }\r\n    }\r\n    getStatus1() {\r\n        let { type } = this.props;\r\n        switch (type) {\r\n            case 'Orden': return 'EN ESPERA';\r\n            case 'Compra': return 'SIN FACTURA';\r\n            case 'Cotizacion': return 'PENDIENTE';\r\n            case 'Nota': return 'ENTREGADO';\r\n        }\r\n    }\r\n    getStatus2() {\r\n        let { type } = this.props;\r\n        switch (type) {\r\n            case 'Compra': case 'Nota':\r\n                return 'FACTURADA';\r\n            case 'Orden': case 'Cotizacion': case 'Factura':\r\n                return 'PROCESADA';\r\n        }\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarOrden extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'EN ESPERA' }, { value: 2, label: 'PROCESADA' }];\r\n\r\n    title() {\r\n        return <h4>BUSCAR ORDEN DE COMPRA</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>PROVEEDOR {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Orden' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Orden/lista');\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Orden, ordenNull, sentOrden } from \"../../Modelos/Compra\";\r\nimport { GeneralFila } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport InputText from \"../../Utils/InputText\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport AuxiliarCompra from \"../Compra/Nuevo/AuxiliarCompra\";\r\nimport BuscarOrden from \"./BuscarOrden\";\r\ninterface State extends Orden {\r\n    open: boolean\r\n    cargar: boolean\r\n}\r\nexport default class NuevaOrden extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...ordenNull, open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Orden/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarOrden open={state.cargar} add={this.cargar.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA ORDEN DE COMPRA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Proveedor' Cliente={state.cod_proveedor} add={this.setProveedor.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>CONDICIONES</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"VALIDES DE LA OFERTA\" value={state.validez} setData={this.setState} update=\"validez\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"TIEMPO DE ENTREGA\" value={state.tiempo_entrega} setData={this.setState} update=\"tiempo_entrega\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"FORMA DE PAGO\" value={state.forma_pago} setData={this.setState} update=\"forma_pago\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <SetText type='textarea' rows={3} maxLength={250} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarCompra key='auxOrden' Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ cargar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR ORDEN <br> DE COMPRA\" bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-duplicate\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <CacheStorage data={this.props.data} setData={this.props.setData} Identificador='NuevaOrden' />\r\n                </AuxiliarCompra>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        getPreCache('api/Orden/detalles/' + d.codigo, data => {\r\n            data.codigo = 0;\r\n            this.setState(data);\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_proveedor: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_proveedor === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } \r\n        if (procesar)\r\n            post('api/Orden/nuevo', sentOrden(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Compra, compraNull, sentCompra } from \"../../Modelos/Compra\";\r\nimport { GeneralFila } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport InputText from \"../../Utils/InputText\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarOrden from \"../Orden/BuscarOrden\";\r\nimport AuxiliarCompra from \"./Nuevo/AuxiliarCompra\";\r\ninterface State extends Compra {\r\n    open: boolean\r\n    cargar: boolean\r\n}\r\nexport default class NuevaCompra extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...compraNull, open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Compra/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarOrden open={state.cargar} add={this.cargar.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA COMPRA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Proveedor' Cliente={state.cod_proveedor} add={this.setProveedor.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>DATOS OPCIONALES</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col data-tip=\"NUMERO DE FACTURA\" xs={3}>\r\n                                    <InputText maxLength={10} widthLabel={70} label=\"N¬∞ F\" value={state.cod_documento} setData={this.setState} update=\"cod_documento\" />\r\n                                </Col>\r\n                                <Col data-tip=\"NUMERO DE CONTROL\" xs={3}>\r\n                                    <InputText maxLength={10} widthLabel={70} label=\"N¬∞ C\" value={state.nun_control} setData={this.setState} update=\"nun_control\" />\r\n                                </Col>\r\n                                <Col data-tip=\"FECHA DE LA FACTURA\" xs={3}>\r\n                                    <InputText type='date' widthLabel={80} label=\"FECHA\" value={state.fecha_documento} setData={this.setState} update=\"fecha_documento\" />\r\n                                </Col>\r\n                                <Col data-tip=\"NUMERO DE NOTA DE ENTREGA\" xs={3}>\r\n                                    <InputText maxLength={10} widthLabel={80} label=\"N¬∞ N/E\" value={state.cod_nota} setData={this.setState} update=\"cod_nota\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <SetText type='textarea' rows={4} maxLength={600} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarCompra key=\"auxCompra\" Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ cargar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR ORDEN <br> DE COMPRA\" bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-folder-open\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <CacheStorage data={this.props.data} setData={this.props.setData} Identificador='NuevaCompra' />\r\n                </AuxiliarCompra>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        getPreCache('api/Orden/detalles/' + d.codigo, data => {\r\n            data.id_orden = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_proveedor: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_proveedor === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }  \r\n        if (procesar)\r\n            post('api/Compra/nuevo', sentCompra(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import { CondicionesData, GeneralData, getSubtotal, sentDetalles, getCosto } from \"./General\";\r\n\r\nexport interface Cotizacion extends CondicionesData {\r\n    cod_cliente: string\r\n    plantilla: number\r\n    tasa: number\r\n    dolar: boolean\r\n}\r\nexport function sentCotizacion(e: Cotizacion, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_cliente, validez, tiempo_entrega, forma_pago, nota, plantilla } = e;\r\n    return {\r\n        cod_cliente,\r\n        plantilla,\r\n        validez,\r\n        tiempo_entrega,\r\n        forma_pago,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport interface Nota extends GeneralData {\r\n    cod_cliente: string\r\n}\r\nexport function sentNota(e: Nota, porc_impuesto: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (porc_impuesto / 100),\r\n        total = subtotal + impuesto;\r\n\r\n    let { cod_cliente, nota } = e;\r\n    return {\r\n        cod_cliente,\r\n        impuesto,\r\n        total,\r\n        nota,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport interface Factura extends GeneralData {\r\n    cod_cliente: string\r\n    condicion: string\r\n}\r\nexport function sentFactura(e: Factura, porc_impuesto: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        costo = getCosto(e.detalles),\r\n        impuesto = subtotal * (porc_impuesto / 100),\r\n        total = subtotal + impuesto;\r\n\r\n    let { cod_cliente, nota, condicion, } = e;\r\n    return {\r\n        cod_cliente,\r\n        condicion,\r\n        porc_impuesto,\r\n        costo,\r\n        impuesto,\r\n        subtotal,\r\n        total,\r\n        nota,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarCotizacion extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'PENDIENTE' }, { value: 2, label: 'PROCESADA' }];\r\n\r\n    title() {\r\n        return <h4>BUSCAR COTIZACION</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>CLIENTE {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Cotizacion' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Cotizacion/lista');\r\n    }\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { getPreCache, numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    nota?: number\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\nexport default class FilaProducto extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, costo, precio1, precio2, precio3, cantidad } = this.state;\r\n        return <tr className={(cantidad < unidades) ? 'danger' : (costo > precio) ? 'warning' : ''}>\r\n            <td>{codigo}</td>\r\n            <td>{descripcion}</td>\r\n            <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(cantidad)}</span>\r\n            </td>\r\n            <td>\r\n                <SetText step='0.01' listLabel={costo + 'list'}\r\n                    minValue={parseFloat((costo * (1 + precio1 / 100)).toFixed(2))} type=\"number\"\r\n                    setData={this.setState} value={precio} update=\"precio\" />\r\n                <datalist id={costo + 'list'}>\r\n                    <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                </datalist>\r\n            </td>\r\n            <td>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(precio * unidades)}</span>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n                <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                    <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                </Button>\r\n            </td>\r\n        </tr>\r\n    }\r\n    componentWillUpdate(p: Props, s: Detalles) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades)\r\n            this.props.edit(s)\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Producto/ver/' + this.state.codigo, data => {\r\n            this.setState(data);\r\n        })\r\n    }\r\n}","import React from \"react\"\r\nimport { getPreCache, numberFormat } from \"../../../Utils/Utiles\";\r\n\r\ninterface Props {\r\n    imponible: number\r\n    exento: number\r\n}\r\n\r\nexport default class CalcularImpuesto extends React.Component<Props> {\r\n    impuesto = 0;\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    render() {\r\n        let { imponible, exento } = this.props\r\n        return <>\r\n            <tr>\r\n                <th colSpan={3} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n            {exento > 0 ? <>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n                </tr>\r\n            </> : <></>}\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {this.impuesto}%:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calImpuesto()}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calPagar()}</th>\r\n            </tr>\r\n        </>\r\n    }\r\n    calImpuesto() {\r\n        let { imponible } = this.props;\r\n        let impuesto = (this.impuesto / 100);\r\n        return numberFormat(imponible * impuesto);\r\n    }\r\n    calPagar() {\r\n        let { imponible, exento } = this.props;\r\n        let impuesto = this.impuesto / 100;\r\n        let total = imponible + exento + (imponible * impuesto);\r\n        return numberFormat(total)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Row, Col, Button, Table } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { removeElement, addUpdateArray } from '../../../Utils/ArrayFun'\r\nimport { GeneralData, Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport BuscarProducto from '../../Productos/BuscarProducto'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport FilaProducto from './FilaProducto'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\ninterface State {\r\n    buscarProducto: boolean\r\n}\r\ninterface Props {\r\n    data: GeneralData\r\n    setData: (data: GeneralData) => void\r\n    Prosesar?: () => void\r\n}\r\nexport default class AuxiliarFactura extends React.Component<Props, State> {\r\n    setData: (data: any) => void;\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.state = { buscarProducto: false };\r\n    }\r\n    addProductos(producto: Detalles) {\r\n        let cant = this.props.data.detalles.length;\r\n        producto.precio = parseFloat(producto.precio.toFixed(2));\r\n        let aux = {\r\n            a: this.props.data.detalles, b: producto,\r\n            isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false }\r\n        }\r\n        let detalles = addUpdateArray(aux);\r\n        if (cant < detalles.length)\r\n            toast('PRODUCTO ' + producto.descripcion + \" AGREGADO\", { type: toast.TYPE.SUCCESS })\r\n        this.setData({ detalles })\r\n    }\r\n    removeProductos(producto: Detalles) {\r\n        let aux = { a: this.props.data.detalles, b: producto, isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false } }\r\n        this.setData({ detalles: removeElement(aux) })\r\n        toast('PRODUCTO ' + producto.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo * (1 + p.precio2 / 100), comentario: \"\" });\r\n    }\r\n    render() {\r\n        let imp: number = 0;\r\n        let ext: number = 0;\r\n        let { buscarProducto } = this.state;\r\n        return <>\r\n            <BuscarProducto type='Factura' open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <Row>\r\n                <Col xs={6}>\r\n                    {this.props.children}\r\n                </Col>\r\n                <Col xs={6}>\r\n                    <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} bsStyle=\"success\"\r\n                        className=\"pull-right\" onClick={this.props.Prosesar} >\r\n                        <span className=\"glyphicon glyphicon-print\" />\r\n                    </Button>\r\n                    <Button style={{ marginRight: \"15px\" }} className=\"pull-right\" data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span>\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <thead>\r\n                    <tr className='info'>\r\n                        <th style={{ width: \"100px\" }}>CODIGO</th>\r\n                        <th>DESCRIPCI√ìN</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>DISPONIBLE</th>\r\n                        <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                        <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n                        <th style={{ width: \"110px\", textAlign: 'right' }}>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.props.data.detalles.map(producto => {\r\n                        if (producto.exento) {\r\n                            ext += producto.precio * producto.unidades\r\n                        } else {\r\n                            imp += producto.precio * producto.unidades\r\n                        }\r\n                        return <FilaProducto\r\n                            key={producto.codigo}\r\n                            producto={producto}\r\n                            edit={this.addProductos.bind(this)}\r\n                            remove={this.removeProductos.bind(this)} />\r\n                    })}\r\n                    <CalcularImpuesto exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    close() {\r\n        this.setState({ buscarProducto: false })\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Col, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Nota, sentNota } from \"../../Modelos/Factura\";\r\nimport { GeneralFila, generalNull } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarCotizacion from \"../Cotizacion/BuscarCotizacion\";\r\nimport AuxiliarFactura from \"../Facturas/Nuevo/AuxiliarFactura\";\r\ninterface State extends Nota {\r\n    open: boolean\r\n    cargar: boolean\r\n}\r\nexport default class NuevaNota extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...generalNull, cod_cliente: '', open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Nota/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarCotizacion open={state.cargar} add={this.cargarCotizacion.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA NOTA DE ENTREGA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Cliente' Cliente={state.cod_cliente} add={this.setCliente.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>NOTA</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <SetText type='textarea' rows={3} maxLength={600} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarFactura key='auxNota' Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ cargar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR COTIZACION\" bsStyle=\"primary\">\r\n                            <span className=\"fa fa-fw fa fa-calculator\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <CacheStorage data={this.props.data} setData={this.props.setData} Identificador='NuevaNota' />\r\n                </AuxiliarFactura>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargarCotizacion(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/detalles/' + d.codigo, data => {\r\n            data.id_cotizacion = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    if (p.tipo !== 2) {\r\n                        toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                        procesar = false;\r\n                    }\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Nota/nuevo', sentNota(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n}\r\nexport default class BuscarNota extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'ENTREGADA' }, { value: 2, label: 'FACTURADA' }];\r\n\r\n    title() {\r\n        return <h4>BUSCAR NOTA DE ENTREGA</h4>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>CLIENTE {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Nota' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Nota/lista');\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, ButtonGroup, Col, InputGroup, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Cotizacion, Factura, sentFactura } from \"../../Modelos/Factura\";\r\nimport { GeneralFila, generalNull } from \"../../Modelos/General\";\r\nimport CacheStorage from \"../../Utils/CacheStorage\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarCotizacion from \"../Cotizacion/BuscarCotizacion\";\r\nimport BuscarNota from \"../Nota/BuscarNota\";\r\nimport AuxiliarFactura from \"./Nuevo/AuxiliarFactura\";\r\ninterface State extends Factura {\r\n    open: boolean\r\n    cargarCotizacion: boolean\r\n    cargarNota: boolean\r\n}\r\nexport default class NuevaFactura extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    tasa = 1;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...generalNull, cod_cliente: '', condicion: 'CONTADO', open: false, cargarCotizacion: false, cargarNota: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <iframe src={\"/api/Factura/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarCotizacion open={state.cargarCotizacion} add={this.cargarCotizacion.bind(this)} close={() => { this.setState({ cargarCotizacion: false }) }} />\r\n            <BuscarNota open={state.cargarNota} add={this.cargarNota.bind(this)} close={() => { this.setState({ cargarNota: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA FACTURA</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Cliente' Cliente={state.cod_cliente} add={this.setCliente.bind(this)} />\r\n                <Col xs={5}>\r\n                    <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                        <span style={{ width: 100, position: 'relative', backgroundColor: \"#eee\" }}\r\n                            className=\"form-control\">CONDICION</span>\r\n                        <select style={{ width: 'calc(100% - 100px)' }} onChange={this.setCondicion.bind(this)}\r\n                            className=\"form-control\"\r\n                            defaultValue={this.props.condicion}>\r\n                            <option value=\"CONTADO\">CONTADO</option>\r\n                            <option value=\"CREDITO\">CREDITO</option>\r\n                        </select>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>OBSERVACI√ìN</Button>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <SetText type='textarea' rows={4} maxLength={600} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarFactura key=\"auxFactura\" Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"118px\" }} xs={2}>\r\n                        <ButtonGroup>\r\n                            <Button onClick={() => { this.setState({ cargarCotizacion: true }) }}\r\n                                data-class=\"toolbody\" data-html=\"true\"\r\n                                data-tip=\"CARGAR COTIZACION\" bsStyle=\"primary\">\r\n                                <span className=\"fa fa-fw fa fa-calculator\" />\r\n                            </Button>\r\n                            <Button onClick={() => { this.setState({ cargarNota: true }) }}\r\n                                data-class=\"toolbody\" data-html=\"true\"\r\n                                data-tip=\"CARGAR NOTA\" bsStyle=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-send\" />\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                    <CacheStorage setData={this.setState} data={state} Identificador=\"NuevaFactura\" />\r\n                </AuxiliarFactura>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    cargarCotizacion(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/detalles/' + d.codigo, (data: Cotizacion) => {\r\n            let d: any = data;\r\n            d.id_cotizacion = data.codigo;\r\n            d.codigo = 0;\r\n            d.nota = this.state.nota;\r\n            if (data.tasa !== 0)\r\n                d.detalles = data.detalles.map(p => {\r\n                    p.precio = p.precio * this.tasa / data.tasa;\r\n                    p.precio = parseFloat(p.precio.toFixed(2));\r\n                    return p;\r\n                })\r\n            this.setState(d)\r\n        })\r\n    }\r\n    cargarNota(d: GeneralFila) {\r\n        getPreCache('api/Nota/detalles/' + d.codigo, data => {\r\n            data.id_nota = data.codigo;\r\n            data.codigo = 0;\r\n            data.nota = this.state.nota;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n        getPreCache('api/Config/getFactura', data => {\r\n            this.setState({ nota: data.observacion });\r\n        })\r\n        getPreCache('api/Dolares/valor', data => {\r\n            this.tasa = data;\r\n        })\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    setCondicion(v: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = v.currentTarget.value as string\r\n        this.props.change(value)\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (procesar)\r\n            this.state.detalles.forEach(p => {\r\n                if (p.unidades > p.cantidad) {\r\n                    if (p.tipo !== 2) {\r\n                        toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                        procesar = false;\r\n                    }\r\n                } else if (p.costo > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU COSTO REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        if (procesar)\r\n            post('api/Factura/nuevo', sentFactura(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Row } from 'react-bootstrap';\r\nimport { GeneralFila } from '../../Modelos/General';\r\nimport FilaGeneraModal from '../../Utils/FilaGeneraModal';\r\nimport ModalBusqueda from '../../Utils/ModalBusqueda';\r\nimport { filaLabel } from '../../Utils/Utiles';\r\ninterface Props {\r\n    add: (p: GeneralFila) => void\r\n    cargarCache: () => void\r\n}\r\nexport default class BuscarGuardado extends ModalBusqueda<Props, GeneralFila, filaLabel>{\r\n    buscarLabel: filaLabel[] = ['codigo', 'nombre', 'fecha',];\r\n\r\n    title() {\r\n        return <h4>BUSCAR GUARDADOS</h4>\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"col-md-9\">\r\n                <div style={{ position: 'relative', width: \"100%\" }} className=\"input-group\">\r\n                    <input style={{ position: 'relative', width: \"70%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                    <div className=\"input-group-append\">\r\n                        <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                    </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Button style={{ width: '200px', }} onClick={this.props.cargarCache} bsStyle=\"warning\">\r\n                <span className=\"glyphicon glyphicon-open-file\"></span> CARGAR DESDE CACHE\r\n            </Button>\r\n        </Row>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }} onClick={() => { this.setOrden(\"codigo\") }}>NUMERO {this.flechas(\"codigo\")}</th>\r\n            <th style={{ width: \"90px\", backgroundColor: this.colorOrden(\"fecha\") }} onClick={() => { this.setOrden(\"fecha\") }}>FECHA {this.flechas(\"fecha\")}</th>\r\n            <th style={{ backgroundColor: this.colorOrden(\"nombre\") }} onClick={() => { this.setOrden(\"nombre\") }}>USUARIO {this.flechas(\"nombre\")}</th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo + c.status} data={c} type='Cotizacion' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    filtros() {\r\n        let itens = super.filtros();\r\n        this.length = itens.length;\r\n        return itens;\r\n    }\r\n    set() {\r\n        this.update('/api/Cotizacion/plantillas');\r\n    }\r\n}","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport InputText from '../../../Utils/InputText'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nexport default class FilaFactura extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, comentario, open, costo, precio1, precio2, precio3 } = this.state\r\n        return <>\r\n            <tr>\r\n                <td>{codigo}</td>\r\n                <td>{descripcion}</td>\r\n                <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n                <td>\r\n                    <SetText step='0.01' listLabel={costo + 'list'}\r\n                        minValue={parseFloat((costo * (1 + precio1 / 100)).toFixed(2))} type=\"number\"\r\n                        setData={this.setState} value={precio} update=\"precio\" />\r\n                    <datalist id={costo + 'list'}>\r\n                        <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                        <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                        <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                    </datalist>\r\n                </td>\r\n                <td>\r\n                    <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                        className=\"form-control\">{numberFormat(precio * unidades)}</span>\r\n                </td>\r\n                <td style={{ textAlign: 'right' }}>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"glyphicon glyphicon-edit\"></span>\r\n                        </Button>\r\n                        <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <InputText widthLabel={150} label=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n}","import React from \"react\"\r\nimport { getPreCache, numberFormat } from \"../../../Utils/Utiles\";\r\n\r\ninterface Props {\r\n    imponible: number\r\n    exento: number\r\n}\r\n\r\nexport default class CalcularImpuesto extends React.Component<Props> {\r\n    impuesto = 0;\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n    }\r\n    render() {\r\n        let { imponible, exento } = this.props\r\n        return <>\r\n            <tr>\r\n                <th colSpan={2} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n            {exento > 0 ? <>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                    <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n                </tr>\r\n            </> : <></>}\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {this.impuesto}%:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calImpuesto()}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{this.calPagar()}</th>\r\n            </tr>\r\n        </>\r\n    }\r\n    calImpuesto() {\r\n        let { imponible } = this.props;\r\n        let impuesto = (this.impuesto / 100);\r\n        return numberFormat(imponible * impuesto);\r\n    }\r\n    calPagar() {\r\n        let { imponible, exento } = this.props;\r\n        let impuesto = this.impuesto / 100;\r\n        let total = imponible + exento + (imponible * impuesto);\r\n        return numberFormat(total)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport InputText from '../../../Utils/InputText'\r\nimport SetText from '../../../Utils/setTex'\r\nimport { numberFormat } from '../../../Utils/Utiles'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n    tasa: number\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nexport default class FilaDolar extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo, comentario, open, costo, precio1, precio2, precio3 } = this.state;\r\n        let costoDolar = costo / this.props.tasa,\r\n            precioDolar = parseFloat((precio / this.props.tasa).toFixed(2)),\r\n            precio1Dolar = parseFloat((costoDolar * (1 + precio1 / 100)).toFixed(2)),\r\n            precio2Dolar = parseFloat((costoDolar * (1 + precio2 / 100)).toFixed(2)),\r\n            precio3Dolar = parseFloat((costoDolar * (1 + precio3 / 100)).toFixed(2));\r\n        return <>\r\n            <tr>\r\n                <td>{codigo}</td>\r\n                <td>{descripcion}</td>\r\n                <td><SetText minValue={1} type=\"number\" setData={this.setState} value={unidades} update=\"unidades\" /></td>\r\n                <td>\r\n                    <SetText step='0.01' listLabel={codigo + 'list'}\r\n                        minValue={parseFloat((costoDolar * (1 + precio1 / 100)).toFixed(2))} type=\"number\"\r\n                        setData={this.setPrecio.bind(this)} value={precioDolar} update=\"precio\" />\r\n                    <datalist id={codigo + 'list'}>\r\n                        <option>{precio1Dolar}</option>\r\n                        <option>{precio2Dolar}</option>\r\n                        <option>{precio3Dolar}</option>\r\n                    </datalist>\r\n                </td>\r\n                <td>\r\n                    <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                        className=\"form-control\">{numberFormat(precio * unidades / this.props.tasa)}</span>\r\n                </td>\r\n                <td style={{ textAlign: 'right' }}>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"glyphicon glyphicon-edit\"></span>\r\n                        </Button>\r\n                        <Button bsStyle=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </td>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <InputText widthLabel={150} label=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    setPrecio(data: { precio: number }) {\r\n        this.setState({ precio: data.precio * this.props.tasa });\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n}","import React from 'react'\r\nimport { Row, Col, Button, Table, ButtonGroup } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { removeElement, addUpdateArray } from '../../../Utils/ArrayFun'\r\nimport { Detalles } from '../../../Modelos/General'\r\nimport { Producto } from '../../../Modelos/Productos'\r\nimport BuscarProducto from '../../Productos/BuscarProducto'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport FilaProducto from './FilaProducto'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\nimport { Cotizacion } from '../../../Modelos/Factura'\r\nimport FormProductos from '../../Productos/FormProductos'\r\nimport FilaDolar from './FilaDolar'\r\ninterface State {\r\n    buscarProducto: boolean\r\n    nuevoProducto: boolean\r\n}\r\ninterface Props {\r\n    data: Cotizacion\r\n    setData: (data: any) => void\r\n    Prosesar?: () => void\r\n}\r\nexport default class AuxiliarCotizacion extends React.Component<Props, State> {\r\n    setData: (data: any) => void;\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.state = { buscarProducto: false, nuevoProducto: false };\r\n    }\r\n    addProductos(producto: Detalles) {\r\n        let cant = this.props.data.detalles.length;\r\n        producto.precio = parseFloat(producto.precio.toFixed(2));\r\n        let aux = {\r\n            a: this.props.data.detalles, b: producto,\r\n            isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false }\r\n        }\r\n        let detalles = addUpdateArray(aux);\r\n        if (cant < detalles.length)\r\n            toast('PRODUCTO ' + producto.descripcion + \" AGREGADO\", { type: toast.TYPE.SUCCESS })\r\n        this.setData({ detalles })\r\n    }\r\n    removeProductos(producto: Detalles) {\r\n        let aux = { a: this.props.data.detalles, b: producto, isCompare: (a: Detalles, b: Detalles) => { if (a.codigo === b.codigo) return true; return false } }\r\n        this.setData({ detalles: removeElement(aux) })\r\n        toast('PRODUCTO ' + producto.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo * (1 + p.precio2 / 100), comentario: \"\" });\r\n    }\r\n    render() {\r\n        let imp = 0;\r\n        let ext = 0;\r\n        let { buscarProducto, nuevoProducto } = this.state;\r\n        let { data: { dolar, tasa }, setData } = this.props;\r\n        return <>\r\n            <FormProductos open={nuevoProducto} close={this.close.bind(this)} add={this.createProducto.bind(this)} />\r\n            <BuscarProducto type='Cotizacion' open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <Row>\r\n                <Col xs={6}>\r\n                    {this.props.children}\r\n                </Col>\r\n                <Col xs={6}>\r\n                    <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} bsStyle=\"success\"\r\n                        className=\"pull-right\" onClick={this.props.Prosesar} >\r\n                        <span className=\"glyphicon glyphicon-print\" />\r\n                    </Button>\r\n                    <ButtonGroup className=\"pull-right\" style={{ marginRight: \"15px\" }}>\r\n                        <Button data-tip=\"NUEVO PRODUCTO\" onClick={() => { this.setState({ nuevoProducto: true }) }} bsStyle=\"info\">\r\n                            <i className=\"glyphicon glyphicon-edit\"></i>\r\n                        </Button>\r\n                        <Button data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-search\"></span>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                    {dolar ? <Button data-tip=\"CAMBIAR A BOLIVARES\" style={{ marginRight: \"15px\" }} bsStyle=\"warning\"\r\n                        className=\"pull-right\" onClick={() => { setData({ dolar: !dolar }) }} >\r\n                        <span className=\"glyphicon glyphicon-usd\" />\r\n                    </Button> : <Button data-tip=\"CAMBIAR A DOLARES\" style={{ marginRight: \"15px\" }} bsStyle=\"primary\"\r\n                        className=\"pull-right\" onClick={() => { setData({ dolar: !dolar }) }} >\r\n                        <b style={{ fontSize: '10px' }}>BS</b>\r\n                    </Button>}\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <thead>\r\n                    <tr className='info'>\r\n                        <th style={{ width: \"100px\" }}>CODIGO</th>\r\n                        <th>DESCRIPCI√ìN</th>\r\n                        <th style={{ width: \"100px\", textAlign: 'right' }}>CANTIDAD</th>\r\n                        <th style={{ width: \"150px\", textAlign: 'right' }}>PRE/UNT</th>\r\n                        <th style={{ width: \"200px\", textAlign: 'right' }}>PRECIO</th>\r\n                        <th style={{ width: \"110px\", textAlign: 'right' }}>ACCIONES</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.props.data.detalles.map(producto => {\r\n                        let impo = 0, exen = 0;\r\n                        if (producto.exento) {\r\n                            exen += producto.precio * producto.unidades;\r\n                        } else {\r\n                            impo += producto.precio * producto.unidades;\r\n                        }\r\n                        if (dolar) {\r\n                            exen = exen / tasa;\r\n                            impo = impo / tasa;\r\n                        }\r\n                        ext += exen;\r\n                        imp += impo;\r\n                        return dolar ? <FilaDolar\r\n                            key={'USD' + producto.codigo}\r\n                            tasa={tasa}\r\n                            producto={producto}\r\n                            edit={this.addProductos.bind(this)}\r\n                            remove={this.removeProductos.bind(this)} /> :\r\n                            <FilaProducto\r\n                                key={'BS' + producto.codigo}\r\n                                producto={producto}\r\n                                edit={this.addProductos.bind(this)}\r\n                                remove={this.removeProductos.bind(this)} />\r\n\r\n                    })}\r\n                    <CalcularImpuesto exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    close() {\r\n        this.setState({ buscarProducto: false, nuevoProducto: false })\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, ButtonGroup, Col, InputGroup, Panel, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { Cotizacion, sentCotizacion } from \"../../Modelos/Factura\";\r\nimport { condicionesNull, GeneralFila } from \"../../Modelos/General\";\r\nimport InputText from \"../../Utils/InputText\";\r\nimport SetText from \"../../Utils/setTex\";\r\nimport { getPreCache, post } from \"../../Utils/Utiles\";\r\nimport ClienteSelector from \"../Clientes/ClienteSelector\";\r\nimport BuscarCotizacion from \"./BuscarCotizacion\";\r\nimport BuscarGuardado from \"./BuscarGuardado\";\r\nimport AuxiliarCotizacion from \"./Nuevo/AuxiliarCotizacion\";\r\ninterface State extends Cotizacion {\r\n    open: boolean\r\n    cargar: boolean\r\n    copiar: boolean\r\n}\r\nexport default class NuevaCotizacion extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setState = this.setState.bind(this)\r\n        this.state = { ...condicionesNull, cod_cliente: '', plantilla: 0, tasa: 0, dolar: false, copiar: false, open: false, cargar: false };\r\n    }\r\n    render() {\r\n        let { state } = this;\r\n        if (state.codigo > 0)\r\n            return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n                <ReactTooltip />\r\n                {state.dolar ? <Button data-tip=\"CAMBIAR A BOLIVARES\" style={{ marginRight: \"15px\" }} bsStyle=\"warning\"\r\n                    className=\"btn-block\" onClick={() => { this.setState({ dolar: !state.dolar }) }} >\r\n                    <span className=\"glyphicon glyphicon-usd\" /> VISTA EN DOLARES\r\n                </Button> : <Button data-tip=\"CAMBIAR A DOLARES\" style={{ marginRight: \"15px\" }} bsStyle=\"primary\"\r\n                    className=\"btn-block\" onClick={() => { this.setState({ dolar: !state.dolar }) }} >\r\n                    <b>BS</b> VISTA EN BOLIVARES\r\n                </Button>}\r\n                {state.dolar ? <iframe src={\"/api/Cotizacion/PDFD/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' /> :\r\n                    <iframe src={\"/api/Cotizacion/PDF/\" + state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />}\r\n            </Panel>\r\n        return <Panel bsStyle=\"info\" id=\"tabla\" expanded={this.state.open}>\r\n            <BuscarCotizacion open={state.copiar} add={this.copiar.bind(this)} close={() => { this.setState({ copiar: false }) }} />\r\n            <BuscarGuardado open={state.cargar} add={this.cargar.bind(this)} cargarCache={this.cargarCache.bind(this)} close={() => { this.setState({ cargar: false }) }} />\r\n            <Panel.Heading>\r\n                <h4><i className=\"glyphicon glyphicon-edit\"></i> NUEVA COTIZACION</h4>\r\n            </Panel.Heading>\r\n            <Panel.Body>\r\n                <ClienteSelector type='Cliente' Cliente={state.cod_cliente} add={this.setProveedor.bind(this)} />\r\n                <Button style={{ marginBottom: '15px' }}\r\n                    onClick={() => { this.setState({ open: !this.state.open }) }}\r\n                    bsStyle='primary'>CONDICIONES</Button>\r\n                <Col xs={4} className=\"pull-right\">\r\n                    <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                        <span style={{ width: '150px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">TASA ACTUAL</span>\r\n                        <span style={{ width: 'calc(100% - 150PX)', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }} className=\"form-control\">{state.tasa}</span>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Panel.Collapse>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col xs={12}>\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"VALIDES DE LA OFERTA\" value={state.validez} setData={this.setState} update=\"validez\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"TIEMPO DE ENTREGA\" value={state.tiempo_entrega} setData={this.setState} update=\"tiempo_entrega\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <InputText maxLength={120} widthLabel={200} label=\"FORMA DE PAGO\" value={state.forma_pago} setData={this.setState} update=\"forma_pago\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <SetText type='textarea' rows={3} maxLength={250} value={state.nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Panel.Collapse>\r\n                <AuxiliarCotizacion key='auxCotizacion' Prosesar={this.propcesar.bind(this)} setData={this.setState} data={state} >\r\n                    <Col style={{ width: \"70px\" }} xs={2}>\r\n                        <Button onClick={() => { this.setState({ copiar: true }) }}\r\n                            data-class=\"toolbody\" data-html=\"true\"\r\n                            data-tip=\"COPIAR COTIZACION\" bsStyle=\"primary\">\r\n                            <span className=\"glyphicon glyphicon-duplicate\" />\r\n                        </Button>\r\n                    </Col>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"info\" onClick={this.guardar.bind(this)} data-tip=\"GUARDAR\">\r\n                            <span className=\"glyphicon glyphicon-save-file\"></span>\r\n                        </Button>\r\n                        <Button bsStyle=\"warning\" onClick={() => { this.setState({ cargar: true }) }} data-tip=\"CARGAR\">\r\n                            <span className=\"glyphicon glyphicon-open-file\" />\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </AuxiliarCotizacion>\r\n            </Panel.Body>\r\n        </Panel>\r\n    }\r\n    copiar(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/detalles/' + d.codigo, data => {\r\n            data.codigo = 0;\r\n            data.tasa = this.state.tasa;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        getPreCache('api/Cotizacion/cargar/' + d.codigo, data => {\r\n            data.plantilla = data.codigo;\r\n            data.tasa = this.state.tasa;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    cargarCache() {\r\n        let dataCache = localStorage.getItem('guardarNuevaCotizacion');\r\n        if (dataCache !== null) {\r\n            let data = JSON.parse(dataCache);\r\n            data.tasa = this.state.tasa;\r\n            this.setState(data);\r\n\r\n        }\r\n    }\r\n    guardar() {\r\n        localStorage.setItem('guardarNuevaCotizacion', JSON.stringify(this.state));\r\n        post('api/Cotizacion/guardar', sentCotizacion(this.state, this.impuesto), data => {\r\n            this.setState({ plantilla: data });\r\n            localStorage.setItem('guardarNuevaCotizacion', JSON.stringify(this.state));\r\n            toast(\"DATOS GUARDADOS EN N¬∞ \" + data, { type: toast.TYPE.SUCCESS })\r\n        }, error => {\r\n            toast(\"ERROR AL CONECTAR CON SEL SERVIDOR. GUARDADOS EN CACHE\", { type: toast.TYPE.ERROR })\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        getPreCache('api/Region/get', data => {\r\n            this.impuesto = data.impuesto;\r\n        })\r\n        getPreCache('api/Dolares/valor', data => {\r\n            this.setState({ tasa: data })\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    propcesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } else if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }\r\n        if (procesar)\r\n            post('api/Cotizacion/nuevo', sentCotizacion(this.state, this.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            })\r\n    }\r\n}","import React from 'react';\r\nimport { getPreCache } from '../Utils/Utiles';\r\ninterface State {\r\n    id_usuario: number\r\n    nivel: number;\r\n    usuario: string\r\n    open: boolean\r\n}\r\ninterface Props {\r\n    update: () => void\r\n}\r\nexport default class Header extends React.Component<Props, State> {\r\n    state = { id_usuario: 0, nivel: 0, usuario: '', open: false };\r\n    render() {\r\n        let { usuario, open } = this.state;\r\n        return <header className=\"main-header\">\r\n            <a href=\"/admin\" className=\"logo\">\r\n                <span className=\"logo-mini\">\r\n                    <img src=\"/logos/logo.svg\" width=\"95%\" alt='logo' />\r\n                </span>\r\n                <span className=\"logo-lg\">\r\n                    <img src=\"/logos/logo-text.svg\" width=\"100%\" alt='logo-text' />\r\n                </span>\r\n            </a>\r\n            <nav style={{ height: \"50px\" }} className=\"navbar navbar-static-top\" role=\"navigation\">\r\n                <div onClick={this.open.bind(this)} className=\"sidebar-toggle\" data-toggle=\"push-menu\" role=\"button\">\r\n                    <span className=\"sr-only\">Toggle navigation</span>\r\n                </div>\r\n                <div className=\"navbar-custom-menu\">\r\n                    <ul className=\"nav navbar-nav\">\r\n                        <li className={\"dropdown user user-menu\" + ((open) ? ' open' : '')}>\r\n                            <a href=\"#menu\" onClick={() => { this.setState({ open: !open }) }} className=\"dropdown-toggle\" data-toggle=\"dropdown\" aria-expanded=\"true\">\r\n                                <span className=\"hidden-xs\">{usuario}</span>\r\n                            </a>\r\n                            <ul className=\"dropdown-menu\">\r\n                                <li className=\"user-header\">\r\n                                    <p>\r\n                                        {usuario}\r\n                                    </p>\r\n                                </li>\r\n                                <li className=\"user-footer\">\r\n                                    <div className=\"pull-right\">\r\n                                        <a href=\"config/salir.php\" className=\"btn btn-default btn-flat\">Salir</a>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    }\r\n\r\n    open() {\r\n        let body = document.getElementsByTagName('body')[0];\r\n        let data = localStorage.getItem('menu');\r\n        if (data === 'open') {\r\n            localStorage.setItem('menu', 'cerrado')\r\n            data = 'cerrado'\r\n        } else {\r\n            localStorage.setItem('menu', 'open')\r\n            data = 'open'\r\n        }\r\n        if (body) {\r\n            if (data === 'cerrado')\r\n                body.classList.add('sidebar-collapse')\r\n            else\r\n                body.classList.remove('sidebar-collapse')\r\n        }\r\n        this.props.update();\r\n    }\r\n\r\n    componentDidMount() {\r\n        let body = document.getElementsByTagName('body')[0];\r\n        let data = localStorage.getItem('menu');\r\n        if (!data) {\r\n            data = \"open\";\r\n            localStorage.setItem('menu', 'open')\r\n        }\r\n        if (body) {\r\n            if (data === 'cerrado')\r\n                body.classList.add('sidebar-collapse')\r\n            else\r\n                body.classList.remove('sidebar-collapse')\r\n        }\r\n        getPreCache('/api/Usuario/actual', data => {\r\n            this.setState(data)\r\n        })\r\n    }\r\n}","import React from 'react';\r\nexport default class Treeview extends React.Component<{ title: string, icon: string, state: string }, { open: boolean, height: number | string }> {\r\n    state = { open: false, height: 44 };\r\n    ul = React.createRef<HTMLUListElement>();\r\n    render() {\r\n        let { open, height } = this.state;\r\n        return <li style={{ height, overflow: (this.props.state === 'open') ? 'hidden' : undefined }}\r\n            onClick={this.collapse.bind(this)}\r\n            className={\"treeview \" + (open) ? 'menu-open' : ''}>\r\n            <a href=\"#menu\">\r\n                <i className={this.props.icon}></i>\r\n                <span style={{ width: \"230px\" }}>{this.props.title}</span>\r\n                <span className=\"pull-right-container\">\r\n                    <i className={\"fa fa-angle-\" + ((open) ? 'down' : 'left') + ' pull-right '}></i>\r\n                </span>\r\n            </a>\r\n            <ul ref={this.ul} style={{ width: \"230px\", display: 'block' }} className=\"treeview-menu\">\r\n                {this.props.children}\r\n            </ul>\r\n        </li>\r\n    }\r\n    componentDidUpdate(p: any, s: any) {\r\n        if (p.state === 'open') {\r\n            if (this.state.open !== s.open) {\r\n                let h = this.ul.current?.clientHeight;\r\n                h = h ? h : 0;\r\n                this.collapsed(h / 25, 25);\r\n            }\r\n            let { height } = this.state;\r\n            if (height < 44)\r\n                this.setState({ height: 44 });\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(p: any) {\r\n        if (p.state === 'open') {\r\n            this.setState({ height: 44 });\r\n        } else {\r\n            this.setState({ height: 'auto' });\r\n        }\r\n    }\r\n\r\n    collapse() {\r\n        this.setState({ open: !this.state.open });\r\n    }\r\n    collapsed(n: number = 0, i: number) {\r\n        let { height, open } = this.state;\r\n        setTimeout(() => {\r\n            if (open) {\r\n                this.setState({ height: height + n });\r\n            } else {\r\n                this.setState({ height: height - n });\r\n            }\r\n            if (i > 0)\r\n                this.collapsed(n, i - 1);\r\n        }, 0);\r\n    }\r\n\r\n    h = 44;\r\n\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Treeview from './Treeview';\r\n\r\nexport default class Menu extends React.Component<{ state: string }> {\r\n    render() {\r\n        return <aside className=\"main-sidebar\">\r\n            <section className=\"sidebar\">\r\n                <ul className=\"sidebar-menu\">\r\n                    <li className=\"active\">\r\n                        <a href=\"/panel_ad\">\r\n                            <i className=\"fa fa-dashboard\"></i> <span>Inicio</span>\r\n                        </a>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_ordenes\">\r\n                            <i className=\"fa fa-fw fa fa-paperclip\"></i> <span style={{ width: \"200px\" }}> ORDENES DE COMPRA </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_compras\">\r\n                            <i className=\"fa fa-fw fa fa-shopping-cart\"></i> <span> COMPRAS </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_cotizaciones\">\r\n                            <i className=\"fa fa-fw fa fa-calculator\"></i> <span> COTIZACIONES </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_notas\">\r\n                            <i className=\"fa fa-fw fa fa-send\"></i> <span> NOTAS DE ENTREGA </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_facturas\">\r\n                            <i className=\"fa fa-fw fa fa-usd\"></i> <span> FACTURAS </span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_proveedores\">\r\n                            <i className=\"fa fa-fw fa fa-truck\"></i> <span> PROVEEDORES</span>\r\n                        </Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/ver_clientes\">\r\n                            <i className=\"fa fa-fw fa fa-user\"></i><span> CLIENTES</span>\r\n                        </Link>\r\n                    </li>\r\n                    <Treeview state={this.props.state} title='INVENTARIO' icon='fa fa-fw fa fa-laptop'>\r\n                        <li>\r\n                            <a href=\"ver_productos\">\r\n                                <i className=\"fa fa-circle-o\"></i> Consulta de inventario\r\n                                </a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"nuevo_producto\">\r\n                                <i className=\"fa fa-circle-o\"></i> Registro de productos\r\n                                </a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"ajuste_inventario\">\r\n                                <i className=\"fa fa-circle-o\"></i> Ajuste de inventario\r\n                                </a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"ajuste_utilidad\">\r\n                                <i className=\"fa fa-circle-o\"></i> Ajuste de utilidad\r\n                                </a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"ajuste_precio\">\r\n                                <i className=\"fa fa-circle-o\"></i> Ajuste de Precio\r\n                                </a>\r\n                        </li>\r\n                    </Treeview>\r\n                    <Treeview state={this.props.state} title='REPORTES' icon='fa fa-fw fa-bar-chart'>\r\n                        <li>\r\n                            <a href=\"reporte_compras\"><i className=\"fa fa-circle-o\"></i> Reporte de compras</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"reporte_ventas\"><i className=\"fa fa-circle-o\"></i> Reporte de ventas</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"reporte_vendedor\"><i className=\"fa fa-circle-o\"></i> Reporte de vendedores</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"reporte_ajustes\"><i className=\"fa fa-circle-o\"></i> Reporte de ajustes de inventario</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"reporte_inventario\"><i className=\"fa fa-circle-o\"></i> Reporte de inventario</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"rubros\"><i className=\"fa fa-circle-o\"></i> Reporte de rubros por mes</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"seguimiento\"><i className=\"fa fa-circle-o\"></i> Seguimiento de compras</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"historico\"><i className=\"fa fa-circle-o\"></i> historico de productos</a>\r\n                        </li>\r\n                    </Treeview>\r\n                    <li>\r\n                        <a href=\"/ver_usuarios\">\r\n                            <i className=\"fa fa-fw fa fa-users\"></i><span> USUARIOS</span>\r\n                        </a>\r\n                    </li>\r\n                    <Treeview state={this.props.state} title='PARAMETROS' icon='fa fa-fw fa-sliders'>\r\n                        <li>\r\n                            <a href=\"tipo_producto\"><i className=\"fa fa-circle-o\"></i> Tipo de producto</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"unidades\"><i className=\"fa fa-circle-o\"></i> Unidades</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"departamentos\"><i className=\"fa fa-circle-o\"></i> Departamentos</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"moneda\"><i className=\"fa fa-circle-o\"></i> Monedas</a>\r\n                        </li>\r\n                    </Treeview>\r\n                    <Treeview state={this.props.state} title='CONFIGURACION' icon='fa fa-fw fa-wrench'>\r\n                        <li>\r\n                            <a href=\"conf_ventas\"> <i className=\"fa fa-circle-o\"></i> Configuraci√≥n de ventas</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"conf_region\"> <i className=\"fa fa-circle-o\"></i> Configuraci√≥n de regi√≥n</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"conf_factura\"> <i className=\"fa fa-circle-o\"></i> Configuraci√≥n de factura</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"conf_empresa\"> <i className=\"fa fa-circle-o\"></i> Datos de la empresa</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"horarios\"> <i className=\"fa fa-circle-o\"></i> Horarios de Trabajo</a>\r\n                        </li>\r\n                    </Treeview>\r\n                </ul>\r\n            </section>\r\n        </aside>\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Footer extends React.Component {\r\n    render() {\r\n        return <footer className=\"main-footer\" style={{ position: 'relative', bottom: 0 }}>\r\n            <div className=\"pull-right hidden-xs\"><b>Version</b> 2.1.3</div>\r\n            <strong> <a href=\"http://ailanthus-sistems.com/\"><img src=\"/logos/logo-text.svg\" width=\"150px\" alt='logo' /></a> Copyright ¬© 2021-2025.</strong>\r\n        </footer>\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Cliente from '../../Modelos/Cliente';\r\nimport FormCliente from './FormCliente';\r\n\r\ninterface Props {\r\n    type: 'Cliente' | 'Proveedor'\r\n    data: Cliente\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    edit: boolean\r\n}\r\nexport default class FilaCliente extends React.Component<Props, State>{\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { edit: false };\r\n    }\r\n    render() {\r\n        return <tr >\r\n            <th>\r\n                {this.props.data.codigo}\r\n            </th>\r\n            <th>\r\n                <ReactTooltip />\r\n                <FormCliente open={this.state.edit}\r\n                    title={'EDITAR DATOS DE ' + this.props.data.nombre}\r\n                    type={this.props.type}\r\n                    cliente={this.props.data}\r\n                    close={() => { this.setState({ edit: false }) }}\r\n                    add={this.props.update} />\r\n                <Button style={{ whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\" }}\r\n                    data-class=\"toolbody\" data-html=\"true\" data-tip={this.tooltipCliente()} bsStyle=\"link\" >\r\n                    {this.props.data.nombre}\r\n                </Button>\r\n            </th>\r\n            <th style={{ minWidth: \"100px\", maxWidth: \"100px\", paddingTop: 5, fontSize: 17 }}>\r\n                {this.getStatus()}\r\n            </th>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                <ButtonGroup className=\"pull-right\">\r\n                    <Button data-tip=\"EDITAR\" bsStyle=\"primary\"\r\n                        onClick={() => { this.setState({ edit: true }) }}>\r\n                        <i className=\"glyphicon glyphicon-EDIT\"></i>\r\n                    </Button>\r\n                    {(this.props.data.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" bsStyle=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"glyphicon glyphicon-ban-circle\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" bsStyle=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"glyphicon glyphicon-ok-circle\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        return <></>;\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.estatus === 1)\r\n            return <span className=\"label label-success\">ACTIVO</span>\r\n        return <span className=\"label label-danger\">INACTIVO</span>\r\n    }\r\n    tooltipCliente() {\r\n        let cot = this.props.data\r\n        return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n            \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n            cot.contacto + \"<br />\" +\r\n            \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n            cot.correo + \"<br />\" +\r\n            \"<b>TELEFONO:</b><br />\" +\r\n            cot.telefono\r\n    }\r\n    close() {\r\n        this.setState({ edit: false });\r\n    }\r\n    cancelar() {\r\n        this.close();\r\n        fetch(\"/api/\" + this.props.type + \"/cancelar/\" + this.props.data.codigo)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (this.props.update)\r\n                    this.props.update()\r\n            });\r\n    }\r\n    getLabel() {\r\n        if (this.props.type === 'Cliente')\r\n            return 'CLIENTE'\r\n        return 'PROVEEDOR'\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Col, Row } from 'react-bootstrap';\r\nimport Cliente, { ClienteLabel } from '../../Modelos/Cliente'\r\nimport Tabla from '../../Utils/Table'\r\nimport FilaCliente from './Fila'\r\nimport FormCliente from './FormCliente';\r\n\r\ninterface Props {\r\n    open: boolean\r\n    add: (iten: Cliente) => void\r\n    close: () => void\r\n}\r\ninterface Props {\r\n    title: string\r\n    lista: Cliente[];\r\n    add: (p: Cliente) => void\r\n}\r\nexport default class ListClientes extends Tabla {\r\n    placeholder = \"BUSCAR CLIENTE\";\r\n    buscarLabel: any[] = ['codigo', 'nombre', 'contacto', 'correo', 'telefono'];\r\n    Avansado() {\r\n        return <></>;\r\n    }\r\n    title() {\r\n        return <>\r\n            <FormCliente open={this.state.modalProductos} title='NUEVO CLIENTE' type='Cliente'\r\n                cliente={null} close={() => { this.setState({ modalProductos: false }) }} add={this.set.bind(this)} />\r\n            <div className=\"btn-group pull-right\">\r\n                <Button onClick={() => { this.setState({ modalProductos: true }) }} bsStyle='primary'>\r\n                    <span className=\"glyphicon glyphicon-plus\"></span> NUEVO CLIENTE\r\n            </Button>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR CLIENTE</h4>\r\n        </>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }}\r\n                onClick={() => { this.setOrden(\"codigo\") }}>\r\n                RIF {this.flechas(\"codigo\")}\r\n            </th>\r\n            <th style={{ width: 'calc(100% - 335px)', backgroundColor: this.colorOrden(\"nombre\") }}\r\n                onClick={() => { this.setOrden(\"nombre\") }}>\r\n                RASON SOCIAL {this.flechas(\"nombre\")}\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"input-group col-md-12\">\r\n                <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                <div className=\"input-group-append\">\r\n                    <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span> Buscar\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    Row(d: Cliente) {\r\n        return <FilaCliente type='Cliente' key={d.codigo + d.estatus}\r\n            update={this.set.bind(this)} data={d} />\r\n    }\r\n    set() {\r\n        this.update('/api/Cliente/lista');\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Button, Col, Row } from 'react-bootstrap';\r\nimport Cliente from '../Modelos/Cliente'\r\nimport Tabla from '../Utils/Table'\r\nimport FilaCliente from './Clientes/Fila'\r\nimport FormCliente from './Clientes/FormCliente';\r\n\r\nexport default class ListaProveedores extends Tabla {\r\n    placeholder = \"BUSCAR PROVEEDOR\";\r\n    buscarLabel: any[] = ['codigo', 'nombre', 'contacto', 'correo', 'telefono'];\r\n    title() {\r\n        return <>\r\n            <FormCliente open={this.state.modalProductos} title='NUEVO PROVEEDOR' type='Proveedor'\r\n                cliente={null} close={() => { this.setState({ modalProductos: false }) }} add={this.set.bind(this)} />\r\n            <div className=\"btn-group pull-right\">\r\n                <Button onClick={() => { this.setState({ modalProductos: true }) }} bsStyle='primary'>\r\n                    <span className=\"glyphicon glyphicon-plus\"></span> NUEVO PROVEEDOR\r\n                </Button>\r\n            </div>\r\n            <h4><i className=\"glyphicon glyphicon-search\"></i> BUSCAR PROVEEDOR</h4>\r\n        </>\r\n    }\r\n    Avansado() {\r\n        return <></>;\r\n    }\r\n    renderBusqueda() {\r\n        return <Row>\r\n            <div className=\"input-group col-md-12\">\r\n                <input style={{ position: 'relative', width: \"50%\" }} onKeyUp={this.setBuscar.bind(this)} name=\"buscar\" placeholder={this.placeholder} className=\"form-control\" />\r\n                <div className=\"input-group-append\">\r\n                    <Button style={{ width: '100px', position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} bsStyle=\"primary\">\r\n                        <span className=\"glyphicon glyphicon-search\"></span> Buscar\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Row>\r\n    }\r\n    Header() {\r\n        return <tr className=\"info\">\r\n            <th style={{ width: \"100px\", backgroundColor: this.colorOrden(\"codigo\") }}\r\n                onClick={() => { this.setOrden(\"codigo\") }}>\r\n                RIF {this.flechas(\"codigo\")}\r\n            </th>\r\n            <th style={{ width: 'calc(100% - 335px)', backgroundColor: this.colorOrden(\"nombre\") }}\r\n                onClick={() => { this.setOrden(\"nombre\") }}>\r\n                RASON SOCIAL {this.flechas(\"nombre\")}\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>ESTATUS</th>\r\n            <th style={{ width: \"135px\" }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Row(d: Cliente) {\r\n        return <FilaCliente type='Proveedor' key={d.codigo + d.estatus}\r\n            update={this.set.bind(this)} data={d} />\r\n    }\r\n    set() {\r\n        this.update('/api/Proveedor/lista');\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './CSS/font-awesome/css/font-awesome.min.css';\r\nimport './CSS/skins.min.css';\r\nimport './CSS/AdminLTE.min.css';\r\nimport './CSS/App.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ListCotizaciones from './App/Cotizacion';\r\nimport ListFactura from './App/Facturas';\r\nimport ListNotas from './App/Nota';\r\nimport ListOrdenes from './App/Orden';\r\nimport ListConpra from './App/Compra';\r\nimport NuevaOrden from './App/Orden/Nuevo';\r\nimport NuevaCompra from './App/Compra/Nuevo';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport NuevaNota from './App/Nota/Nuevo';\r\nimport NuevaFactura from './App/Facturas/Nuevo';\r\nimport NuevaCotizacion from './App/Cotizacion/Nueva';\r\nimport Header from './Template/Header';\r\nimport Menu from './Template/Menu';\r\nimport Footer from './Template/Footer';\r\nimport ListClientes from './App/Clientes';\r\nimport ListaProveedores from './App/Proveedores';\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    let data = localStorage.getItem('menu');\r\n    if (!data) {\r\n      data = \"open\";\r\n      localStorage.setItem('menu', 'open');\r\n    }\r\n    let styles = {};\r\n    if (data === 'cerrado')\r\n      styles = { marginLeft: \"50px\", minHeight: \"calc(100vh - 110px)\", };\r\n    else\r\n      styles = { marginLeft: \"230px\", minHeight: \"calc(100vh - 110px)\", };\r\n    return (<Router>\r\n      <Header update={this.forceUpdate.bind(this)} key='headerBar' />\r\n      <Menu state={data} key='MenuAside' />\r\n      <section style={styles} className=\"content\">\r\n        <ToastContainer position='bottom-right' />\r\n        <Switch>\r\n          <Route path=\"/ver_cotizaciones\" component={ListCotizaciones} />\r\n          <Route path=\"/nueva_cotizacion\" component={NuevaCotizacion} />\r\n          <Route path=\"/ver_ordenes\" component={ListOrdenes} />\r\n          <Route path=\"/nueva_orden\" component={NuevaOrden} />\r\n          <Route path=\"/ver_facturas\" component={ListFactura} />\r\n          <Route path=\"/nueva_factura\" component={NuevaFactura} />\r\n          <Route path=\"/ver_notas\" component={ListNotas} />\r\n          <Route path=\"/nueva_nota\" component={NuevaNota} />\r\n          <Route path=\"/ver_compras\" component={ListConpra} />\r\n          <Route path=\"/nueva_compra\" component={NuevaCompra} />\r\n          <Route path=\"/ver_proveedores\" component={ListaProveedores} />\r\n          <Route path=\"/ver_clientes\" component={ListClientes} />\r\n        </Switch>\r\n      </section>\r\n      <Footer />\r\n    </Router>);\r\n  }\r\n}\r\n\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals(); \r\n"],"sourceRoot":""}