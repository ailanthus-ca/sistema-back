{"version":3,"sources":["Utiles/Formatos.ts","Config/localData.ts","Config/Coneccion.ts","Models/Usuario.ts","Models/Config.ts","Models/General.ts","Context/Seccion.tsx","Template/User.tsx","Template/Header.tsx","Template/MenuIten.tsx","Template/Menu.tsx","Template/Footer.tsx","Utiles/Inputs/InputArea.tsx","Utiles/FormControl/ControlArea.tsx","Utiles/Inputs/InputDate.tsx","Utiles/FormControl/ControlDate.tsx","Utiles/Inputs/InputNumber.tsx","Utiles/FormControl/ControlNumber.tsx","Utiles/Inputs/InputText.tsx","Utiles/FormControl/ControlText.tsx","App/Rol/Selector.tsx","App/Usuarios/FormUsuario.tsx","Utiles/Componentes/THFila.tsx","App/Usuarios/FormClave.tsx","App/Usuarios/Fila.tsx","Utiles/Tabla/Paginacion.tsx","Utiles/Tabla/Body.tsx","Utiles/Tabla/Th.tsx","Utiles/Tabla/index.tsx","Models/Factura.ts","Utiles/Buscadores/Card.tsx","App/Usuarios/Avanzados.tsx","App/Usuarios/index.tsx","Utiles/Charts/Area.tsx","App/Panel/Dolar.tsx","Utiles/Charts/Gauge.tsx","App/Panel/NuevoEquilibrio.tsx","App/Panel/Equilibrio.tsx","App/Panel/Utilidad.tsx","App/Panel/Contadores.tsx","Utiles/Charts/Torta.tsx","App/Panel/Tortas/TortasMaster.tsx","App/Panel/Tortas/Cotizacion.tsx","App/Panel/Tortas/Compra.tsx","App/Panel/Tortas/Nota.tsx","App/Panel/Tortas/Factura.tsx","App/Panel/Ventas.tsx","Utiles/Charts/Barras.tsx","App/Panel/Mejor.tsx","App/Panel/index.tsx","App/Login/index.tsx","Models/Productos.ts","Context/Producto.tsx","Models/Proveedor.ts","Models/Cliente.ts","Context/Ventas.tsx","App/Clientes/Form.tsx","App/Clientes/Fila.tsx","App/Clientes/index.tsx","Utiles/Componentes/ModalPrint.tsx","Utiles/Componentes/Seguimiento.tsx","Utiles/Componentes/ModalAlert.tsx","Utiles/Componentes/ModalDetalle.tsx","Utiles/Prototipos/FilaProto.tsx","Utiles/Prototipos/FilaVentas.tsx","App/Cotizacion/ModalDetalle.tsx","App/Cotizacion/ModalPrint.tsx","App/Cotizacion/FilaCotizacio.tsx","App/Productos/BuscarProducto/FilaCompra.tsx","App/Productos/BuscarProducto/FilaSeleccion.tsx","App/Productos/BuscarProducto/FilaFactura.tsx","App/Productos/BuscarProducto/FilaEntrada.tsx","App/Productos/BuscarProducto/FilaPrecio.tsx","App/Productos/BuscarProducto/FilaSalida.tsx","App/Productos/BuscarProducto/FilaUtilidad.tsx","App/Productos/BuscarProducto/FilaCotizacion.tsx","App/Productos/BuscarProducto/FilaDolar.tsx","App/Departamento/Selector.tsx","Utiles/Buscadores/Modal.tsx","App/Productos/BuscarProducto/index.tsx","App/Usuarios/Select.tsx","Utiles/Componentes/Avanzado.tsx","App/Cotizacion/index.tsx","Utiles/Componentes/Condiciones.tsx","App/Unidad/Selector.tsx","App/Tipos/Selector.tsx","App/Productos/FormProductos.tsx","Utiles/Prototipos/CalcularImpuesto.tsx","Utiles/Prototipos/AuxiliarNuevo.tsx","Utiles/Componentes/CreateOperacion.tsx","Utiles/Filtros.ts","App/Clientes/Selector.tsx","App/Cotizacion/Nuevo/FilaDolar.tsx","App/Cotizacion/Nuevo/FilaProducto.tsx","Utiles/Prototipos/FilaGeneraModal.tsx","Utiles/Componentes/Estados.tsx","App/Cotizacion/BuscarCotizacion.tsx","App/Cotizacion/BuscarGuardado.tsx","App/Cotizacion/Nuevo/AuxiliarCotizacion.tsx","App/Cotizacion/Nuevo/index.tsx","App/Facturas/FilaFactura.tsx","App/Facturas/index.tsx","App/Facturas/Nuevo/FilaProducto.tsx","App/Nota/BuscarNota.tsx","App/Facturas/Nuevo/AuxiliarFactura.tsx","App/Facturas/Nuevo/index.tsx","App/Nota/ModalPrint.tsx","App/Nota/FilaNota.tsx","App/Nota/index.tsx","App/Nota/Nuevo.tsx","Utiles/Componentes/UnAutorization.tsx","Masters/Ventas.tsx","Models/Compra.ts","Context/Compras.tsx","Utiles/Prototipos/FilaCompras.tsx","App/Compra/RegistrarFactura.tsx","App/Compra/FilaCompra.tsx","App/Compra/index.tsx","App/proveedores/Form.tsx","App/proveedores/Selector.tsx","App/Orden/BuscarOrden.tsx","App/Compra/Nuevo/FilaProducto.tsx","App/Compra/Nuevo/AuxiliarCompra.tsx","App/Compra/Nuevo/index.tsx","App/Orden/FilaOrden.tsx","App/Orden/index.tsx","App/Orden/Nuevo.tsx","App/proveedores/Fila.tsx","App/proveedores/index.tsx","Masters/Compras.tsx","App/Config/Ventas.tsx","App/Moneda/Selector.tsx","App/Config/Region.tsx","App/Config/Impreciones/Formulario.tsx","App/Config/Impreciones/Factura.tsx","App/Config/Empresa.tsx","App/Departamento/Fila.tsx","App/Departamento/Nuevo.tsx","App/Departamento/index.tsx","App/Tipos/Fila.tsx","App/Tipos/Nuevo.tsx","App/Tipos/index.tsx","App/Unidad/Fila.tsx","App/Unidad/Nuevo.tsx","App/Unidad/index.tsx","App/Moneda/Fila.tsx","App/Moneda/Nuevo.tsx","App/Moneda/index.tsx","App/Config/Impreciones/Orden.tsx","App/Config/Impreciones/Compra.tsx","App/Config/Impreciones/Cotizacion.tsx","App/Config/Impreciones/Nota.tsx","App/Config/Impreciones/Reporte.tsx","App/Config/Impreciones/Ajuste.tsx","App/Config/Costos.tsx","App/Config/Utilidades.tsx","App/Rol/NewRol.tsx","App/Rol/EditarRol.tsx","App/Rol/index.tsx","Utiles/Componentes/Menus.tsx","Masters/Config.tsx","App/Reportes/Fechas.tsx","App/Reportes/Ventas/reportes.tsx","App/Reportes/Compras/Reportes.tsx","App/Reportes/Ventas/Vendedores.tsx","App/Reportes/Inventario.tsx","App/Reportes/Historico.tsx","App/Reportes/Cotizacion/reporte.tsx","App/Reportes/Notas/reporte.tsx","App/Reportes/Orden/reporte.tsx","App/Reportes/Compras/Historico.tsx","App/Reportes/Ventas/Historico.tsx","App/Reportes/Cotizacion/Historico.tsx","App/Reportes/Notas/Historico.tsx","App/Reportes/Orden/Historico.tsx","App/Reportes/Compras/Itens.tsx","App/Reportes/Cotizacion/Itens.tsx","App/Reportes/Ventas/Itens.tsx","App/Reportes/Notas/Itens.tsx","App/Reportes/Orden/Itens.tsx","App/Reportes/Graficas/SetMes.tsx","App/Reportes/Graficas/tortas/Master.tsx","App/Reportes/Graficas/tortas/Compra.tsx","App/Reportes/Graficas/tortas/Cotizacion.tsx","App/Reportes/Graficas/tortas/Nota.tsx","App/Reportes/Graficas/tortas/Factura.tsx","App/Reportes/Graficas/ventasMes.tsx","App/Reportes/Graficas/ventasAno.tsx","App/Reportes/Graficas/index.tsx","Masters/Reporte.tsx","App/Ajustes/Avanzado.tsx","Models/Ajuste.ts","App/Ajustes/Detalles.tsx","App/Ajustes/FilaAjuste.tsx","App/Ajustes/index.tsx","App/Ajustes/Nuevo/FilaEntrada.tsx","App/Ajustes/Nuevo/FilaSalida.tsx","App/Ajustes/Nuevo/FilaPrecio.tsx","App/Ajustes/Nuevo/FilaUtilidad.tsx","App/Departamento/CategoriaBuscar/FilaPrecio.tsx","App/Departamento/CategoriaBuscar/FilaUtilidad.tsx","App/Departamento/CategoriaBuscar/index.tsx","App/Ajustes/Nuevo/AuxiliarAjuste.tsx","App/Ajustes/Nuevo/index.tsx","App/Productos/Avanzados.tsx","App/Productos/EditProducto.tsx","App/Productos/Fila.tsx","App/Productos/index.tsx","Masters/Productos.tsx","Utiles/Componentes/Cargando.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["zfill","number","width","numberOutput","Math","abs","length","toString","zero","repeat","numberFormat","toFixed","replace","formatoFecha","fecha","date","Date","a√±o","getFullYear","mes","getMonth","getDate","formatoHora","hora","getHours","minuto","getMinutes","segundo","getSeconds","turno","fechaToNumber","dia","str","parseInt","localData","url","data","persistencia","this","stringCache","localStorage","getItem","JSON","parse","setItem","stringify","tiempoNumber","undefined","text","Conexion","update","clase","setData","a","cargarListaCache","token","fetch","don","headers","Authorization","response","json","cargarListaWeb","codigo","ld","renovar","console","log","setError","post","Array","isArray","errorData","obj","success","d","error","xhr","XMLHttpRequest","responseType","open","setRequestHeader","onreadystatechange","e","readyState","status","send","FormDataFotmat","o","formData","FormData","Object","keys","forEach","key","append","userNull","id_usuario","usuario","nivel","rol","permisos","UsuarioConexion","forceGetWeb","cod","conUsuario","ConfigConeccion","config","toast","type","TYPE","SUCCESS","ConConfig","imprecionNull","margen_sup","margen_inf","margen_izq","margen_der","version","encabezado","piepagina","tipo_papel","generalNull","nota","subtotal","total","impuesto","detalles","condicionesNull","forma_pago","tiempo_entrega","validez","getSubtotal","precio","unidades","sentDetalles","map","comentario","MonedaConexion","conMoneda","EstadoNull","arrayToFilaGeneral","f","rif","nombre","monto","tasa","SeccionContext","React","createContext","SeccionProvider","props","interval","usuarios","state","cargando","User","Permisos","seccion","estUsuarios","estados","Cliente","Compra","Config","Cotizacion","Departamento","Dolares","Factura","Nota","Orden","Plantilla","Producto","Proveedor","Tipo","Unidad","Usuario","Moneda","Ajuste","atcUsuario","Provider","value","logout","bind","user","children","removeItem","setState","initUpdater","setInterval","pull","clearInterval","Component","Consumer","context","Dropdown","as","NavItem","className","Toggle","variant","src","alt","Menu","Button","onClick","cacheClear","clear","contextType","Header","body","document","getElementsByTagName","classList","add","remove","MenuIten","p","permiso","to","some","style","height","transitionDelay","data-widget","role","data-accordion","Footer","position","bottom","href","InputArea","useState","select","setSelect","FormControl","defaultValue","Props","onFocus","onBlur","onKeyUp","keyCode","next","onChange","currentTarget","upper","toUpperCase","lower","toLowerCase","ControlArea","InputGroup","hasValidation","before","Prepend","Text","isInvalid","after","Append","Feedback","InputDate","ControlDate","InputNumber","textAlign","r","parseFloat","min","max","ControlNumber","InputText","mask","val","nval","split","m","i","test","Mask","ControlText","RolSelector","roles","c","setRol","id","set","Rol","change","listaRoles","setUsers","FormUsuario","con","clave","correo","estado","close","title","Modal","animation","show","onHide","closeButton","Body","Col","FormGroup","xs","placeholder","maxLength","get","nuevo","actualizar","forceUpdate","err","errores","sql","er","ERROR","t","THFila","align","paddingTop","minWidth","maxWidth","THInput","FormClave","repetir_clave","ModalBody","FilaUsuario","edit","cambiar_clave","getStatus","ButtonGroup","data-tip","cancelar","Paginacion","setpage","mostrar","page","total_page","ceil","buttons","push","Pagination","Item","active","Ellipsis","float","setPage","random","Table","striped","hover","init","fin","itens","filter","iten","index","row","colSpan","col","Th","label","orden","by","setOrden","Flechas","minHeight","backgroundColor","Tabla","buscarEn","buscarLabel","mostar","buscar","modal","Buscador","busqueda","Row","paddingBottom","ordenar","getItens","en","pasa","considencias","indexOf","isNaN","datetonomber","sort","b","fa","fb","CotizacionNull","cod_cliente","plantilla","dolar","sentCotizacion","iva","sentNota","porc_impuesto","FacturaNull","condicion","CotizacionConexion","conCotizacion","NotaConexion","conNota","FacturaConexion","conFactura","updatePrecio","id_cotizacion","departamento","descripcion","estatus","enser","tipo","costo","precio1","precio2","precio3","cantidad","unidad","exento","fecha_creacion","medida","inventario","CardBuscador","Avansado","Actualizar","Title","Card","Accordion","Collapse","eventKey","md","getEstado","size","disabled","Spinner","fontSize","paddingLeft","Avanzados","ListUsuario","setAvansados","validar","Area","values","hAxisTitle","minValue","v","chartType","loader","options","hAxis","titleTextStyle","color","vAxis","chartArea","legend","rootProps","Dolar","dolares","valor","display","Gauge","red","yellow","green","redFrom","redTo","yellowFrom","yellowTo","greenFrom","greenTo","minorTicks","NuevoEquilibrio","centered","pto","Equilibrio","equilibrio","ventas","datos","floor","Utilidad","utilidad","Contadores","clientes","proveedores","compras","ordenes","notas","cotizaciones","facturas","Count","ico","cont","every","Pie","slices","TortasMaster","api","s","lugar","isData","gridAutoRows","find","CotizacionPie","CompraPie","NotaPie","FacturaPie","Ventas","dias","Barras","seriesType","Mejor","mejor","ano","actual","Panel","useContext","Login","logo","backgroundImage","border","Img","login","block","rest","Logo","ProductoNull","ProductoConexion","conProducto","DepartamentoConexion","conDepartamento","UnidadConexion","conUnidad","TipoConexion","conTipo","ProductosContext","ProductosProvider","Departamentos","Tipos","Productos","Unidades","estProducto","estDepartamentos","estTipos","estUnidades","seccionContext","actDepartamento","actUnidad","actTipo","actProducto","actConfig","configuraciones","findProducto","arrayToProducto","setTimeout","pro","costo2","dolarValido","ProveedorNull","telefono","contacto","direccion","ProveedorConexion","conProveedor","ClienteNull","tipo_contribuyente","retencion","CienteConexion","conCliente","VentasContext","VentasProvider","Facturas","Cotizaciones","Notas","Clientes","estCliente","estCotizacion","estNota","estFactura","actCliente","actCotizacion","actNota","actFactura","findCliente","arrayToClientes","cli","FormCliente","cliente","activeError","setContribuyente","step","FormLabel","procesar","action","FilaCliente","whiteSpace","textOverflow","overflow","data-class","data-html","tooltipCliente","cot","ListaClientes","setStatus","ModalPrint","scrolling","frameBorder","FilaSeguimiento","seguimiento","Seguimientos","ref","createRef","msn","mensajes","overflowY","maxHeight","setMsn","enviar","sent","toDateString","ModalAlert","accion","borderRadius","padding","ModalDetalle","suma","titulo","Dialog","then","FilaProto","Label","print","aux","eliminar","window","innerWidth","getModal","getButtons","cancelado","FilaVentas","dialogClassName","marginRight","detalle","setDolar","FilaCotizacio","FilaCompra","producto","FilaSeleccion","FilaFactura","list","FilaEntrada","FilaPrecio","FilaSalida","FilaUtilidad","FilaCotizacion","FilaDolar","costoDolar","precioDolar","precio1Dolar","precio2Dolar","precio3Dolar","setPrecio","DepartamentoSelector","ModalBusqueda","overflowX","BuscarProducto","marginBottom","setDepartamento","head","UsuarioSelector","Avanzado","fecha_init","fecha_fin","productos","setOpen","fecha_ini","u","ListCotizaciones","setAvanzados","creacion","Condiciones","name","autoComplete","rows","UnidadSelector","TipoSelector","FormProductos","utils","monto_1","monto_2","monto_3","setUtilidad","setContextUtilidades","setUnidad","setTipo","getPrecio","create","price","getUtilidad","CalcularImpuesto","imponible","cols","rowSpan","AuxiliarNuevo","THead","Calcular","BotonesLeft","BotonesRight","nuevoProducto","buscarProducto","aux2","aux3","aux4","aux5","pr","addProductos","createProductoValidation","imp","ext","createProducto","CreateOperacion","PDF","Top","Procesar","cod_proveedor","id_nota","encontar","bucarLabel","ClienteSelector","buscarCodigo","buscarNumbre","seleccion","marginLeft","limpiarCodigo","setBuscarCodigo","getList","limpiarNombre","setBuscarNombre","current","target","limpiar","lista","tasaDolar","FilaGeneraModal","getStatus1","getStatus2","Estados","BuscarCotizacion","BuscarGuardado","AuxiliarCotizacion","removeProductos","guardar","cargar","copiar","NuevaCotizacion","getData","setCliente","validacionGenerica","ListFactura","FilaProducto","BuscarNota","AuxiliarFactura","setNota","setCotizacion","NuevaFactura","setCondicion","cargarNota","cargarCotizacion","validacionExixtencia","valdacionPrecio","getCosto","sentFactura","FilaNota","ListNotas","NuevaNota","generico","UnAutorization","transform","MasterVentas","path","component","contex","ListaCotizaciones","ListaFactura","ListaNotas","dataNull","ordenNull","compraNull","id_orden","cod_documento","cod_nota","nun_control","fecha_documento","OrdenConexion","conOrden","CompraConexion","conCompra","ComprasContext","ComprasProvider","Ordenes","Compras","Proveedores","estOrdenes","estCompras","estProveedores","actCompra","actOrden","actProveedor","findProveedor","arrayToProveedor","Pro","FilaCompras","RegistrarFactura","cod_doc","num_con","fecha_doc","bsSize","facturar","ListaCompra","FormProveedor","ProveedorSelector","proveedor","Form","BuscarOrden","AuxiliarCompra","NuevaCompra","setProveedor","sentCompra","FilaOrden","ListOrdenes","NuevaOrden","sentOrden","FilaProveedor","ListaProveedores","MasterCompras","ListaOrden","observacion","garantia","MonedaSelector","Monedas","Region","cod_fiscal","moneda","setMoneda","Formulario","verciones","setTipoPapel","setVersion","num_factura","Empresa","numero_fiscal","web","pago","eslogan","img","setImage","files","reader","FileReader","onloadend","result","readAsDataURL","FilaDepartamento","NuevoDepartamento","ListDepartamento","FilaTipo","inv","NuevoTipo","TipoInventario","borderTopLeftRadius","borderBottomLeftRadius","ListTipo","FilaUnidad","NuevoUnidad","ListUnidad","FilaMoneda","NuevoMoneda","ListMoneda","Reporte","Costos","vertical","Utilidades","NewRol","listaPermisos","click","selected","save","nuevoRol","EditarRol","PermisosRol","actualizarRol","ListaRoles","FilaRol","Titulo","Menus","MasterConfig","Ruta","Fechas","date2","date1","setDate","setChangeMont","setChangeYear","getYear","yearActual","years","Vendedores","Inventario","uso","Historico","modalProductos","addProducto","HistoricoCompra","HistoricoFactura","HistoricoCotizacion","HistoricoNota","HistoricoOrden","ItensCompra","ItensCotizacion","ItensFactura","ItensNota","ItensOrden","SetMes","year","mont","moment","format","no","rango","VentasMes","VentasAno","Graficas","MasterReportes","exact","AjusteNull","AjusteConexion","conAjuste","th","RowES","RowCosto","RowUtilidad","previo","FilaAjuste","ListAjustes","arrayToAjuste","operacion","CategoriaBuscar","addPrecio","addUtilidad","k","AuxiliarAjuste","addGrup","NuevaAjuste","detallesSend","ajusteSend","EditProductos","ListaProductos","MasterProductos","Cargando","App","styles","transition","ListaUsuarios","Boolean","location","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c8756aef.chunk.js","sourcesContent":["export function zfill(number: number, width = 6) {\r\n    let numberOutput = Math.abs(number) /* Valor absoluto del n√∫mero */\r\n    let length = number.toString().length /* Largo del n√∫mero */\r\n    let zero = \"0\" /* String de cero */\r\n\r\n    if (width <= length) {\r\n        if (number < 0) {\r\n            return (\"-\" + numberOutput.toString())\r\n        } else {\r\n            return numberOutput.toString()\r\n        }\r\n    } else {\r\n        if (number < 0) {\r\n            return (\"-\" + (zero.repeat(width - length)) + numberOutput.toString())\r\n        } else {\r\n            return ((zero.repeat(width - length)) + numberOutput.toString())\r\n        }\r\n    }\r\n}\r\nexport function numberFormat(number: number) {\r\n    return (number\r\n        .toFixed(2) // always two decimal digits\r\n        .replace('.', ',') // replace decimal point character with ,\r\n        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.')) // use . as a separator\r\n}\r\nexport function formatoFecha(fecha: string) {\r\n    let date = new Date(fecha);\r\n    let a√±o = date.getFullYear();\r\n    let mes = date.getMonth() + 1;\r\n    let dia = date.getDate();\r\n    return zfill(dia, 2) + '/' + zfill(mes, 2) + '/' + a√±o;\r\n};\r\nexport function formatoHora(fecha: string | undefined) {\r\n    let date = fecha ? new Date(fecha) : new Date();\r\n    let hora = date.getHours(),\r\n        minuto = date.getMinutes(),\r\n        segundo = date.getSeconds(),\r\n        turno = ' AM';\r\n    if (hora >= 12)\r\n        turno = ' PM'\r\n    if (hora > 12)\r\n        hora = hora - 12;\r\n    if (hora === 0)\r\n        hora = hora + 12;\r\n    return zfill(hora, 2) + \":\" + zfill(minuto, 2) + \":\" + zfill(segundo, 2) + turno;\r\n};\r\n\r\nexport function fechaToNumber(fecha: string) {\r\n    let date = new Date(fecha);\r\n    let a√±o = date.getFullYear(),\r\n        mes = date.getMonth() + 1,\r\n        dia = date.getDate(),\r\n        hora = date.getHours(),\r\n        minuto = date.getMinutes(),\r\n        segundo = date.getSeconds();\r\n    let str = a√±o + zfill(mes, 2) + zfill(dia, 2) + zfill(hora, 2) + zfill(minuto, 2) + zfill(segundo, 2)\r\n    return parseInt(str);\r\n};\r\n\r\n","import { zfill } from \"../Utiles/Formatos\";\r\n\r\n\r\nexport class localData { \r\n    url: string;\r\n    data: any;\r\n    persistencia: number = 0;\r\n    constructor(url: string) {\r\n        this.url = url;\r\n\r\n        let stringCache = localStorage.getItem(url);\r\n        if (stringCache !== null) {\r\n            let data = JSON.parse(stringCache);\r\n            this.data = data.data;\r\n            this.persistencia = data.persistencia;\r\n        }\r\n    }\r\n    setData(data: any) {\r\n        localStorage.setItem(this.url, JSON.stringify({ \r\n            data, persistencia: this.tiempoNumber() \r\n        }))\r\n    }\r\n    renovar(persistencia?: number) {\r\n        if (persistencia !== undefined && (this.persistencia + persistencia) > this.tiempoNumber()) return false;\r\n        return true;\r\n    }\r\n    tiempoNumber() {\r\n        let date = new Date();\r\n        let a√±o = date.getFullYear(),\r\n            mes = date.getMonth() + 1,\r\n            dia = date.getDate() + 1,\r\n            hora = date.getHours(),\r\n            minuto = date.getMinutes(),\r\n            segundo = date.getSeconds(),\r\n            text = a√±o + zfill(mes, 2) + zfill(dia, 2) + zfill(hora, 2) + zfill(minuto, 2) + zfill(segundo, 2);\r\n        return parseInt(text);\r\n    }\r\n}","import { localData } from \"./localData\";\r\ntype setData = (d: any) => void;\r\n// export var don = 'http://sisapi-v2.test'\r\nexport var don = ''\r\n\r\nexport class Conexion {\r\n    persistencia = 0;\r\n    update = -100;\r\n    clase = '';\r\n    //get pre cache\r\n    async lista(setData: setData) {\r\n        this.cargarListaCache(setData);\r\n        //Solicitando condicion de los estados\r\n        let token = localStorage.getItem('Authorization');\r\n        let response = await fetch(don + '/api/Auth/estado', { headers: { Authorization: 'Bearer ' + token } });\r\n        let data = await response.json();\r\n        //Comprobando el estados en la web\r\n        if (this.update < await data[this.clase]) {\r\n            this.update = await data[this.clase];\r\n            this.cargarListaWeb(setData);\r\n        }\r\n    }\r\n    async detalle(codigo: string | number, setData: setData) {\r\n        let url = don + '/api/' + this.clase + '/detalles/' + codigo;\r\n        let ld = new localData(url);\r\n        if (ld.data !== undefined) { setData(ld.data); }\r\n        //Solicitando condicion de los estados\r\n        if (ld.renovar(this.persistencia)) {\r\n            try {\r\n                //solicitar nuevos datos\r\n                let token = localStorage.getItem('Authorization');\r\n                let response = await fetch(url, { headers: { 'Authorization': 'Bearer ' + token } });\r\n                let data = await response.json();\r\n                //cargar nuevos datos\r\n                setData(await data);\r\n                //Actualizadar nuevos datos en cache\r\n                ld.setData(await data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    }\r\n    //get no cache\r\n    async cancelar(codigo: string | number, setData?: setData) {\r\n        let token = localStorage.getItem('Authorization');\r\n        try {\r\n            //solicitar nuevos datos\r\n            let response = await fetch(don + '/api/' + this.clase + '/cancelar/' + codigo, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let data = await response.json();\r\n            //cargar nuevos datos\r\n            if (setData) setData(data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    //post no cache\r\n    nuevo(data: any, setData?: setData, setError?: setData) {\r\n        this.post(don + '/api/' + this.clase + '/nuevo', data, setData, setError)\r\n    }\r\n    actualizar(codigo: string | number, data: any, setData?: setData, setError?: setData) {\r\n        this.post(don + '/api/' + this.clase + '/actualizar/' + codigo, data, setData, setError);\r\n    }\r\n    //Manejo de listas\r\n    cargarListaCache(setData: setData) {\r\n        let url = don + '/api/' + this.clase + '/lista';\r\n        let ld = new localData(url);\r\n        if (ld.data !== undefined) { setData(ld.data); }\r\n    }\r\n    async cargarListaWeb(setData: setData) {\r\n        //Solicitando condicion de los estados\r\n        let token = localStorage.getItem('Authorization');\r\n        let url = don + '/api/' + this.clase + '/lista';\r\n        try {\r\n            //solicitar nuevos datos\r\n            let response = await fetch(url, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let data = await response.json();\r\n            //cargar nuevos datos\r\n            if (Array.isArray(await data)) {\r\n                setData(await data);\r\n                //Actualizadar nuevos datos en cache\r\n                let ld = new localData(url);\r\n                ld.setData(await data);\r\n                localStorage.setItem(this.clase + 'Update', this.update + '')\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    //Solicitud de datos\r\n    async get(url: string, setData: setData) {\r\n        let ld = new localData(url);\r\n        if (ld.data !== undefined) { setData(ld.data); }\r\n        //Solicitando condicion de los estados\r\n        if (ld.renovar(this.persistencia)) {\r\n            try {\r\n                //solicitar nuevos datos\r\n                let token = localStorage.getItem('Authorization');\r\n                let response = await fetch(url, { headers: { 'Authorization': 'Bearer ' + token } });\r\n                let data = await response.json();\r\n                //cargar nuevos datos\r\n                setData(await data);\r\n                //Actualizadar nuevos datos en cache\r\n                ld.setData(await data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    }\r\n    //Forsar actualizacion de datos\r\n    async forceGetWeb(url: string, setData: setData, errorData?: setData) {\r\n        try {\r\n            //solicitar nuevos datos\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch(url, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let data = await response.json();\r\n            //cargar nuevos datos\r\n            setData(await data);\r\n            //Actualizadar nuevos datos en cache\r\n            let ld = new localData(url);\r\n            ld.setData(await data);\r\n        } catch (err) {\r\n            console.log(err);\r\n            if (errorData) errorData(err)\r\n        }\r\n    }\r\n    //Cargar solo datos en cache\r\n    getCacheOnly(url: string, setData: setData) {\r\n        let ld = new localData(url);\r\n        if (ld.data !== undefined) { setData(ld.data); }\r\n    }\r\n    //Envio de datos para crud\r\n    post(url = '', obj = {}, success = (d: any) => { }, error = (d: any) => { }) {\r\n        let token = localStorage.getItem('Authorization');\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.responseType = 'json';\r\n        xhr.open(\"POST\", url);\r\n        if (token !== null)\r\n            xhr.setRequestHeader('Authorization', 'Bearer ' + token)\r\n        xhr.onreadystatechange = (e) => {\r\n            if (xhr.readyState !== 4) {\r\n                console.log(xhr.readyState);\r\n                return;\r\n            }\r\n            if (xhr.status === 200) {\r\n                success(xhr.response);\r\n            } else {\r\n                error(xhr);\r\n            }\r\n        };\r\n        xhr.send(this.FormDataFotmat(obj));\r\n    }\r\n    //formateador de datos\r\n    FormDataFotmat(o: any) {\r\n        const formData = new FormData();\r\n        Object.keys(o).forEach(key => {\r\n            switch (typeof o[key]) {\r\n                case 'object':\r\n                    formData.append(key, JSON.stringify(o[key]));\r\n                    break;\r\n                default:\r\n                    formData.append(key, o[key]);\r\n            }\r\n        });\r\n        return formData;\r\n    };\r\n}","import { Conexion, don } from \"../Config/Coneccion\";\r\nexport default interface Usuario {\r\n    id_usuario: number,\r\n    usuario: string,\r\n    nivel: number,\r\n    fecha: string,\r\n    rol: string,\r\n    permisos: string[]\r\n}\r\nexport const userNull: Usuario = {\r\n    id_usuario: -1,\r\n    usuario: '',\r\n    nivel: 0,\r\n    fecha: '',\r\n    rol: '',\r\n    permisos: []\r\n}\r\nexport interface UsuarioFila {\r\n    codigo: number,\r\n    nombre: string,\r\n    correo: string,\r\n    clave?: string\r\n    rol: string\r\n    nivel: number\r\n    estado: number\r\n}\r\n\r\nexport interface Rol {\r\n    id: number,\r\n    nombre: string\r\n    permisos: Permisos[]\r\n}\r\nexport interface Permisos {\r\n    id: number,\r\n    nombre: string\r\n}\r\nclass UsuarioConexion extends Conexion {\r\n    clase = 'Usuario';\r\n    persistencia = 1000000;\r\n    listaRoles(setData: (d: any) => void) {\r\n        this.forceGetWeb('/api/Usuario/listar_roles', setData)\r\n    }\r\n    listaPermisos(setData: (d: any) => void) {\r\n        this.forceGetWeb('/api/Usuario/listar_permisos', setData)\r\n    }\r\n    PermisosRol(cod: number, setData: (d: any) => void) {\r\n        this.forceGetWeb('/api/Usuario/detalles_rol/' + cod, setData)\r\n    }\r\n    nuevoRol(data: any, setData?: (d: any) => void) {\r\n        this.post(don + '/api/' + this.clase + '/nuevo_rol', data, setData)\r\n    }\r\n    actualizarRol(codigo: string | number, data: any, setData?: (d: any) => void) {\r\n        this.post(don + '/api/' + this.clase + '/actualizar_rol/' + codigo, data, setData);\r\n    }\r\n    clave(codigo: string | number, data: any, setData?: (d: any) => void, setError?: (d: any) => void) {\r\n        this.post(don + '/api/' + this.clase + '/clave/' + codigo, data, setData, setError);\r\n    }\r\n\r\n}\r\nexport function conUsuario() {\r\n    return new UsuarioConexion();\r\n}","import { toast } from \"react-toastify\";\r\nimport { Conexion } from \"../Config/Coneccion\";\r\n\r\nclass ConfigConeccion extends Conexion {\r\n    config: string;\r\n    constructor(config: string) {\r\n        super();\r\n        this.config = config;\r\n    }\r\n    pull(setData: (d: any) => void) {\r\n        this.forceGetWeb('/api/Config/get/' + this.config, setData);\r\n    }\r\n    push(data: any, setData: (d: any) => void) {\r\n        this.post('/api/Config/set/' + this.config, data, setData)\r\n        toast('CONFIGURACION GUARDADA EXITOSAMENTE',{type:toast.TYPE.SUCCESS})\r\n    }\r\n}\r\nexport function ConConfig(config: string) {\r\n    return new ConfigConeccion(config);\r\n}","import { Conexion } from \"../Config/Coneccion\";\r\nimport { Producto } from \"./Productos\";\r\nexport interface Detalles extends Producto {\r\n    unidades: number,\r\n    comentario: string,\r\n    precio: number,\r\n}\r\nexport interface GeneralFila {\r\n    codigo: number\r\n    rif: string\r\n    fecha: string\r\n    nombre: string\r\n    tasa: number\r\n    monto: number\r\n    usuario: number\r\n    status: 0 | 1 | 2\r\n    detalles: string[]\r\n}\r\nexport interface GeneralData {\r\n    id_nota?: number\r\n    codigo: number,\r\n    nota: string,\r\n    fecha: string,\r\n    subtotal: number,\r\n    total: number,\r\n    impuesto: number,\r\n    dolar?: boolean,\r\n    detalles: Detalles[]\r\n}\r\nexport interface CondicionesData extends GeneralData {\r\n    forma_pago: string\r\n    tiempo_entrega: string\r\n    validez: string\r\n}\r\nexport interface Impreciones {\r\n    margen_sup: number,\r\n    margen_inf: number,\r\n    margen_izq: number,\r\n    margen_der: number,\r\n    version: string,\r\n    tipo_papel: string,\r\n    encabezado: boolean,\r\n    piepagina: boolean\r\n}\r\nexport var imprecionNull: Impreciones = {\r\n    margen_sup: 15,\r\n    margen_inf: 15,\r\n    margen_izq: 15,\r\n    margen_der: 15,\r\n    version: 'nuevo',\r\n    encabezado: true,\r\n    piepagina: true,\r\n    tipo_papel: 'LETTER'\r\n}\r\nexport var generalNull: GeneralData = {\r\n    codigo: 0,\r\n    nota: '',\r\n    fecha: '',\r\n    subtotal: 0,\r\n    total: 0,\r\n    impuesto: 0,\r\n    detalles: []\r\n}\r\nexport var condicionesNull: CondicionesData = {\r\n    ...generalNull,\r\n    forma_pago: '',\r\n    tiempo_entrega: '',\r\n    validez: '',\r\n}\r\n\r\nexport function getSubtotal(d: Detalles[]) {\r\n    let subtotal = 0;\r\n    d.forEach(e => {\r\n        let { precio, unidades } = e;\r\n        subtotal += precio * unidades;\r\n    })\r\n    return subtotal;\r\n}\r\nexport function getCosto(d: Detalles[]) {\r\n    let subtotal = 0;\r\n    d.forEach(e => {\r\n        let { costo, unidades } = e;\r\n        subtotal += costo * unidades;\r\n    })\r\n    return subtotal;\r\n}\r\nexport function sentDetalles(d: Detalles[]) {\r\n    return d.map(e => {\r\n        let { codigo, precio, unidades, comentario } = e;\r\n        return { codigo, precio, unidades, comentario };\r\n    })\r\n}\r\n\r\nexport type tipoData = 'Cotizacion' | 'Orden' | 'Nota' | 'Factura' | 'Compra';\r\n\r\nexport interface Moneda {\r\n    codigo: number\r\n    descripcion: string\r\n    estatus: number\r\n}\r\n\r\nclass MonedaConexion extends Conexion {\r\n    clase = 'Moneda';\r\n    persistencia = 1000;\r\n}\r\nexport function conMoneda() {\r\n    return new MonedaConexion();\r\n}\r\nexport interface Estado {\r\n    status: 1 | 2 | 3\r\n    hora: string\r\n}\r\nexport const EstadoNull: Estado = { status: 1, hora: 'CARGADO DESDE CACHE' }\r\n\r\nexport function arrayToFilaGeneral(f: any[]): GeneralFila[] {\r\n    return f.map(a => {\r\n        return {\r\n            codigo: a[0],\r\n            rif: a[1],\r\n            nombre: a[2],\r\n            fecha: a[3],\r\n            monto: a[4],\r\n            usuario: a[5],\r\n            status: a[6],\r\n            detalles: a[7],\r\n            tasa: a[8] ? a[8] : 0\r\n        }\r\n    })\r\n}","import React from 'react'\r\nimport { ConConfig } from '../Models/Config'\r\nimport { Estado, EstadoNull } from '../Models/General'\r\nimport Usuario, { conUsuario, userNull, UsuarioFila } from '../Models/Usuario'\r\nimport { formatoHora } from '../Utiles/Formatos'\r\n\r\ninterface State {\r\n    cargando: boolean,\r\n    fecha: string\r\n    User: Usuario\r\n    Permisos: Array<any>\r\n    seccion: boolean\r\n    usuarios: UsuarioFila[]\r\n    estUsuarios: Estado\r\n    estados: {\r\n        Cliente: number,\r\n        Compra: number,\r\n        Config: number,\r\n        Cotizacion: number,\r\n        Departamento: number,\r\n        Dolares: number,\r\n        Factura: number,\r\n        Nota: number,\r\n        Orden: number,\r\n        Plantilla: number,\r\n        Producto: number,\r\n        Proveedor: number,\r\n        Tipo: number,\r\n        Unidad: number,\r\n        Usuario: number,\r\n        Moneda: number,\r\n        Ajuste: number,\r\n    }\r\n}\r\nexport interface SeccionType {\r\n    data: State,\r\n    logout: () => void,\r\n    usuarios: UsuarioFila[]\r\n    user: () => void,\r\n    atcUsuario: () => void\r\n}\r\nexport const SeccionContext = React.createContext<SeccionType | null>(null)\r\n\r\nexport class SeccionProvider extends React.Component<any, State> {\r\n    interval: any;\r\n    usuarios = 0;\r\n    constructor(props: any) {\r\n        super(props)\r\n        this.state = {\r\n            cargando: true,\r\n            User: userNull,\r\n            fecha: '',\r\n            Permisos: [],\r\n            seccion: true,\r\n            usuarios: [],\r\n            estUsuarios: EstadoNull,\r\n            estados: {\r\n                Cliente: 0,\r\n                Compra: 0,\r\n                Config: 0,\r\n                Cotizacion: 0,\r\n                Departamento: 0,\r\n                Dolares: 0,\r\n                Factura: 0,\r\n                Nota: 0,\r\n                Orden: 0,\r\n                Plantilla: 0,\r\n                Producto: 0,\r\n                Proveedor: 0,\r\n                Tipo: 0,\r\n                Unidad: 0,\r\n                Usuario: 0,\r\n                Moneda: 0,\r\n                Ajuste: 0,\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        this.atcUsuario();\r\n        return <SeccionContext.Provider value={{\r\n            data: this.state,\r\n            logout: this.logout.bind(this),\r\n            usuarios: this.state.usuarios,\r\n            user: this.user.bind(this),\r\n            atcUsuario: this.atcUsuario.bind(this),\r\n        }}>\r\n            {this.props.children}\r\n        </SeccionContext.Provider>\r\n    }\r\n    async logout() {\r\n        try {\r\n            //solicitar nuevos datos\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Auth/close', { headers: { 'Authorization': 'Bearer ' + token } });\r\n            localStorage.removeItem('Authorization');\r\n            await response.json();\r\n            //cargar nuevos datos\r\n            this.user();\r\n            //Actualizadar nuevos datos en cache\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    async user() {\r\n        try {\r\n            //solicitar nuevos datos\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Auth/me', { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let data: Usuario = await response.json();\r\n            //cargar nuevos datos\r\n            this.setState({ User: data, Permisos: data.permisos, seccion: data.id_usuario !== 0, cargando: false })\r\n            //Actualizadar nuevos datos en cache\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    atcUsuario() {\r\n        if (this.usuarios !== this.state.estados.Usuario) {\r\n            this.usuarios = this.state.estados.Usuario;\r\n            if (this.state.estUsuarios.status !== 2) {\r\n                this.setState({ estUsuarios: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                conUsuario().cargarListaWeb(usuarios => this.setState({\r\n                    usuarios,\r\n                    estUsuarios: { status: 3, hora: formatoHora(undefined) }\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n        const { state: { seccion, cargando }, interval } = this;\r\n        if ((interval === undefined) && seccion && !cargando)\r\n            this.initUpdater();\r\n    }\r\n    componentDidMount() {\r\n        this.user();\r\n    }\r\n    initUpdater() {\r\n        this.atcUsuario();\r\n        conUsuario().cargarListaCache(usuarios => this.setState({ usuarios }));\r\n        this.interval = setInterval(() => ConConfig('estado').pull(data => {\r\n            if (JSON.stringify(this.state.estados) !== JSON.stringify(data))\r\n                this.setState({ estados: data })\r\n        }), 5 * 1000)\r\n    }\r\n    componentWillUnmount() { clearInterval(this.interval); }\r\n\r\n}\r\nexport const SeccionConsumer = SeccionContext.Consumer;\r\n","import React from \"react\";\r\nimport { Dropdown, NavItem, Button } from \"react-bootstrap\";\r\nimport { conUsuario } from \"../Models/Usuario\";\r\nimport { formatoFecha } from \"../Utiles/Formatos\";\r\nimport { SeccionContext } from '../Context/Seccion'\r\n\r\nclass User extends React.Component {\r\n    render() {\r\n        const { User } = this.context.data\r\n        return <Dropdown as={NavItem} className='user-menu'>\r\n            <Dropdown.Toggle variant=\"success\" >\r\n                <img src=\"/logos/user.jpg\" className=\"user-image img-circle elevation-2\" alt=\"Logo2\" />\r\n                <span className=\"d-none d-md-inline\">{User.usuario}</span>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu >\r\n                <li className=\"user-header bg-info\">\r\n                    <img src=\"/logos/user.jpg\" className=\"img-circle elevation-2\" alt=\"Logo\" />\r\n                    <p>\r\n                        {User.usuario}\r\n                        <small>{formatoFecha(User.fecha)}</small>\r\n                    </p>\r\n                </li>\r\n                <li className=\"user-footer\">\r\n                    <Button onClick={this.cacheClear.bind(this)} className=\"btn btn-warning btn-flat\">LIMPIAR</Button>\r\n                    <Button onClick={this.context.logout} className=\"btn btn-danger btn-flat float-right\">SALIR</Button>\r\n                </li>\r\n            </Dropdown.Menu>\r\n        </Dropdown >;\r\n    }\r\n    cacheClear() {\r\n        conUsuario().forceGetWeb('/api/Auth/token', (data) => {\r\n            localStorage.clear()\r\n            localStorage.setItem('Authorization', data.token);\r\n        });\r\n    }\r\n}\r\nUser.contextType = SeccionContext;\r\nexport default User;","import React from 'react';\r\nimport User from './User';\r\ninterface Props {\r\n    update: () => void\r\n}\r\nexport default class Header extends React.Component<Props> {\r\n    render() {\r\n        return (<nav className=\"main-header navbar navbar-expand navbar-success navbar-light\">\r\n            <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                    <div className=\"nav-link\" onClick={this.open.bind(this)}><i className=\"fa fa-bars\"></i></div>\r\n                </li>\r\n            </ul>\r\n            <ul className=\"navbar-nav ml-auto\">\r\n                <User/>\r\n            </ul>\r\n        </nav >)\r\n    }\r\n\r\n    open() {\r\n        let body = document.getElementsByTagName('body')[0];\r\n        let data = localStorage.getItem('menu');\r\n        if (data === 'open') {\r\n            localStorage.setItem('menu', 'cerrado')\r\n            data = 'cerrado'\r\n        } else {\r\n            localStorage.setItem('menu', 'open')\r\n            data = 'open'\r\n        }\r\n        if (body) {\r\n            if (data === 'cerrado')\r\n                body.classList.add('sidebar-collapse')\r\n            else\r\n                body.classList.remove('sidebar-collapse')\r\n        }\r\n        this.props.update();\r\n    }\r\n\r\n    componentDidMount() {\r\n        let body = document.getElementsByTagName('body')[0];\r\n        let data = localStorage.getItem('menu');\r\n        if (!data) {\r\n            data = \"open\";\r\n            localStorage.setItem('menu', 'open')\r\n        }\r\n        if (body) {\r\n            if (data === 'cerrado')\r\n                body.classList.add('sidebar-collapse')\r\n            else\r\n                body.classList.remove('sidebar-collapse')\r\n        }\r\n    }\r\n}","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\ninterface Props {\r\n    p: string[]\r\n    permiso: string\r\n    to: string\r\n    children: any\r\n}\r\n\r\nexport default function MenuIten({ p, permiso, to, children }: Props) {\r\n    if (p.some(p => p === permiso))\r\n        return <li className=\"nav-item\">\r\n            <Link className=\"nav-link\" to={to}>{children}</Link>\r\n        </li>\r\n    return <></>;\r\n}","import React from 'react';\r\nimport MenuIten from './MenuIten'\r\nimport { Link } from \"react-router-dom\"\r\nimport { SeccionContext } from '../Context/Seccion'\r\n\r\nclass Menu extends React.Component {\r\n    render() {\r\n        const p = this.context.data.Permisos;\r\n        return <aside className=\"main-sidebar sidebar-dark-primary\">\r\n            <Link to=\"/\" className=\"brand-link bg-success\" style={{ width: '100%', height: '57px' }}>\r\n                <img width={33} height={33} src=\"/logos/logo.svg\" alt=\"logo\" className=\"brand-image img-circle\" />\r\n                <img src=\"/logos/texto.svg\" alt=\"letras\" className=\"brand-image brand-text\" style={{ transitionDelay: '.2s' }} />\r\n            </Link>\r\n            <div className=\"sidebar\">\r\n                <nav className=\"mt-2\">\r\n                    <ul className=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/\" className=\"nav-link\">\r\n                                <i className=\"nav-icon fa fa-tachometer\"></i> <p>INICIO</p>\r\n                            </Link>\r\n                        </li>\r\n                        <MenuIten p={p} to=\"/orden/lista\" permiso=\"ORDEN\">\r\n                            <i className=\"nav-icon fa fa-paperclip\"></i> <p style={{ width: \"200px\" }}> ORDENES DE COMPRA </p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/compra/lista\" permiso=\"COMPRA\">\r\n                            <i className=\"nav-icon fa fa-shopping-cart\"></i> <p> COMPRAS </p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/cotizacion/lista\" permiso=\"COTIZACION\">\r\n                            <i className=\"nav-icon fa fa-calculator\"></i> <p> COTIZACIONES </p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/nota/lista\" permiso=\"NOTA\">\r\n                            <i className=\"nav-icon fa fa-paper-plane\"></i> <p> NOTAS DE ENTREGA </p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/factura/lista\" permiso=\"FACTURA\">\r\n                            <i className=\"nav-icon fa fa-usd\"></i> <p> FACTURAS </p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/proveedores\" permiso=\"PROVEEDOR\">\r\n                            <i className=\"nav-icon fa fa-truck\"></i> <p> PROVEEDORES</p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/clientes\" permiso=\"CLIENTE\">\r\n                            <i className=\"nav-icon fa fa-user\"></i><p> CLIENTES</p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/producto\" permiso=\"PRODUCTO\">\r\n                            <i className=\"nav-icon fa fa-laptop\"></i> <p> INVENTARIO</p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/producto/ajuste/lista\" permiso=\"AJUSTE\">\r\n                            <i className=\"nav-icon fa fa-th-large\"></i> <p>AJUSTES</p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/usuarios\" permiso=\"USUARIO\">\r\n                            <i className=\"nav-icon fa fa-users\"></i><p> USUARIOS</p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/reporte\" permiso=\"REPORTE\">\r\n                            <i className=\"nav-icon fa fa-bar-chart\"></i><p> REPORTES</p>\r\n                        </MenuIten>\r\n                        <MenuIten p={p} to=\"/config\" permiso=\"CONFIG\">\r\n                            <i className=\"nav-icon fa fa-wrench\"></i><p> CONFIGURACION</p>\r\n                        </MenuIten>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </aside>\r\n    }\r\n}\r\nMenu.contextType = SeccionContext;\r\nexport default Menu;","import React from 'react';\r\n\r\nexport default class Footer extends React.Component {\r\n    render() {\r\n        return <footer className=\"main-footer\" style={{ position: 'relative', bottom: 0 }}>\r\n            <div className=\"float-right hidden-xs\"><b>Version</b> 2.1.3</div>\r\n            <strong> <a href=\"http://ailanthus-sistems.com/\"><img src=\"/logos/logo-text.svg\" width=\"150px\" alt='logo' /></a> Copyright ¬© 2021-2025.</strong>\r\n        </footer>\r\n    }\r\n}","import React, {  useState } from \"react\"\r\nimport { FormControl, FormControlProps } from \"react-bootstrap\";\r\ntype padre = FormControlProps & React.HTMLProps<HTMLTextAreaElement>;\r\nexport interface Props extends padre {\r\n    setData: (data: any) => void,\r\n    value: string\r\n    update?: string\r\n    upper?: boolean\r\n    lower?: boolean\r\n    next?: () => void\r\n}\r\n\r\nexport default function InputArea(p: Props) {\r\n    const [select, setSelect] = useState(false);\r\n    const value = () => {\r\n        if (select) return { defaultValue: p.value };\r\n        else return { value: p.value }\r\n    }, Props = () => {\r\n        let props: any = { ...p };\r\n        props.value = undefined;\r\n        return { ...props, ...value() };\r\n    }\r\n    return <FormControl {...Props()} as='textarea'\r\n        onFocus={() => { setSelect(true) }}\r\n        onBlur={() => { setSelect(false) }}\r\n        onKeyUp={(e: React.KeyboardEvent) => {\r\n            if (e.keyCode === 13) if (p.next) p.next();\r\n        }}\r\n        onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n            let { value } = e.currentTarget;\r\n            if (p.upper) value = value.toUpperCase();\r\n            if (p.lower) value = value.toLowerCase();\r\n            if (p.update) p.setData({ [p.update]: value });\r\n            else p.setData(value);\r\n        }}\r\n    />\r\n}","import React from \"react\"\r\nimport { InputGroup, FormControl } from \"react-bootstrap\";\r\nimport InputText, { Props as padre } from \"../Inputs/InputArea\"\r\ninterface Props extends padre {\r\n    after?: string;\r\n    before?: string;\r\n    error?: any\r\n}\r\nexport default function ControlArea(p: Props) {\r\n    const Props: () => any = () => {\r\n        return { ...p };\r\n    }\r\n    let error = p.error && p.update ? p.error[p.update] ? true : false : p.error ? true : false;\r\n    return (<InputGroup hasValidation={error}>\r\n        {p.before ? <InputGroup.Prepend><InputGroup.Text>{p.before}</InputGroup.Text></InputGroup.Prepend> : <></>}\r\n        <InputText {...Props()} isInvalid={error} />\r\n        {p.after ? <InputGroup.Append><InputGroup.Text>{p.after}</InputGroup.Text></InputGroup.Append> : <></>}\r\n        <FormControl.Feedback type=\"invalid\">\r\n            {p.error && p.update ? p.error[p.update] ? p.error[p.update] : p.error : ''}\r\n        </FormControl.Feedback>\r\n    </InputGroup>)\r\n}","import React, { useState } from \"react\"\r\nimport { FormControl, FormControlProps } from \"react-bootstrap\";\r\ntype padre = FormControlProps & React.HTMLProps<HTMLInputElement>;\r\nexport interface Props extends padre {\r\n    setData: (data: any) => void,\r\n    value: string\r\n    update?: string\r\n    next?: () => void\r\n}\r\n\r\nexport default function InputDate(p: Props) {\r\n    const [select, setSelect] = useState(false);\r\n    const value = () => {\r\n        if (select) return { defaultValue: p.value };\r\n        else if (p.value !== '') return { value: p.value }\r\n        else return { value: 'dd/mm/aaaa' }\r\n    }, Props = () => {\r\n        let props: any = { ...p };\r\n        props.value = undefined;\r\n        props.type = 'date';\r\n        return { ...props, ...value() };\r\n    }\r\n    return <FormControl {...Props()}\r\n        onFocus={() => { setSelect(true) }}\r\n        onBlur={() => { setSelect(false) }}\r\n        onKeyUp={(e: React.KeyboardEvent) => {\r\n            if (e.keyCode === 13) if (p.next) p.next();\r\n        }}\r\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            let { value } = e.currentTarget;\r\n            if (p.update) p.setData({ [p.update]: value });\r\n            else p.setData(value);\r\n        }}\r\n    />\r\n}","import React from \"react\"\r\nimport { FormControl, InputGroup } from \"react-bootstrap\";\r\nimport InputText, { Props as padre } from \"../Inputs/InputDate\"\r\ninterface Props extends padre {\r\n    after?: string;\r\n    before?: string;\r\n    error?: any\r\n}\r\nexport default function ControlDate(p: Props) {\r\n    const Props: () => any = () => {\r\n        return { ...p };\r\n    }\r\n    let error = p.error && p.update ? p.error[p.update] ? true : false : p.error ? true : false;\r\n    return (<InputGroup hasValidation={error}>\r\n        {p.before ? <InputGroup.Prepend><InputGroup.Text>{p.before}</InputGroup.Text></InputGroup.Prepend> : <></>}\r\n        <InputText {...Props()} isInvalid={error} />\r\n        {p.after ? <InputGroup.Append><InputGroup.Text>{p.after}</InputGroup.Text></InputGroup.Append> : <></>}\r\n        <FormControl.Feedback type=\"invalid\">\r\n            {p.error && p.update ? p.error[p.update] ? p.error[p.update] : p.error : ''}\r\n        </FormControl.Feedback>\r\n    </InputGroup>)\r\n}","import React, { useState } from \"react\"\r\nimport { FormControl, FormControlProps } from \"react-bootstrap\";\r\nimport { numberFormat } from \"../Formatos\";\r\ntype padre = FormControlProps & React.HTMLProps<HTMLInputElement>;\r\nexport interface Props extends padre {\r\n    setData: (data: any) => void,\r\n    value: number\r\n    update?: string\r\n    min?: number\r\n    max?: number\r\n    next?: () => void\r\n}\r\n\r\nexport default function InputNumber(p: Props) {\r\n    const [select, setSelect] = useState(false);\r\n    const value = () => {\r\n        if (select) return { defaultValue: p.value, type: 'number' };\r\n        else return { value: numberFormat(p.value) }\r\n    }, Props = () => {\r\n        let props: any = { ...p };\r\n        let { style } = p;\r\n        style = { ...style, textAlign: 'right' };\r\n        props.value = undefined;\r\n        props.style = undefined;\r\n        return { ...props, ...value(), style };\r\n    }\r\n    return <FormControl {...Props()}\r\n        onFocus={() => { setSelect(true) }}\r\n        onBlur={() => { setSelect(false) }}\r\n        onKeyUp={(e: React.KeyboardEvent) => {\r\n            if (e.keyCode === 13) if (p.next) p.next();\r\n        }}\r\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            let { value } = e.currentTarget;\r\n            let r = (value !== '') ? parseFloat(value) : 0;\r\n            if (p.min) if (p.min > r) r = p.min;\r\n            if (p.max) if (p.max < r) r = p.max;\r\n            if (p.update) p.setData({ [p.update]: r });\r\n            else p.setData(r);\r\n        }}\r\n    />\r\n}","import React from \"react\"\r\nimport { FormControl, InputGroup } from \"react-bootstrap\";\r\nimport InputText, { Props as padre } from \"../Inputs/InputNumber\"\r\ninterface Props extends padre {\r\n    after?: string;\r\n    before?: string;\r\n    error?: any\r\n}\r\nexport default function ControlNumber(p: Props) {\r\n    const Props: () => any = () => {\r\n        return { ...p };\r\n    }\r\n    let error = p.error && p.update ? p.error[p.update] ? true : false : p.error ? true : false;\r\n    return (<InputGroup hasValidation={error}>\r\n        {p.before ? <InputGroup.Prepend><InputGroup.Text>{p.before}</InputGroup.Text></InputGroup.Prepend> : <></>}\r\n        <InputText {...Props()} isInvalid={error} />\r\n        {p.after ? <InputGroup.Append><InputGroup.Text>{p.after}</InputGroup.Text></InputGroup.Append> : <></>}\r\n        <FormControl.Feedback type=\"invalid\">\r\n            {p.error && p.update ? p.error[p.update] ? p.error[p.update] : p.error : ''}\r\n        </FormControl.Feedback>\r\n    </InputGroup>)\r\n}","import React, { useState } from \"react\"\r\nimport { FormControl, FormControlProps } from \"react-bootstrap\";\r\ntype padre = FormControlProps & React.HTMLProps<HTMLInputElement>;\r\nexport interface Props extends padre {\r\n    setData: (data: any) => void,\r\n    value: string\r\n    mask?: string\r\n    update?: string\r\n    upper?: boolean\r\n    lower?: boolean\r\n    next?: () => void\r\n}\r\n\r\nexport default function InputText(p: Props) {\r\n    const [select, setSelect] = useState(false);\r\n    const value = () => {\r\n        if (select) return { defaultValue: p.value };\r\n        else return { value: p.value }\r\n    }\r\n    const Props = () => {\r\n        let props: any = { ...p };\r\n        props.value = undefined;\r\n        return { ...props, ...value() };\r\n    }\r\n    const Mask = (val: string, mask: string) => {\r\n        let nval = '';\r\n        if (val.length > 0) {\r\n            mask.split('').forEach((m: string, i: number) => {\r\n                if (m === 'a') {\r\n                    if (/[A-Za-z]/g.test(val[i])) {\r\n                        nval += val[i];\r\n                    }\r\n                } else if (m === 'A') {\r\n                    if (/[A-Za-z]/g.test(val[i])) {\r\n                        nval += val[i].toUpperCase();\r\n                    }\r\n                } else if (m === '9') {\r\n                    if (/[0-9]/g.test(val[i])) {\r\n                        nval += val[i];\r\n                    }\r\n                } else if (m === '*') {\r\n                    if (/[A-Za-z0-9]/g.test(val[i])) {\r\n                        nval += val[i];\r\n                    }\r\n                } else if (val[i] !== undefined) {\r\n                    if (nval.length === i)\r\n                        nval += m;\r\n                } else if (val[i] === undefined) {\r\n                    if (m !== 'a' && m !== 'A' && m !== '9' && m !== '*')\r\n                        if (nval.length === i)\r\n                            nval += m;\r\n                }\r\n            });\r\n            return nval;\r\n        } else {\r\n            return '';\r\n        }\r\n    };\r\n    return <FormControl {...Props()} as='input'\r\n        onFocus={() => { setSelect(true) }}\r\n        onBlur={() => { setSelect(false) }}\r\n        onKeyUp={(e: React.KeyboardEvent) => {\r\n            if (e.keyCode === 13) if (p.next) p.next();\r\n        }}\r\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            let { value } = e.currentTarget;\r\n            if (p.mask) value = Mask(value, p.mask);\r\n            if (p.upper) value = value.toUpperCase();\r\n            if (p.lower) value = value.toLowerCase();\r\n            e.currentTarget.value = value;\r\n            if (p.update) p.setData({ [p.update]: value });\r\n            else p.setData(value);\r\n        }}\r\n    />\r\n}","import React from \"react\"\r\nimport { FormControl, InputGroup } from \"react-bootstrap\"\r\nimport InputText, { Props as padre } from \"../Inputs/InputText\"\r\ninterface Props extends padre {\r\n    after?: string;\r\n    before?: string;\r\n    error?: any\r\n}\r\nexport default function ControlText(p: Props) {\r\n    const Props: () => any = () => {\r\n        return { ...p };\r\n    }\r\n    let error = p.error && p.update ? p.error[p.update] ? true : false : p.error ? true : false;\r\n    return (<InputGroup hasValidation={error}>\r\n        {p.before ? <InputGroup.Prepend><InputGroup.Text>{p.before}</InputGroup.Text></InputGroup.Prepend> : <></>}\r\n        <InputText {...Props()} isInvalid={error} />\r\n        {p.after ? <InputGroup.Append><InputGroup.Text>{p.after}</InputGroup.Text></InputGroup.Append> : <></>}\r\n        <FormControl.Feedback type=\"invalid\">\r\n            {p.error && p.update ? p.error[p.update] ? p.error[p.update] : p.error : ''}\r\n        </FormControl.Feedback>\r\n    </InputGroup>)\r\n}","import React from 'react'\r\nimport { FormControl } from 'react-bootstrap';\r\nimport { Rol, conUsuario } from '../../Models/Usuario';\r\n\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n    isInvalid?: boolean\r\n}\r\ninterface State {\r\n    roles: Rol[] | 'carro'\r\n}\r\nexport default class RolSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { roles: 'carro' };\r\n    }\r\n    setUsers(c: Rol[]) {\r\n        this.setState({ roles: c })\r\n    }\r\n    render() {\r\n        return <FormControl as='select' onChange={this.setRol.bind(this)} \r\n        value={this.props.defaultValue} isInvalid={this.props.isInvalid}>\r\n            <option value={-1}>SELECCIONAR ROL</option>\r\n            {(this.state.roles !== 'carro') ? this.state.roles.map(c => {\r\n                return <option key={\"unids\" + c.id} value={c.id}>{c.nombre}</option>\r\n            }) : <></>}\r\n        </FormControl>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        let r = parseInt(value)\r\n        this.props.change(r)\r\n    }\r\n    set() {\r\n        conUsuario().listaRoles(this.setUsers.bind(this));\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { Button, Modal, Row, Col, FormGroup, InputGroup, FormControl } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { UsuarioFila, conUsuario } from '../../Models/Usuario'\r\nimport { ControlText } from '../../Utiles/FormControl'\r\nimport RolSelector from '../Rol/Selector'\r\ninterface Props {\r\n    open: boolean\r\n    user: UsuarioFila | null\r\n    title: string\r\n    close: () => void\r\n    add?: (c: UsuarioFila) => void\r\n}\r\nexport default class FormUsuario extends React.Component<Props, UsuarioFila> {\r\n    con = conUsuario();\r\n    error: any = [];\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        if (p.user !== null) {\r\n            this.state = p.user\r\n        } else {\r\n            this.state = {\r\n                clave: '',\r\n                codigo: 0,\r\n                nombre: '',\r\n                correo: '',\r\n                rol: '',\r\n                nivel: -1,\r\n                estado: 1\r\n            };\r\n        }\r\n    }\r\n    render() {\r\n        let { setState, state: { clave, nombre, correo, nivel }, props: { open, close, title } } = this\r\n        return <Modal animation show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h4 className='mr-auto'>{title}</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} placeholder=\"VICTOR REQUENA\" before=\"NOMBRE\" maxLength={150}\r\n                            value={nombre} setData={setState} update=\"nombre\" />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} placeholder=\"VENTAS@AILANTHUS-SISTEMS.COM\" before=\"CORREO\" maxLength={150}\r\n                            value={correo} setData={setState} update=\"correo\" />\r\n                    </Col>\r\n                    {(this.props.user === null) ? <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} placeholder='*********' maxLength={120} type='password'\r\n                            before=\"CLAVE\" value={clave ? clave : ''} setData={setState} update=\"clave\" />\r\n                    </Col> : <></>}\r\n                    <Col as={InputGroup} hasValidation={this.error['nivel'] ? true : false} xs={12}>\r\n                        <RolSelector isInvalid={this.error['nivel'] ? true : false} defaultValue={nivel} change={(nivel) => { setState({ nivel }) }} />\r\n                        <FormControl.Feedback type=\"invalid\">\r\n                            {this.error['nivel'] ? this.error['nivel'] : ''}\r\n                        </FormControl.Feedback>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.get.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    get() {\r\n        this.error = [];\r\n        if (this.state.nombre === \"\") {\r\n            this.error['nombre'] = 'DEBE COLOCAR EL RASON SOCIAL';\r\n        }\r\n        if (this.state.correo === \"\") {\r\n            this.error['correo'] = 'DEBE COLOCAR UN CORREO';\r\n        }\r\n        if (this.state.nivel === -1) {\r\n            this.error['nivel'] = 'DEBE SELECCINAR UN ROL PARA EL USUARIO';\r\n        }\r\n        if (this.props.user === null) {\r\n            if (this.state.clave === \"\") {\r\n                this.error['clave'] = 'DEBE COLOCAR UNA CLAVE';\r\n            }\r\n            if (Object.keys(this.error).length === 0) {\r\n                this.con.nuevo(this.state, data => {\r\n                    if (this.props.add) this.props.add(data);\r\n                    toast('GUARDADO EXITOSAMENTE', { type: toast.TYPE.SUCCESS });\r\n                    this.props.close();\r\n                }, this.setError.bind(this));\r\n            }\r\n        } else if (Object.keys(this.error).length === 0) {\r\n            this.con.actualizar(this.props.user.codigo,\r\n                this.state, data => {\r\n                    if (this.props.add) this.props.add(data);\r\n                    toast('GUARDADO EXITOSAMENTE', { type: toast.TYPE.SUCCESS });\r\n                    this.props.close();\r\n                }, this.setError.bind(this));\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    setError(err: any) {\r\n        if (err.response) {\r\n            let { errores } = err.response;\r\n            errores.forEach((err: any) => {\r\n                if (err.sql) {\r\n                    err.sql.forEach((er: string) => toast(er, { type: toast.TYPE.ERROR }));\r\n                } else {\r\n                    Object.keys(err).forEach(t => this.error[t] = err[t])\r\n                }\r\n            })\r\n            console.log(this.error);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n}","import React from \"react\";\r\ninterface Props {\r\n    width: string | number,\r\n    children: any,\r\n    align?: 'center' | 'right' | 'left'\r\n}\r\nexport default function THFila({ width, children, align }: Props) {\r\n    return <th style={{ paddingTop: '1.25rem', minWidth: width, maxWidth: width, width, textAlign: align }}>\r\n        <span>{children} </span>\r\n    </th>\r\n}\r\nexport function THInput({ width, children, align }: Props) {\r\n    return <th style={{ minWidth: width, maxWidth: width, width, textAlign: align }}>{children}     </th>\r\n}","import React from 'react'\r\nimport { Button, Modal, Row, Col, FormGroup, ModalBody } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { UsuarioFila, conUsuario } from '../../Models/Usuario'\r\nimport { ControlText } from '../../Utiles/FormControl'\r\n\r\n\r\ninterface Props {\r\n    open: boolean\r\n    user: UsuarioFila | null\r\n    title: string\r\n    close: () => void\r\n    add?: (c: UsuarioFila) => void\r\n}\r\nexport default class FormClave extends React.Component<Props, { clave: string, repetir_clave: string }> {\r\n    con = conUsuario();\r\n    error: any = [];\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        this.state = {\r\n            clave: '',\r\n            repetir_clave: '',\r\n        };\r\n    }\r\n    render() {\r\n        let { setState, state: { clave, repetir_clave }, props: { open, close, title } } = this\r\n        return <Modal animation show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h4 className='mr-auto'>{title}</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <ModalBody>\r\n                <Col as={FormGroup} xs={12}>\r\n                    <ControlText error={this.error} placeholder='*********' maxLength={120} type='password'\r\n                        before=\"CLAVE\" value={clave} setData={setState} update=\"clave\"/>\r\n                        </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                    <ControlText error={this.error} placeholder='*********' maxLength={120} type='password'\r\n                        before=\"REPETIR\" value={repetir_clave} setData={setState} update=\"repetir_clave\" />\r\n                    </Col>\r\n                    </ModalBody></Row>\r\n                    <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.get.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> Guardar</Button>\r\n                    </Modal.Footer>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n\r\nget(){\r\n    let {clave, repetir_clave}=this.state;\r\n    let procesar = true;\r\n        if (clave === \"\") {\r\n            this.error['clave'] = 'DEBE COLOCAR UNA CLAVE';\r\n            procesar=false;\r\n        }\r\n        if(repetir_clave !== clave){\r\n            this.error['repetir_clave'] = 'DEBEN SER IGUALES';\r\n            procesar=false;\r\n        }if(procesar) {  /*\r\n        if (Object.keys(this.error).length === 0) {\r\n            this.con.nuevo(this.state, data => {\r\n                if (this.props.add) this.props.add(data);\r\n                toast('GUARDADO EXITOSAMENTE', { type: toast.TYPE.SUCCESS });\r\n                this.props.close();\r\n            }, this.setError.bind(this));\r\n        } else if (Object.keys(this.error).length === 0) {\r\n        this.con.actualizar(this.props.user.codigo,\r\n            this.state, data => {\r\n                if (this.props.add) this.props.add(data);\r\n                toast('GUARDADO EXITOSAMENTE', { type: toast.TYPE.SUCCESS });\r\n                this.props.close();\r\n            }, this.setError.bind(this));\r\n    } */\r\n} this.forceUpdate();\r\n}\r\n\r\nsetError(err: any) {\r\n    if (err.response) {\r\n        let { errores } = err.response;\r\n        errores.forEach((err: any) => {\r\n            if (err.sql) {\r\n                err.sql.forEach((er: string) => toast(er, { type: toast.TYPE.ERROR }));\r\n            } else {\r\n                Object.keys(err).forEach(t => this.error[t] = err[t])\r\n            }\r\n        })\r\n        console.log(this.error);\r\n        this.forceUpdate();\r\n    }\r\n}\r\n}\r\n\r\n\r\n\r\n","import React from \"react\"\r\nimport { Button, ButtonGroup } from \"react-bootstrap\"\r\nimport { UsuarioFila, conUsuario } from '../../Models/Usuario'\r\nimport THFila from \"../../Utiles/Componentes/THFila\"\r\nimport FormUsuario from \"./FormUsuario\"\r\nimport FormClave from \"./FormClave\"\r\ninterface Props {\r\n    d: UsuarioFila\r\n    update?: () => void\r\n}\r\ninterface State extends UsuarioFila {\r\n    edit: boolean,\r\n    cambiar_clave: boolean\r\n}\r\nexport class FilaUsuario extends React.Component<Props, State> {\r\n    con = conUsuario()\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.d, edit: false, cambiar_clave: false}\r\n    }\r\n    render() {\r\n        let { nombre, correo, rol, estado, edit, cambiar_clave } = this.state;\r\n        return <tr>\r\n            <THFila width=\"calc(100% - 680px)\">\r\n                {nombre}\r\n            </THFila>\r\n            <THFila width=\"350px\">\r\n                {correo}\r\n            </THFila>\r\n            <THFila width=\"150px\">\r\n                {rol}\r\n            </THFila>\r\n            <THFila width=\"70px\">\r\n                {this.getStatus()}\r\n            </THFila>\r\n            <th style={{ width: \"110px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={() => { this.setState({ edit: true }) }}>\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button>\r\n                    <FormUsuario\r\n                        user={this.state}\r\n                        title={'EDITAR USUARIO DE ' + nombre}\r\n                        open={edit}\r\n                        close={() => { this.setState({ edit: false }) }}\r\n                        add={this.props.update} \r\n                        />\r\n                        <FormClave\r\n                        user={this.state}\r\n                        title={'CAMBIAR CONTRASE√ëA ' + nombre}\r\n                        open={cambiar_clave}\r\n                        close={() => { this.setState({ cambiar_clave: false }) }}\r\n                        add={this.props.update} />\r\n                    <Button data-tip=\"CAMBIAR CONTRASE√ëA\" variant=\"warning\"\r\n                        onClick={() => { this.setState({ cambiar_clave: true }) }}>\r\n                        <i className=\"fa fa-lock\" ></i>\r\n                        </Button>\r\n                    \r\n                    {(estado === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-check-circle-o\"></i> </Button>\r\n                       }\r\n                     \r\n                </ButtonGroup>\r\n            </th>\r\n        </tr>\r\n    }\r\n    getStatus() {\r\n        if (this.state.estado === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    cancelar() {\r\n        let { update, d: { codigo } } = this.props;\r\n        this.con.cancelar(codigo, update);\r\n    }\r\n\r\n\r\n}","import React from \"react\"\r\nimport { Pagination } from \"react-bootstrap\";\r\ntype padre = React.HTMLProps<HTMLTextAreaElement>;\r\ninterface Props extends padre {\r\n    setpage: (page: number) => void,\r\n    length: number\r\n    mostrar: number\r\n    page: number\r\n}\r\n\r\nexport default function Paginacion(p: Props) {\r\n    if (p.length === 0)\r\n        return <></>\r\n    let { setpage, length, mostrar, page } = p,\r\n        total_page = Math.ceil(length / mostrar),\r\n        buttons = [];\r\n    if (page === 1) {\r\n        buttons.push(<Pagination.Item key=\"active1\" active>1</Pagination.Item>)\r\n    } else {\r\n        buttons.push(<Pagination.Item key=\"p1\" onClick={setpage.bind(p, 1)}>1</Pagination.Item>)\r\n    }\r\n    for (var i = 3; i > 0; i--) {\r\n        if ((page - i) > 1) {\r\n            if (i === 3) {\r\n                buttons.push(<Pagination.Ellipsis key=\"Ellipsis1\" />)\r\n            } else {\r\n                buttons.push(<Pagination.Item key={\"p\" + (page - i)} onClick={setpage.bind(p, page - i)}>{page - i}</Pagination.Item>)\r\n            }\r\n        }\r\n    }\r\n    if (total_page > page && page > 1) {\r\n        buttons.push(<Pagination.Item active>{page}</Pagination.Item>)\r\n    }\r\n    for (i = 1; i < 4; i++) {\r\n        if ((page + i) < total_page) {\r\n            if (i === 3) {\r\n                buttons.push(<Pagination.Ellipsis key=\"Ellipsis2\" />)\r\n            } else {\r\n                buttons.push(<Pagination.Item key={\"p\" + (page + i)} onClick={setpage.bind(p, page + i)}>{page + i}</Pagination.Item>)\r\n            }\r\n        }\r\n    }\r\n    if (page === total_page) {\r\n        if (1 < total_page) {\r\n            buttons.push(<Pagination.Item key={\"active\" + total_page} active>{total_page}</Pagination.Item>)\r\n        }\r\n    } else {\r\n        buttons.push(<Pagination.Item key={\"p\" + total_page} onClick={setpage.bind(p, total_page)}>{total_page}</Pagination.Item>)\r\n    }\r\n    return <Pagination style={{ position: \"relative\", float: \"right\" }}>{buttons}</Pagination>\r\n}","import React, { useState } from \"react\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport Paginacion from \"./Paginacion\";\r\ninterface Props {\r\n    itens: any[]\r\n    mostrar: number\r\n    row: (d: any) => any\r\n    col: number\r\n    children: any\r\n}\r\nexport default function Body(p: Props) {\r\n    const [page, setPage] = useState(1);\r\n    const key = parseInt((Math.random() * (500000 - 1)).toFixed());\r\n    function body() {\r\n        let init = (page - 1) * p.mostrar;\r\n        let fin = init + p.mostrar;\r\n        let itens = p.itens.filter((iten: any, index: number) => (index >= init && index < fin))\r\n        let pts = itens.map((iten: any) => p.row(iten))\r\n        return pts\r\n    }\r\n    return <Table striped hover >\r\n        <thead>\r\n            {p.children}\r\n        </thead>\r\n        <tbody key={'mostrar' + key}>\r\n            {body()}\r\n        </tbody>\r\n        <tr>\r\n            <td colSpan={p.col}>\r\n                <Paginacion page={page}\r\n                    length={p.itens.length}\r\n                    mostrar={p.mostrar}\r\n                    setpage={setPage} />\r\n            </td>\r\n        </tr>\r\n    </Table>\r\n}","import React from \"react\";\r\ninterface Props {\r\n    width: string | number,\r\n    children: any,\r\n    label?: string,\r\n    by?: string,\r\n    orden?: string,\r\n    setOrden?: (d: any) => void\r\n}\r\nexport default function Th(p: Props) {\r\n    let { width, label, children, orden, by, setOrden } = p;\r\n    function Flechas() {\r\n        if (by === label)\r\n            if (orden === \"desc\") return <i className=\"fa fa-arrow-up\" />\r\n            else return <i className=\"fa fa-arrow-down\" />\r\n        return <></>\r\n    }\r\n    function colorOrden() {\r\n        if (by === label) {\r\n            return '#afd9ee'\r\n        }\r\n        return '#bfe9fe'\r\n    }\r\n    return <th\r\n        style={{\r\n            width, maxWidth: width, minHeight: width,\r\n            textAlign: 'center',\r\n            backgroundColor: colorOrden()\r\n        }}\r\n        onClick={() => {\r\n            if (label && setOrden)\r\n                if (by === label) {\r\n                    if (orden === \"asc\") setOrden({ orden: 'desc' });\r\n                    else setOrden({ orden: 'asc' });\r\n                } else {\r\n                    setOrden({ orden: 'desc', by: label });\r\n                }\r\n        }}> {children} < Flechas />    </th >\r\n}","import React from \"react\";\r\nimport { Button, InputGroup } from \"react-bootstrap\";\r\nimport { zfill, formatoFecha } from \"../Formatos\";\r\nimport InputText from \"../Inputs/InputText\";\r\nimport Body from './Body';\r\nimport Th from './Th';\r\ninterface State {\r\n    itens: any[],\r\n    buscar: string\r\n    by: string\r\n    orden: string\r\n    modal: boolean\r\n    open: boolean\r\n}\r\n\r\nexport default class Tabla<p = any> extends React.Component<p, State> {\r\n    buscarEn: string[] = [];\r\n    buscarLabel = 'BUSCAR';\r\n    col = 8;\r\n    mostar = 7;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { itens: [], buscar: '', by: 'codigo', orden: 'desc', modal: false, open: false };\r\n        this.setState = this.setState.bind(this);\r\n        this.Buscador = this.Buscador.bind(this);\r\n        this.busqueda = this.busqueda.bind(this);\r\n        this.Body = this.Body.bind(this);\r\n        this.Header = this.Header.bind(this);\r\n        this.Row = this.Row.bind(this);\r\n        this.Th = this.Th.bind(this);\r\n    }\r\n    Buscador() {\r\n        return <InputGroup style={{ paddingBottom: '15px' }}>\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                    {this.buscarLabel}\r\n                </InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <InputText className='form-control' upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n            <InputGroup.Append>\r\n                <Button variant=\"primary\">\r\n                    <span className=\"fa fa-search\"></span> BUSCAR\r\n                </Button>\r\n            </InputGroup.Append>\r\n        </InputGroup>\r\n    }\r\n    Th(p: { width: string | number, label?: string, children: any }) {\r\n        let { setState, state: { by, orden } } = this;\r\n        return <Th {...p} setOrden={setState} by={by} orden={orden} />\r\n    }\r\n    Body() {\r\n        const key = parseInt((Math.random() * (500000 - 1)).toFixed());\r\n        let { col, mostar, Row, Header } = this;\r\n        return <Body mostrar={mostar} col={col} row={Row}\r\n            itens={this.filter()} key={'tablaMaster' + key} >\r\n            <Header />\r\n        </Body>\r\n    }\r\n    render() {\r\n        let { Body, Buscador, } = this;\r\n        return <>\r\n            <Buscador />\r\n            <Body />\r\n        </>\r\n    }\r\n    Header() {\r\n        return <></>;\r\n    }\r\n    Row(p: any) {\r\n        return <></>;\r\n    }\r\n    getItens() {\r\n        return this.state.itens;\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        return itens;\r\n    }\r\n    busqueda() {\r\n        let { state: { buscar }, buscarEn } = this\r\n        if (buscar !== \"\") {\r\n            return this.getItens().filter(iten => {\r\n                let en = buscar.split(\" \"), pasa = false;\r\n                buscarEn.forEach(label => {\r\n                    let considencias = 0;\r\n                    en.forEach(e => {\r\n                        if (label === 'fecha') {\r\n                            if (formatoFecha(iten[label]).indexOf(e) > -1) { considencias++ }\r\n                        } else if (isNaN(iten[label])) {\r\n                            if (iten[label].toUpperCase().indexOf(e) > -1) { considencias++ }\r\n                        } else {\r\n                            if (zfill(parseFloat(iten[label])).indexOf(e) > -1) { considencias++ }\r\n                        }\r\n                    })\r\n                    if (en.length === considencias) { pasa = true }\r\n                })\r\n                return pasa\r\n            })\r\n        }\r\n        return this.getItens();\r\n    }\r\n    ordenar() {\r\n        let { state: { by, orden }, busqueda, datetonomber } = this;\r\n        return busqueda().sort((a: any, b: any) => {\r\n            if (by === 'fecha') {\r\n                let fa = datetonomber(a.fecha), fb = datetonomber(b.fecha);\r\n                if (orden === \"desc\") return (fb < fa ? - 1 : (fb > fa ? 1 : 0));\r\n                else return (fa < fb ? - 1 : (fa > fb ? 1 : 0));\r\n            } else if (isNaN(b[by])) {\r\n                if (orden === \"desc\") return (a[by] < b[by] ? - 1 : (a[by] > b[by] ? 1 : 0));\r\n                else return (b[by] < a[by] ? - 1 : (b[by] > a[by] ? 1 : 0));\r\n            } else {\r\n                if (orden === \"desc\") return (b[by] - a[by]);\r\n                else return (a[by] - b[by]);\r\n            }\r\n        })\r\n    }\r\n    datetonomber(fecha?: string) {\r\n        let date = fecha ? new Date(fecha) : new Date();\r\n        let a√±o = date.getFullYear();\r\n        let mes = date.getMonth() + 1;\r\n        let dia = date.getDate() + 1;\r\n        a√±o *= 10000;\r\n        mes *= 100;\r\n        return a√±o + mes + dia;\r\n    };\r\n}","import { Conexion } from \"../Config/Coneccion\";\r\nimport { CondicionesData, GeneralData, getSubtotal, sentDetalles, getCosto, condicionesNull, generalNull, Detalles } from \"./General\";\r\n\r\nexport interface Cotizacion extends CondicionesData {\r\n    cod_cliente: string\r\n    plantilla: number\r\n    tasa: number\r\n    dolar: boolean\r\n}\r\nexport const CotizacionNull: Cotizacion = {\r\n    cod_cliente: '',\r\n    plantilla: 0,\r\n    tasa: 0,\r\n    dolar: false,\r\n    ...condicionesNull,\r\n}\r\nexport function sentCotizacion(e: Cotizacion, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_cliente, validez, tiempo_entrega, forma_pago, nota, plantilla } = e;\r\n    return {\r\n        cod_cliente,\r\n        plantilla,\r\n        validez,\r\n        tiempo_entrega,\r\n        forma_pago,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport interface Nota extends GeneralData {\r\n    cod_cliente: string\r\n}\r\nexport function sentNota(e: Nota, porc_impuesto: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (porc_impuesto / 100),\r\n        total = subtotal + impuesto;\r\n\r\n    let { cod_cliente, nota } = e;\r\n    return {\r\n        cod_cliente,\r\n        impuesto,\r\n        total,\r\n        nota,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport interface Factura extends GeneralData {\r\n    cod_cliente: string\r\n    condicion: string\r\n    id_nota?: number\r\n    id_cotizacion?: number\r\n}\r\nexport const FacturaNull: Factura = {\r\n    cod_cliente: '',\r\n    condicion: '',\r\n    ...generalNull,\r\n}\r\nexport function sentFactura(e: Factura, porc_impuesto: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        costo = getCosto(e.detalles),\r\n        impuesto = subtotal * (porc_impuesto / 100),\r\n        total = subtotal + impuesto;\r\n\r\n    let { cod_cliente, nota, condicion, } = e;\r\n    return {\r\n        cod_cliente,\r\n        condicion,\r\n        porc_impuesto,\r\n        costo,\r\n        impuesto,\r\n        subtotal,\r\n        total,\r\n        nota,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nclass CotizacionConexion extends Conexion {\r\n    clase = 'Cotizacion';\r\n    persistencia = 1000;\r\n}\r\nexport function conCotizacion() {\r\n    return new CotizacionConexion();\r\n}\r\nclass NotaConexion extends Conexion {\r\n    clase = 'Nota';\r\n    persistencia = 1000;\r\n}\r\nexport function conNota() {\r\n    return new NotaConexion();\r\n}\r\nclass FacturaConexion extends Conexion {\r\n    clase = 'Factura';\r\n    persistencia = 1000;\r\n}\r\nexport function conFactura() {\r\n    return new FacturaConexion();\r\n}\r\nexport function updatePrecio(data: Cotizacion, tasa: number, dolar: boolean): any {\r\n    let detalles: Detalles[] = [];\r\n    const id_cotizacion = data.codigo;\r\n    if (data.tasa === 0 || dolar) detalles = data.detalles\r\n    else detalles = data.detalles.map(({ codigo, departamento, descripcion, estatus, enser, tipo, costo, precio1, precio2,\r\n        precio3, cantidad, unidad, exento, fecha_creacion, tasa, medida, inventario, unidades, comentario, precio, }) => {\r\n        return {\r\n            codigo, departamento, descripcion, estatus, enser, tipo, costo, precio1, precio2, precio3,\r\n            cantidad, unidad, exento, fecha_creacion, tasa, medida, inventario, unidades, comentario,\r\n            precio: parseFloat((precio * tasa / data.tasa).toFixed(2)),\r\n        };\r\n    });\r\n    return { id_cotizacion, detalles };\r\n}","import React from \"react\";\r\nimport Tabla from \"../Tabla\";\r\nimport { Col, Card, Row, Button, InputGroup, Accordion, Spinner } from \"react-bootstrap\";\r\nimport { InputText } from \"../Inputs\";\r\nimport { Conexion } from \"../../Config/Coneccion\";\r\nimport { conCotizacion } from \"../../Models/Factura\";\r\nimport { EstadoNull } from \"../../Models/General\";\r\nimport { SeccionContext } from \"../../Context/Seccion\";\r\nclass CardBuscador extends Tabla {\r\n    permiso = '';\r\n    con: Conexion = conCotizacion();\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Avansado = this.Avansado.bind(this);\r\n        this.Actualizar = this.Actualizar.bind(this);\r\n        this.Title = this.Title.bind(this);\r\n    }\r\n    Title() {\r\n        return <><Button className=\"float-right\" onClick={() => { this.setState({ modal: true }) }}> <i className=\"fa fa-edit\"></i> NUEVO</Button></>;\r\n    }\r\n    Avansado() { return <></> }\r\n    render() {\r\n        let { Body, Buscador, Avansado, Title } = this;\r\n        return <Card as={Accordion}>\r\n            <Card.Header className='bg-info d-flex'>\r\n                <Title />\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Buscador />\r\n                <Accordion.Collapse eventKey=\"0\">\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <Avansado />\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Accordion.Collapse>\r\n                <Col md={12}>\r\n                    <Body />\r\n                </Col>\r\n            </Card.Body>\r\n        </Card>\r\n    }\r\n    Buscador() {\r\n        return <Row className='d-flex' style={{ paddingBottom: '15px' }}>\r\n            <Col md={9} className='mr-auto'>\r\n                <InputGroup >\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            {this.buscarLabel}\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\">\r\n                            <i className=\"fa fa-search\"></i> BUSCAR\r\n                        </Button>\r\n                        <Button as={Accordion.Toggle} eventKey=\"0\" variant='default' data-tip=\"BUSQUEDA AVANSADA\" onClick={() => { this.setState({ open: !this.state.open }) }}>\r\n                            <i className=\"fa fa-wrench\"></i> AVANZADO\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Col>\r\n            {this.Actualizar()}\r\n        </Row>\r\n    }\r\n    Actualizar() {\r\n        const { status, hora } = this.getEstado();\r\n        return <Col md={3} className='mr-auto d-flex flex-row-reverse'>\r\n            <Button size='sm' onClick={this.set.bind(this)} disabled={status === 2} data-tip=\"ACTUALIZAR LISTA\" variant=\"info\">\r\n                {(status === 2) ? <><Spinner animation=\"border\" size='sm' role=\"status\" /></> : <><i className=\"fa fa-refresh\"></i> ACTUALIZAR</>}\r\n            </Button>\r\n            <div style={{ fontSize: '12px', width: \"200px\", paddingLeft: '15px' }}>\r\n                <strong>ACTUALIZADO:</strong> <br />\r\n                {hora}\r\n            </div>\r\n        </Col>\r\n    }\r\n    set() { this.con.cargarListaWeb((itens) => this.setState({ itens })) }\r\n    componentDidMount() { this.set() }\r\n    getEstado() { return EstadoNull }\r\n}\r\nCardBuscador.contextType = SeccionContext;\r\nexport default CardBuscador;","import React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\nimport RolSelector from '../Rol/Selector';\r\nexport interface AvanzadosProps {\r\n    setData: (d: any) => void\r\n    rol: number\r\n    status: number\r\n}\r\nexport default function Avanzados({ rol, status, setData }: AvanzadosProps) {\r\n    const setRol = (rol: number) => { setData({ rol }) };\r\n    const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => { setData({ status: parseInt(e.currentTarget.value) }) };\r\n    return <div className='row'>\r\n        <Col data-tip=\"FILTRAR POR ROL\" xs={7} style={{ minWidth: '320px' }} className='RangoFechas'><br />\r\n            <RolSelector\r\n                change={setRol}\r\n                defaultValue={rol} />\r\n        </Col>\r\n        <Col style={{ minWidth: '230px' }} xs={5} className='productoStock'><br />\r\n            <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={setStatus} className=\"form-control\" value={status}>\r\n                <option value={-1}>TODOS LOS ESTADOS</option>\r\n                <option value={0}>INACTIVO</option>\r\n                <option value={1}>ACTIVO</option>\r\n            </select>\r\n        </Col>\r\n    </div>;\r\n}","import React from 'react';\r\nimport { UsuarioFila, conUsuario } from '../../Models/Usuario'\r\nimport { Button } from 'react-bootstrap';\r\nimport FormUsuario from './FormUsuario';\r\nimport { FilaUsuario } from './Fila';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport Avanzados, { AvanzadosProps } from './Avanzados';\r\nimport { SeccionContext } from '../../Context/Seccion';\r\nclass ListUsuario extends CardBuscador {\r\n    con = conUsuario();\r\n    placeholder = \"BUSCAR USUARIO\";\r\n    rol = -1;\r\n    status = -1;\r\n    buscarEn = [\"nombre\", \"correo\"];\r\n    Title() {\r\n        return <>\r\n            <FormUsuario\r\n                user={null}\r\n                title='NUEVO USUARIO'\r\n                open={this.state.modal}\r\n                close={() => { this.setState({ modal: false }) }}\r\n                add={this.set.bind(this)} />\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR USUARIO</h4>\r\n            <Button onClick={() => { this.setState({ modal: true }) }} variant='primary'>\r\n                <span className=\"fa fa-plus\"></span> NUEVO USUARIO\r\n            </Button>\r\n        </>\r\n    }\r\n    Avansado() {\r\n        const { rol, status, setAvansados } = this;\r\n        return <Avanzados rol={rol} status={status} setData={setAvansados.bind(this)} />;\r\n    }\r\n    Header() {\r\n        let { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th width='calc(100% - 710px)' label='codigo'>NOMBRE</Th>\r\n            <Th width='350px' label='correo'>CORREO</Th>\r\n            <Th width='150px'>ROL</Th>\r\n            <Th width='150px'>ESTADO</Th>\r\n            <Th width='110px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    setAvansados({ rol, status }: AvanzadosProps) {\r\n        if (rol) this.rol = rol;\r\n        if (status) this.status = status;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: UsuarioFila) => {\r\n            return this.validar(c);\r\n        });\r\n    }\r\n    validar({ nivel, estado }: UsuarioFila) {\r\n        const { rol, status } = this;\r\n        if (status !== -1 && estado !== status) return false;\r\n        if (rol !== -1 && nivel !== rol) return false;\r\n        return true;\r\n    }\r\n    Row(p: UsuarioFila) {\r\n        return <FilaUsuario key={'usuario' + p.codigo + p.estado} d={p} update={this.set.bind(this)} />\r\n    }\r\n    getItens() { return this.context.usuarios; }\r\n    set() { this.context.atcUsuario(); }\r\n    getEstado() { return this.context.data.estUsuarios }\r\n}\r\nListUsuario.contextType = SeccionContext;\r\nexport default ListUsuario;","import React from \"react\"\r\nimport Chart from \"react-google-charts\"\r\nexport type data = string | number\r\nexport interface AreaProps {\r\n    label: string[]\r\n    values: data[][]\r\n    title: string\r\n    hAxisTitle: string\r\n}\r\nexport default function Area({ label, values, title, hAxisTitle }: AreaProps) {\r\n    let minValue = 0;\r\n    if (values.length !== 0)\r\n        values.forEach(d => {\r\n            let v = d[1] as number;\r\n            if (v > minValue)\r\n                minValue = v;\r\n        })\r\n    return <Chart\r\n        width={'1fr'}\r\n        height={'35rem'}\r\n        chartType=\"AreaChart\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={[label, ...values]}\r\n        options={{\r\n            title, hAxis: { title: hAxisTitle, titleTextStyle: { color: '#333' } },\r\n            vAxis: { minValue }, chartArea: { width: '85%', height: '70%' }, legend: { position: 'none' }\r\n        }}\r\n        rootProps={{ 'data-testid': '1' }}\r\n    />\r\n\r\n}","import React from \"react\"\r\nimport { Button, InputGroup } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ConConfig } from \"../../Models/Config\";\r\nimport Area from \"../../Utiles/Charts/Area\";\r\nimport { formatoFecha, formatoHora, fechaToNumber } from \"../../Utiles/Formatos\";\r\nimport { InputNumber } from \"../../Utiles/Inputs\";\r\ntype dolar = { fecha: string, valor: number };\r\nexport default class Dolar extends React.Component<{ p: string[] }, { dolares: dolar[], valor: number, fecha: string }>{\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { dolares: [], valor: 0, fecha: '' };\r\n    }\r\n    render() {\r\n        const { state: { valor, fecha }, props: { p } } = this;\r\n        return <div className=\"Dolar\">\r\n            <div style={{ display: \"flex\" }}>\r\n                <InputGroup style={{ width: \"calc(100% - 250px)\" }}>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>TASA DE CAMBIO</InputGroup.Text>\r\n                        <InputGroup.Text><i className=\"fa fa-usd\"></i></InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputNumber min={0} value={valor} setData={this.setState.bind(this)} update='valor' disabled={!p.some(d => d === 'DOLARES')} />\r\n                    {p.some(d => d === 'DOLARES') ?\r\n                        <InputGroup.Append>\r\n                            <Button variant='primary' onClick={this.actualizar.bind(this)}>\r\n                                <i className=\"fa fa-refresh\"></i> ACTUALIZAR\r\n                            </Button>\r\n                        </InputGroup.Append> : <></>}\r\n                </InputGroup>\r\n                <div style={{ fontSize: '12px', width: \"250px\", paddingLeft: '15px' }}>\r\n                    <strong>ACTUALIZADO:</strong> {formatoFecha(fecha)}<br />\r\n                    <strong>HORA:</strong> {formatoHora(fecha)}\r\n                </div>\r\n            </div>\r\n            <Area label={['FECHA Y HORA', 'PRECIO']} values={this.get()} title=\"FLUCTUACIONES DEL DOLAR\" hAxisTitle=\"FECHA Y HORA\" />\r\n        </div>\r\n    }\r\n    actualizar() {\r\n        const con = ConConfig('');\r\n        const { valor } = this.state;\r\n        if (valor !== 0) con.post('/api/Dolares/set', { valor }, () => { this.send() });\r\n        else toast('LA TASA DE CAMBIO NO PUEDE SER 0', { type: toast.TYPE.ERROR });\r\n    }\r\n    get() {\r\n        return this.state.dolares.map(d => [formatoFecha(d.fecha) + ' ' + formatoHora(d.fecha), d.valor])\r\n    }\r\n    async send() {\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Dolares/formatter/last', { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let dolares: dolar[] = await response.json();\r\n            let valor = 0;\r\n            let fecha = '1999-01-01';\r\n            dolares.forEach(d => {\r\n                if (fechaToNumber(d.fecha) > fechaToNumber(fecha)) {\r\n                    valor = d.valor;\r\n                    fecha = d.fecha;\r\n                }\r\n            })\r\n            this.setState({ dolares, valor, fecha });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ dolares: [] });\r\n        }\r\n    }\r\n    componentDidMount() { this.send() }\r\n}","import React from \"react\"\r\nimport Chart from \"react-google-charts\"\r\nexport interface GaugeProps {\r\n    label: String\r\n    red: number\r\n    yellow: number\r\n    green: number\r\n    value: number\r\n}\r\nexport default function Gauge({ label, value, red, yellow, green }: GaugeProps) {\r\n    return <Chart\r\n        width='14rem'\r\n        height='14rem'\r\n        chartType=\"Gauge\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={[\r\n            ['Label', 'Value'],\r\n            [label, value],\r\n        ]}\r\n        options={{\r\n            redFrom: red,\r\n            redTo: yellow,\r\n            yellowFrom: yellow,\r\n            yellowTo: green,\r\n            greenFrom: green,\r\n            greenTo: green * 2,\r\n            max: green * 2,\r\n            minorTicks: 5,\r\n        }}\r\n        rootProps={{ 'data-testid': '1' }}\r\n    />\r\n\r\n}","import React from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport { ConConfig } from '../../Models/Config'\r\nimport { ControlNumber } from '../../Utiles/FormControl'\r\nexport default class NuevoEquilibrio extends React.Component<{ open: boolean, close: () => void }, { value: number }> {\r\n    state = { value: 0 }\r\n    render() {\r\n        let { setState, state: { value }, props: { open, close } } = this\r\n        return <Modal animation show={open} size='lg' centered onHide={close}>\r\n            <Modal.Header className='bg-primary' closeButton>\r\n                <h4 className='mr-auto'>NUEVO PUNTO DE EQUILIBRIO</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <ControlNumber before='INGRESE EL NUEVO PUNTO DE EQUILIBRIO'\r\n                    value={value} setData={setState.bind(this)} update='value' />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.get.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> GUARDAR\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    get() {\r\n        const con = ConConfig('');\r\n        let { state: { value }, props: { close } } = this\r\n        con.post('/api/Factura/equilibrio/', { pto: value }, () => { close() })\r\n    }\r\n}","import React from \"react\"\r\nimport Gauge from \"../../Utiles/Charts/Gauge\";\r\nimport NuevoEquilibrio from './NuevoEquilibrio'\r\nexport default class Equilibrio extends React.Component<{ p: string[] }, { equilibrio: number, ventas: number, open: boolean }>{\r\n    state = { equilibrio: 100, ventas: 0, open: false };\r\n    render() {\r\n        const { state: { equilibrio, ventas, open }, props: { p } } = this;\r\n        return <div className=\"center Equilibrio\">\r\n            {p.some(d => d === 'CONFIG') ? <NuevoEquilibrio open={open} close={() => { this.setState({ open: false }); this.send() }} /> : <></>}\r\n            <div>\r\n                <Gauge\r\n                    label='Bs'\r\n                    value={ventas}\r\n                    red={0}\r\n                    yellow={equilibrio / 2}\r\n                    green={equilibrio}\r\n                />\r\n                <h5>PUNTO DE EQUILIBRIO</h5>\r\n            </div>\r\n        </div>\r\n    }\r\n    async send() {\r\n        let date = new Date();\r\n        let a√±o = date.getFullYear(), mes = date.getMonth() + 1;\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Factura/equilibrio/' + a√±o + '/' + mes, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let datos = await response.json();\r\n            this.setState({ equilibrio: parseFloat(datos[0]), ventas: Math.floor(datos[1]) });\r\n            if (parseFloat(datos[0]) === 0) this.setState({ equilibrio: 100, open: true });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ equilibrio: 100, ventas: 0 });\r\n        }\r\n    }\r\n    componentDidMount() { this.send() }\r\n}","import React from \"react\"\r\nimport Gauge from \"../../Utiles/Charts/Gauge\";\r\nexport default class Utilidad extends React.Component<{}, { utilidad: number }>{\r\n    state = { utilidad: 0 };\r\n    render() {\r\n        const { utilidad } = this.state;\r\n        return <div className=\"center Utilidad\">\r\n            <div>\r\n                <Gauge label='%' value={utilidad}\r\n                    red={0} yellow={10} green={30} />\r\n                <h5>PROMEDIO DE UTILIDAD</h5>\r\n            </div>\r\n        </div>\r\n    }\r\n    componentDidMount() {\r\n        this.send()\r\n    }\r\n    async send() {\r\n        let date = new Date();\r\n        let a√±o = date.getFullYear(),\r\n            mes = date.getMonth() + 1;\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Factura/utilidad/' + a√±o + '/' + mes, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let datos = await response.json();\r\n            this.setState({ utilidad: parseFloat(datos) });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ utilidad: 0 });\r\n        }\r\n    }\r\n}","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\ninterface State {\r\n    clientes: number,\r\n    proveedores: number,\r\n    compras: number,\r\n    ordenes: number,\r\n    notas: number,\r\n    cotizaciones: number,\r\n    facturas: number,\r\n    inventario: number\r\n}\r\nexport default class Contadores extends React.Component<{ p: string[] }, State>{\r\n    state = { clientes: 0, proveedores: 0, compras: 0, ordenes: 0, notas: 0, cotizaciones: 0, facturas: 0, inventario: 0 }\r\n    render() {\r\n        const { state: { clientes, proveedores, compras, ordenes, notas, cotizaciones, facturas, inventario }, props: { p } } = this;\r\n        return <div className=\"Contadores\">\r\n            <Count p={p} permiso='ORDEN' to='/orden/lista' ico='paperclip' label=\"ORDENES DE COMPRA\" color=\"info\" cont={ordenes} />\r\n            <Count p={p} permiso='COMPRA' to='/compra/lista' ico='shopping-cart' label=\"COMPRAS\" color=\"primary\" cont={compras} />\r\n            <Count p={p} permiso='COTIZACION' to='/cotizacion/lista' ico='calculator' label=\"COTIZACIONES\" color=\"danger\" cont={cotizaciones} />\r\n            <Count p={p} permiso='NOTA' to='/nota/lista' ico='paper-plane' label=\"NOTAS DE ENTREGA\" color=\"warning\" cont={notas} />\r\n            <Count p={p} permiso='FACTURA' to='/factura/lista' ico='usd' label=\"FACTURAS\" color=\"success\" cont={facturas} />\r\n            <Count p={p} permiso='CLIENTE' to='/clientes' ico='user' label=\"CLIENTES\" color=\"teal\" cont={clientes} />\r\n            <Count p={p} permiso='PROVEEDOR' to='/proveedores' ico='truck' label=\"PROVEEDORES\" color=\"lightblue\" cont={proveedores} />\r\n            <Count p={p} permiso='PRODUCTO' to='/producto' ico='laptop' label=\"INVENTARIO\" color=\"orange\" cont={inventario} />\r\n        </div>\r\n    }\r\n    async send() {\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Config/contadores', { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let datos = await response.json();\r\n            this.setState(datos);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    componentDidMount() { this.send() }\r\n}\r\nfunction Count({ p, permiso, ico, color, label, cont, to }: { p: string[], permiso: string, to: string, ico: string, color: string, label: string, cont: number }) {\r\n    if (p.every(d => d !== permiso))\r\n        return <></>\r\n    return <div className={\"small-box bg-\" + color}>\r\n        <div className=\"inner\">\r\n            <h3>{cont}</h3>\r\n            <p>{label}</p>\r\n        </div>\r\n        <div className=\"icon\">\r\n            <i className={\"fa fa-\" + ico}></i>\r\n        </div>\r\n        <Link to={to} className=\"small-box-footer\">\r\n            VER MAS <i className=\"fa fa-arrow-circle-right\"></i>\r\n        </Link>\r\n    </div>\r\n\r\n}","import React from \"react\"\r\nimport Chart from \"react-google-charts\"\r\ntype val = string | number\r\nexport interface PieProps {\r\n    title: string\r\n    values: val[][]\r\n}\r\nexport default function Pie({ title, values }: PieProps) {\r\n    return <Chart\r\n        width='18rem'\r\n        height='18rem'\r\n        chartType=\"PieChart\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={[['ESTADOS', 'CANT'], ...values]}\r\n        options={{ title, legend: 'none', slices: [{ color: '#dc3545' }, { color: '#ffc107' }, { color: '#28a745' }] }}\r\n        rootProps={{ 'data-testid': '3' }}\r\n    />\r\n\r\n}","import React from \"react\"\r\nimport Tortas, { PieProps } from \"../../../Utiles/Charts/Torta\";\r\nexport interface rank {\r\n    cantidad: number,\r\n    estatus: number\r\n}\r\nexport default class TortasMaster extends React.Component<{ lugar: string }, PieProps>{\r\n    estados = ['CANCELADO', 'PENDIENTE', 'PROCESADA'];\r\n    api = 'Cotizacion';\r\n    title = '';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { title: '', values: this.estados.map((s) => [s, 0]) };\r\n    }\r\n    render() {\r\n        const { title, values } = this.state;\r\n        return <div className={'center ' + this.props.lugar}>\r\n            <div style={{ textAlign: 'center' }}>\r\n                {this.isData() ? <Tortas title={title} values={values} /> :\r\n                    <div style={{ gridAutoRows: '18rem' }} className='center'>\r\n                        <div style={{ gridAutoRows: '12rem' }} className='no-data bg-black center'>\r\n                            <b>SIN REGISTROS<br /> EN EL MES</b>\r\n                        </div>\r\n                    </div>}\r\n                <h5>{this.title}</h5>\r\n            </div>\r\n        </div>\r\n    }\r\n    isData() {\r\n        if (this.state.values.length > 0)\r\n            for (let i = 0; i < 3; i++)\r\n                if (this.state.values[i][1] > 0)\r\n                    return true;\r\n        return false;\r\n    }\r\n    componentDidMount() {\r\n        this.send()\r\n    }\r\n    async send() {\r\n        let date = new Date();\r\n        let a√±o = date.getFullYear(),\r\n            mes = date.getMonth() + 1;\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/' + this.api + '/torta/mes/' + a√±o + '/' + mes, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let datos: rank[] = await response.json();\r\n            this.setState({\r\n                values: this.estados.map((s, i) => {\r\n                    const d = datos.find(d => d.estatus === i);\r\n                    return [s, d ? d.cantidad : 0]\r\n                })\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ values: this.estados.map((s) => [s, 0]) });\r\n        }\r\n    }\r\n}","\r\nimport TortasMaster from './TortasMaster'\r\nexport default class CotizacionPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', 'PENDIENTE', 'PROCESADA'];\r\n    api = 'Cotizacion';\r\n    title='COTIZACIONES'\r\n}","import TortasMaster from './TortasMaster'\r\nexport default class CompraPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', 'SIN FACTURA', 'FACTURADA'];\r\n    api = 'Compra';\r\n    title='COMPRAS'\r\n}","import TortasMaster from './TortasMaster'\r\nexport default class NotaPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', 'ENTREGADA', 'FACTURADA'];\r\n    api = 'Nota';\r\n    title='NOTAS DE ENTREGA'\r\n}","import TortasMaster from './TortasMaster'\r\nexport default class FacturaPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', '', 'FACTURADA'];\r\n    api = 'Factura';\r\n    title='FACTURAS'\r\n}","import React from \"react\"\r\nimport Area from \"../../Utiles/Charts/Area\";\r\nexport default class Ventas extends React.Component<{}, { dias: number[][] }>{\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { dias: [] };\r\n    }\r\n    render() {\r\n        return <div className=\"ventas\">\r\n            <Area label={['DIA', 'VENTAS']} values={this.get()} title=\"VENTAS DEL MES\" hAxisTitle=\"DIA DEL MES\" />\r\n        </div>\r\n    }\r\n    get() {\r\n        return this.state.dias.sort((a, b) => a[0] - b[0]).map(d => [d[0] + '', d[1]]);\r\n    }\r\n    async send() {\r\n        let date = new Date();\r\n        let a√±o = date.getFullYear(),\r\n            mes = date.getMonth() + 1;\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Factura/linea/mes/'+ a√±o + '/' + mes, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let dias = await response.json();\r\n            this.setState({ dias });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ dias: [] });\r\n        }\r\n    }\r\n    componentDidMount() { this.send() }\r\n}","import React from \"react\"\r\nimport Chart from \"react-google-charts\"\r\nexport type data = string | number\r\nexport interface AreaProps {\r\n    label: string[]\r\n    values: data[][]\r\n    title?: string\r\n    subtitle?: string\r\n}\r\nexport default function Barras({ label, values, title }: AreaProps) {\r\n    return <Chart\r\n        width={'1fr'}\r\n        height={'37rem'}\r\n        chartType=\"ComboChart\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={[label, ...values,]}\r\n        options={{ title, seriesType: 'bars', legend: { position: 'none' } }}\r\n        rootProps={{ 'data-testid': '2' }}\r\n    />\r\n\r\n}","import React from \"react\"\r\nimport Barras from \"../../Utiles/Charts/Barras\";\r\nexport default class Mejor extends React.Component<{}, { mejor: { ventas: number, mes: string, ano: number }, actual: number }>{\r\n    state = { mejor: { ventas: 0, mes: '', ano: 0 }, actual: 0 };\r\n    render() {\r\n        const { mejor: { ventas, mes, ano }, actual } = this.state;\r\n        return <div className=\"mejor\">\r\n            <Barras title=\"MES ACTUAL VS MEJOR MES\"\r\n                label={['', 'ACTUAL', mes + ' DEL ' + ano]}\r\n                values={[['VENTAS', actual, ventas]]}\r\n            />\r\n        </div>\r\n    }\r\n    componentDidMount() {\r\n        this.send()\r\n    }\r\n    async send() {\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Factura/mejor_mes', { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let datos = await response.json();\r\n            this.setState(datos);\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ mejor: { ventas: 0, mes: '', ano: 0 }, actual: 0 });\r\n        }\r\n    }\r\n}","import React, { useContext } from \"react\"\r\nimport { Row } from \"react-bootstrap\"\r\nimport Dolar from \"./Dolar\"\r\nimport Equilibrio from \"./Equilibrio\"\r\nimport Utilidad from \"./Utilidad\"\r\nimport Contadores from \"./Contadores\"\r\nimport { SeccionContext } from '../../Context/Seccion'\r\nimport \"./Panel.css\";\r\nimport CotizacionPie from \"./Tortas/Cotizacion\"\r\nimport CompraPie from \"./Tortas/Compra\"\r\nimport NotaPie from \"./Tortas/Nota\"\r\nimport FacturaPie from \"./Tortas/Factura\"\r\nimport Ventas from \"./Ventas\"\r\nimport Mejor from \"./Mejor\"\r\nexport default function Panel() {\r\n    const context = useContext(SeccionContext);\r\n    let p: string[] = []\r\n    if (context !== null)\r\n        p = context.data.Permisos;\r\n    return <Row className=\"Dasboard\">\r\n        <Contadores p={p} />\r\n        {p.some(d => d !== 'FACTURA') ? <>\r\n            <Equilibrio p={p} />\r\n            <Utilidad />\r\n        </> : <></>}\r\n        <Dolar p={p} />\r\n        {p.some(d => d !== 'ORDEN') ? <>\r\n            <CompraPie lugar='tortar2' />\r\n        </> : <></>}\r\n        {p.some(d => d !== 'COTIZACION') ? <>\r\n            <CotizacionPie lugar='tortar1' />\r\n        </> : <></>}\r\n        {p.some(d => d !== 'NOTA') ? <>\r\n            <NotaPie lugar='tortar1' />\r\n        </> : <></>}\r\n        {p.some(d => d !== 'FACTURA') ? <>\r\n            <FacturaPie lugar='tortar1' />\r\n        </> : <></>}\r\n        {p.some(d => d !== 'FACTURA') ? <>\r\n            <Ventas />\r\n        </> : <></>}\r\n        {p.some(d => d !== 'FACTURA') ? <>\r\n            <Mejor />\r\n        </> : <></>}\r\n    </Row>\r\n}","import React from \"react\"\r\nimport { ControlText } from '../../Utiles/FormControl'\r\nimport { Button, Card, Col, FormGroup } from 'react-bootstrap'\r\nimport \"./Login.css\";\r\nimport { ConConfig } from \"../../Models/Config\";\r\nimport { SeccionContext } from '../../Context/Seccion'\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nclass Login extends React.Component<{ update: () => void }, { correo: string, clave: string }> {\r\n    state = { correo: \"\", clave: \"\" };\r\n    logo = '/logos/logo.svg';\r\n    render() {\r\n        const { correo, clave } = this.state;\r\n        return <div className=\"login-layoud\" style={{ backgroundImage: 'url(\"/logos/fondo con arbol.jpg\")' }}>\r\n            <div className=\"login-box\">\r\n                <ToastContainer position='bottom-right' />\r\n                <Card border=\"primary\" className=\"card-outline\" style={{ backgroundColor: \"rgba(255, 255, 255, 0.75)\" }} >\r\n                    <Card.Header className=\"text-center\">\r\n                        <Card.Img variant=\"top\" src={this.logo} alt=\"ImgLogin\" />\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Col as={FormGroup} xs={12}>\r\n                            <ControlText before=\"CORREO\" maxLength={150} value={correo} update='correo' setData={this.setState.bind(this)} />\r\n                        </Col>\r\n                        <Col as={FormGroup} xs={12}>\r\n                            <ControlText before=\"CLAVE\" maxLength={150} value={clave} update='clave' setData={this.setState.bind(this)} type=\"password\" />\r\n                        </Col>\r\n                        <Button onClick={this.login.bind(this)} variant=\"primary\" block>ENTRAR</Button>\r\n                    </Card.Body>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    }\r\n    login() {\r\n        const con = ConConfig('');\r\n        con.post('/api/Auth/login', this.state, (data) => {\r\n            localStorage.setItem('Authorization', data.token);\r\n            this.context.user();\r\n        }, e => {\r\n            toast(e.response.error, { type: toast.TYPE.ERROR })\r\n        })\r\n    }\r\n    async Logo() {\r\n        try {\r\n            const rest = await fetch('/api/Auth/getConfig')\r\n            const data = await rest.json();\r\n            this.logo = '/public/imagenes/' + await data.logo;\r\n            this.forceUpdate();\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.Logo();\r\n    }\r\n}\r\nLogin.contextType = SeccionContext;\r\nexport default Login;","import { Conexion } from \"../Config/Coneccion\";\r\n\r\nexport type productoLabel = \"codigo\" | \"descripcion\" | \"departamento\" | \"estatus\" | \"enser\" | \"tipo\" | \"costo\" | \"precio1\" | \"precio3\" | \"cantidad\" | \"unidad\" | \"fecha_creacion\";\r\nexport interface Producto {\r\n    codigo: string,\r\n    departamento: string,\r\n    descripcion: string,\r\n    estatus: number,\r\n    enser: number,\r\n    tipo: number,\r\n    costo: number,\r\n    precio1: number,\r\n    precio2: number,\r\n    precio3: number,\r\n    cantidad: number,\r\n    unidad: number,\r\n    exento: boolean,\r\n    fecha_creacion: string\r\n    tasa: number\r\n    medida: string\r\n    inventario: number\r\n}\r\nexport const ProductoNull: Producto = {\r\n    codigo: \"\",\r\n    departamento: \"TODO\",\r\n    descripcion: \"\",\r\n    estatus: 1,\r\n    enser: 0,\r\n    tipo: -1,\r\n    costo: 1,\r\n    precio1: 1,\r\n    precio2: 1,\r\n    precio3: 1,\r\n    cantidad: 0,\r\n    exento: false,\r\n    unidad: -1,\r\n    fecha_creacion: \"\",\r\n    tasa: 1,\r\n    inventario: 3,\r\n    medida: ''\r\n}\r\nexport type labelAux = 'codigo' | 'descripcion';\r\nexport interface Departamento {\r\n    codigo: string\r\n    descripcion: string\r\n    estatus: number\r\n}\r\nexport interface Unidad {\r\n    codigo: number\r\n    descripcion: string\r\n    estatus: number\r\n}\r\nexport interface Tipo {\r\n    codigo: number\r\n    descripcion: string\r\n    inventario: number\r\n    estatus: number\r\n}\r\n\r\nclass ProductoConexion extends Conexion {\r\n    clase = 'Producto';\r\n    persistencia = 1000;\r\n}\r\nexport function conProducto() {\r\n    return new ProductoConexion();\r\n}\r\n\r\nclass DepartamentoConexion extends Conexion {\r\n    clase = 'Departamento';\r\n    persistencia = 10000;\r\n}\r\nexport function conDepartamento() {\r\n    return new DepartamentoConexion();\r\n}\r\n\r\nclass UnidadConexion extends Conexion {\r\n    clase = 'Unidad';\r\n    persistencia = 10000;\r\n}\r\nexport function conUnidad() {\r\n    return new UnidadConexion();\r\n}\r\n\r\nclass TipoConexion extends Conexion {\r\n    clase = 'Tipo';\r\n    persistencia = 10000;\r\n}\r\nexport function conTipo() {\r\n    return new TipoConexion();\r\n}","import React from 'react'\r\nimport { ConConfig } from '../Models/Config';\r\nimport { Estado, EstadoNull } from '../Models/General';\r\nimport { Departamento, Tipo, Producto, Unidad, conDepartamento, conProducto, conUnidad, conTipo, ProductoNull } from '../Models/Productos'\r\nimport { formatoHora } from '../Utiles/Formatos';\r\nimport { SeccionContext, SeccionType } from './Seccion'\r\ninterface State {\r\n    estProducto: Estado\r\n    estDepartamentos: Estado\r\n    estTipos: Estado\r\n    estUnidades: Estado\r\n    Departamentos: Departamento[]\r\n    Tipos: Tipo[]\r\n    Productos: Producto[]\r\n    Unidades: Unidad[]\r\n    tasa: number,\r\n    dolar: boolean\r\n    impuesto: number\r\n    precio1: number\r\n    precio2: number\r\n    precio3: number\r\n}\r\nexport interface ProductosType extends SeccionType, State {\r\n    actualizar: () => void\r\n    actDepartamento: () => void\r\n    actUnidad: () => void\r\n    actTipo: () => void\r\n    actProducto: () => void\r\n    actConfig: () => void\r\n    findProducto: (c: string) => Producto\r\n}\r\nexport const ProductosContext = React.createContext<ProductosType | null>(null)\r\nclass ProductosProvider extends React.Component<any, State> {\r\n    Departamentos = 0;\r\n    Tipos = 0;\r\n    Productos = 0;\r\n    Unidades = 0;\r\n    dolar = 0;\r\n    constructor(props: any) {\r\n        super(props)\r\n        this.state = {\r\n            Departamentos: [],\r\n            Tipos: [],\r\n            Productos: [],\r\n            Unidades: [],\r\n            estProducto: EstadoNull,\r\n            estDepartamentos: EstadoNull,\r\n            estTipos: EstadoNull,\r\n            estUnidades: EstadoNull,\r\n            tasa: 0,\r\n            dolar: false,\r\n            impuesto: 1,\r\n            precio1: 1,\r\n            precio2: 1,\r\n            precio3: 1,\r\n        }\r\n    }\r\n    render() {\r\n        this.set();\r\n        let seccionContext: SeccionType = this.context;\r\n        return <ProductosContext.Provider value={{\r\n            ...this.state, ...seccionContext,\r\n            actualizar: this.set.bind(this),\r\n            actDepartamento: this.actDepartamento.bind(this),\r\n            actUnidad: this.actUnidad.bind(this),\r\n            actTipo: this.actTipo.bind(this),\r\n            actProducto: this.actProducto.bind(this),\r\n            actConfig: this.configuraciones.bind(this),\r\n            findProducto: this.findProducto.bind(this),\r\n        }}>\r\n            {this.props.children}\r\n        </ProductosContext.Provider>\r\n    }\r\n    componentDidMount() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.length > 0) {\r\n            conProducto().cargarListaCache((data) => { this.setState({ Productos: this.arrayToProducto(data) }) });\r\n            conDepartamento().cargarListaCache((data) => { this.setState({ Departamentos: data }) });\r\n            if (seccionContext.data.Permisos.some(p => (p === 'UNIDAD' || p === 'PRODUCTO')))\r\n                conUnidad().cargarListaCache((data) => { this.setState({ Unidades: data }) });\r\n            if (seccionContext.data.Permisos.some(p => (p === 'TIPO' || p === 'PRODUCTO')))\r\n                conTipo().cargarListaCache((data) => { this.setState({ Tipos: data }) });\r\n        } else {\r\n            setTimeout(() => this.init(), 1000);\r\n        }\r\n    }\r\n    set() {\r\n        this.actDepartamento();\r\n        this.actUnidad();\r\n        this.actTipo();\r\n        this.actProducto();\r\n        this.configuraciones();\r\n    }\r\n    actDepartamento() {\r\n        let seccionContext: SeccionType = this.context;\r\n        if (this.Departamentos !== seccionContext.data.estados.Departamento) {\r\n            this.Departamentos = seccionContext.data.estados.Departamento;\r\n            if (this.state.estUnidades.status !== 2) {\r\n                this.setState({ estDepartamentos: { status: 2, hora: '...ACTUALIZANDO' } });\r\n                conDepartamento().cargarListaWeb((data) => {\r\n                    this.setState({\r\n                        Departamentos: data,\r\n                        estDepartamentos: { status: 3, hora: formatoHora(undefined) }\r\n                    })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    actUnidad() {\r\n        let seccionContext: SeccionType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => (p === 'UNIDAD' || p === 'PRODUCTO'))) {\r\n            if (this.Unidades !== seccionContext.data.estados.Unidad) {\r\n                this.Unidades = seccionContext.data.estados.Unidad;\r\n                if (this.state.estUnidades.status !== 2) {\r\n                    this.setState({ estUnidades: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conUnidad().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Unidades: data,\r\n                            estUnidades: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    actTipo() {\r\n        let seccionContext: SeccionType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => (p === 'TIPO' || p === 'PRODUCTO'))) {\r\n            if (this.Tipos !== seccionContext.data.estados.Tipo) {\r\n                this.Tipos = seccionContext.data.estados.Tipo;\r\n                if (this.state.estTipos.status !== 2) {\r\n                    this.setState({ estTipos: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conTipo().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Tipos: data,\r\n                            estTipos: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    actProducto() {\r\n        let seccionContext: SeccionType = this.context;\r\n        if (this.Productos !== seccionContext.data.estados.Producto) {\r\n            this.Productos = seccionContext.data.estados.Producto;\r\n            if (this.state.estProducto.status !== 2) {\r\n                this.setState({ estProducto: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                conProducto().cargarListaWeb((data) => {\r\n                    this.setState({\r\n                        Productos: this.arrayToProducto(data),\r\n                        estProducto: { status: 3, hora: formatoHora(undefined) }\r\n                    })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    configuraciones() {\r\n        let seccionContext: SeccionType = this.context;\r\n        if (this.dolar !== seccionContext.data.estados.Dolares) {\r\n            this.dolar = seccionContext.data.estados.Dolares;\r\n            ConConfig('').forceGetWeb('/api/Dolares/valor', data => this.setState({ tasa: data }));\r\n            ConConfig('Region').pull(data => this.setState({ impuesto: data.impuesto }));\r\n            ConConfig('costo').pull(data => this.setState({ dolar: data.tasa }));\r\n            ConConfig('utilidades').pull(data => this.setState(data));\r\n        }\r\n    }\r\n    findProducto(cod: string) {\r\n        let pro = this.state.Productos.find(p => cod === p.codigo);\r\n        if (pro !== undefined) {\r\n            let costo2 = pro.costo;\r\n            if (this.dolarValido()) if (pro.tasa !== 0) costo2 = (pro.costo * this.state.tasa / pro.tasa);\r\n            if (pro.costo < 0.01) costo2 = 0.01;\r\n            return { ...pro, costo: costo2, };\r\n        }\r\n        if (this.state.estProducto.status !== 2) this.actProducto();\r\n        return ProductoNull;\r\n    }\r\n    arrayToProducto(p: any[]): Producto[] {\r\n        return p.map(a => {\r\n            return {\r\n                codigo: a[0],\r\n                departamento: a[1],\r\n                descripcion: a[2],\r\n                estatus: a[3],\r\n                enser: a[4],\r\n                tipo: a[5],\r\n                unidad: a[6],\r\n                medida: a[7],\r\n                costo: a[8],\r\n                precio1: a[9],\r\n                precio2: a[10],\r\n                precio3: a[11],\r\n                cantidad: a[12],\r\n                fecha_creacion: a[13],\r\n                inventario: a[14],\r\n                exento: a[15],\r\n                tasa: a[16],\r\n            }\r\n        })\r\n    }\r\n    dolarValido() { return ((this.state.tasa !== 0) && this.state.dolar) }\r\n}\r\nProductosProvider.contextType = SeccionContext;\r\nexport default ProductosProvider;\r\nexport const SeccionConsumer = ProductosContext.Consumer;","import { Conexion } from \"../Config/Coneccion\";\r\n\r\nexport default interface Proveedor {\r\n    codigo: string\r\n    nombre: string\r\n    telefono: string\r\n    correo: string\r\n    contacto: string\r\n    direccion: string\r\n    estatus: number\r\n}\r\nexport var ProveedorNull: Proveedor = {\r\n    codigo: \"\",\r\n    nombre: \"\",\r\n    telefono: \"\",\r\n    correo: \"\",\r\n    contacto: \"\",\r\n    direccion: \"\",\r\n    estatus: 1\r\n}\r\nclass ProveedorConexion extends Conexion {\r\n    clase = 'Proveedor';\r\n    persistencia = 1000;\r\n}\r\nexport function conProveedor() {\r\n    return new ProveedorConexion();\r\n}","import { Conexion } from \"../Config/Coneccion\";\r\nimport Proveedor, { ProveedorNull } from \"./Proveedor\";\r\nexport type ClienteLabel = 'codigo' | 'nombre' | 'telefono' | 'correo' | 'contacto' | 'direccion' | 'estatus' | 'tipo_contribuyente' | 'retencion'\r\nexport default interface Cliente extends Proveedor {\r\n    tipo_contribuyente: string,\r\n    retencion: number\r\n}\r\nexport var ClienteNull: Cliente = {\r\n    ...ProveedorNull,\r\n    tipo_contribuyente: \"ORDINARIO\",\r\n    retencion: 0\r\n}\r\n\r\nclass CienteConexion extends Conexion {\r\n    clase = 'Cliente';\r\n    persistencia = 1000;\r\n}\r\nexport function conCliente() {\r\n    return new CienteConexion();\r\n}","import React from 'react'\r\nimport { conCotizacion, conFactura, conNota } from '../Models/Factura'\r\nimport Cliente, { ClienteNull, conCliente } from '../Models/Cliente'\r\nimport { ProductosContext, ProductosType } from './Producto'\r\nimport { arrayToFilaGeneral, Estado, EstadoNull, GeneralFila } from '../Models/General'\r\nimport { formatoHora } from '../Utiles/Formatos'\r\n\r\ninterface State {\r\n    estCliente: Estado\r\n    estCotizacion: Estado\r\n    estNota: Estado\r\n    estFactura: Estado\r\n    Facturas: GeneralFila[]\r\n    Cotizaciones: GeneralFila[]\r\n    Notas: GeneralFila[]\r\n    Clientes: Cliente[]\r\n}\r\nexport interface VentasType extends ProductosType, State {\r\n    actualizar: () => void\r\n    actCliente: () => void\r\n    actCotizacion: () => void\r\n    actNota: () => void\r\n    actFactura: () => void\r\n    findCliente: (c: string) => Cliente | undefined\r\n}\r\nexport const VentasContext = React.createContext<VentasType | null>(null)\r\nclass VentasProvider extends React.Component<any, State> {\r\n    Facturas = 0;\r\n    Cotizaciones = 0;\r\n    Notas = 0;\r\n    Clientes = 0;\r\n    constructor(props: any) {\r\n        super(props)\r\n        this.state = {\r\n            Facturas: [],\r\n            Cotizaciones: [],\r\n            Notas: [],\r\n            Clientes: [],\r\n            estCliente: EstadoNull,\r\n            estCotizacion: EstadoNull,\r\n            estNota: EstadoNull,\r\n            estFactura: EstadoNull\r\n        }\r\n    }\r\n    render() {\r\n        let seccionContext: ProductosType = this.context;\r\n        this.set();\r\n        return <VentasContext.Provider value={{\r\n            ...this.state, ...seccionContext,\r\n            actualizar: this.set.bind(this),\r\n            actCliente: this.actCliente.bind(this),\r\n            actCotizacion: this.actCotizacion.bind(this),\r\n            actNota: this.actNota.bind(this),\r\n            actFactura: this.actFactura.bind(this),\r\n            findCliente: this.findCliente.bind(this),\r\n        }}>\r\n            {this.props.children}\r\n        </VentasContext.Provider>\r\n    }\r\n    componentDidMount() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.length > 0) {\r\n            if (seccionContext.data.Permisos.some(p => p === 'FACTURA'))\r\n                conFactura().cargarListaCache((data) => { this.setState({ Facturas: arrayToFilaGeneral(data) }) });\r\n            if (seccionContext.data.Permisos.some(p => (p === 'NOTA' || p === 'FACTURA')))\r\n                conNota().cargarListaCache((data) => { this.setState({ Notas: arrayToFilaGeneral(data) }) });\r\n            if (seccionContext.data.Permisos.some(p => (p === 'COTIZACION' || p === 'NOTA' || p === 'FACTURA')))\r\n                conCotizacion().cargarListaCache((data) => { this.setState({ Cotizaciones: arrayToFilaGeneral(data) }) });\r\n            if (seccionContext.data.Permisos.some(p => (p === 'COTIZACION' || p === 'NOTA' || p === 'FACTURA' || p === 'CLIENTE')))\r\n                conCliente().cargarListaCache((data) => { this.setState({ Clientes: this.arrayToClientes(data) }) });\r\n            this.set();\r\n        } else {\r\n            setTimeout(() => { this.init(); }, 1000);\r\n        }\r\n    }\r\n    set() {\r\n        this.actCliente();\r\n        this.actCotizacion();\r\n        this.actNota();\r\n        this.actFactura();\r\n    }\r\n    actCliente() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (this.Clientes !== seccionContext.data.estados.Cliente) {\r\n            this.Clientes = seccionContext.data.estados.Cliente;\r\n            if (this.state.estCliente.status !== 2) {\r\n                this.setState({ estCliente: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                conCliente().cargarListaWeb((data) => {\r\n                    this.setState({\r\n                        Clientes: this.arrayToClientes(data),\r\n                        estCliente: { status: 3, hora: formatoHora(undefined) }\r\n                    })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    actCotizacion() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => (p === 'COTIZACION' || p === 'NOTA' || p === 'FACTURA'))) {\r\n            if (this.Cotizaciones !== seccionContext.data.estados.Cotizacion) {\r\n                this.Cotizaciones = seccionContext.data.estados.Cotizacion;\r\n                if (this.state.estCotizacion.status !== 2) {\r\n                    this.setState({ estCotizacion: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conCotizacion().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Cotizaciones: arrayToFilaGeneral(data),\r\n                            estCotizacion: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    actNota() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => (p === 'NOTA' || p === 'FACTURA'))) {\r\n            if (this.Notas !== seccionContext.data.estados.Nota) {\r\n                this.Notas = seccionContext.data.estados.Nota;\r\n                if (this.state.estNota.status !== 2) {\r\n                    this.setState({ estNota: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conNota().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Notas: arrayToFilaGeneral(data),\r\n                            estNota: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    actFactura() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => p === 'FACTURA')) {\r\n            if (this.Facturas !== seccionContext.data.estados.Factura) {\r\n                this.Facturas = seccionContext.data.estados.Factura;\r\n                if (this.state.estFactura.status !== 2) {\r\n                    this.setState({ estFactura: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conFactura().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Facturas: arrayToFilaGeneral(data),\r\n                            estFactura: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    findCliente(c: string) {\r\n        const cli = this.state.Clientes.find(cli => cli.codigo === c);\r\n        if (cli !== undefined) return cli;\r\n        if (this.state.estCliente.status !== 2) this.actCliente();\r\n        return ClienteNull;\r\n    }\r\n    arrayToClientes(c: any[]): Cliente[] {\r\n        return c.map(a => {\r\n            return {\r\n                codigo: a[0],\r\n                nombre: a[1],\r\n                telefono: a[2],\r\n                correo: a[3],\r\n                contacto: a[4],\r\n                direccion: a[5],\r\n                tipo_contribuyente: a[6],\r\n                retencion: a[7],\r\n                estatus: a[8]\r\n            }\r\n        })\r\n    }\r\n}\r\nVentasProvider.contextType = ProductosContext;\r\nexport default VentasProvider;\r\nexport const SeccionConsumer = VentasContext.Consumer;","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormGroup, FormControl, FormLabel } from 'react-bootstrap'\r\n\r\nimport Cliente, { ClienteNull, conCliente } from '../../Models/Cliente'\r\nimport { ControlArea, ControlText } from '../../Utiles/FormControl'\r\nimport { InputNumber } from '../../Utiles/Inputs'\r\ninterface Props {\r\n    open: boolean\r\n    cliente: Cliente | null\r\n    title: string\r\n    close: () => void\r\n    add?: (c: Cliente) => void\r\n}\r\ninterface State extends Cliente {\r\n    activeError: boolean;\r\n}\r\nexport default class FormCliente extends React.Component<Props, State> {\r\n    error: any = [];\r\n    con = conCliente();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        let state = p.cliente;\r\n        if (state === null) state = ClienteNull;\r\n        this.state = { ...state, activeError: false };\r\n    }\r\n    render() {\r\n        let { setState, state } = this\r\n        return <Modal animation show={this.props.open} size='lg' centered onHide={this.props.close}>\r\n            <Modal.Header className='bg-primary' closeButton>\r\n                <h4 className='mr-auto'>{this.props.title}</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText upper mask='A-99999999-9' maxLength={20}\r\n                            before=\"RIF\" value={state.codigo} setData={setState} update=\"codigo\" disabled={(this.props.cliente !== null)}  error={this.error} />\r\n                    </Col>\r\n                    <Col as={FormGroup} hasValidation={this.error['nivel'] ? true : false} xs={12}>\r\n                        <ControlText error={this.error} upper before=\"RAZON SOCIAL\" maxLength={150}\r\n                            value={state.nombre} setData={setState} update=\"nombre\" />\r\n                    </Col>\r\n                    <Col as={FormGroup}  hasValidation={this.error['nivel'] ? true : false} xs={12}>\r\n                        <ControlText error={this.error} upper before=\"CORREO\" maxLength={150}\r\n                            value={state.correo} setData={setState} update=\"correo\" />\r\n                    </Col>\r\n                    <Col as={FormGroup}   xs={12}>\r\n                        <ControlText  upper maxLength={120}\r\n                            before=\"TEL√âFONO\" value={state.telefono} setData={setState} update=\"telefono\" error={this.error} />\r\n                    </Col>\r\n                    <Col as={FormGroup}  xs={12}>\r\n                        <ControlText  upper before=\"PERSONA DE CONTACTO\"\r\n                            maxLength={50} value={state.contacto} setData={setState} update=\"contacto\" error={this.error} />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>TIPO DE CONTRIBUYENTE</InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl as='select' style={{ width: '120px' }} onChange={this.setContribuyente.bind(this)} value={state.tipo_contribuyente}>\r\n                                <option value=\"ORDINARIO\">ORDINARIO</option>\r\n                                <option value=\"ESPECIAL\">ESPECIAL</option>\r\n                            </FormControl>\r\n                            <InputNumber value={state.retencion} setData={setState} update=\"retencion\" step={0.01}\r\n                                disabled={(state.tipo_contribuyente !== 'ESPECIAL')} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col as={FormGroup} hasValidation={this.error['nivel'] ? true : false} xs={12}>\r\n                        <FormLabel>DIRECCION</FormLabel>\r\n                        <ControlArea error={this.error} upper value={state.direccion} setData={setState} update=\"direccion\" maxLength={300} />\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.get.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> GUARDAR\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    isInvalid(s: string) {\r\n        if (s === \"\")\r\n            return true\r\n        return false\r\n    }\r\n    get() {\r\n        this.error = [];\r\n        let procesar = true;\r\n        if (this.state.codigo === \"\") {\r\n            this.error['codigo'] = 'DEBE COLOCAR EL DOCUMENTO LEGAL DEL CLIENTE';\r\n            procesar = false;\r\n        } if (this.state.nombre === \"\") {\r\n            this.error['nombre'] = 'DEBE COLOCAR LA RAZON SOCIAL';\r\n            procesar = false;\r\n        } if (this.state.telefono === \"\") {\r\n            this.error['telefono'] = 'DEBE COLOCAR NUMERO DE TELEFONO';\r\n            procesar = false;\r\n        } if (this.state.direccion === \"\") {\r\n            this.error['direccion'] = 'DEBE COLOCAR UNA DIRECCION';\r\n            procesar = false;\r\n        } if (this.state.contacto === \"\") {\r\n            this.error['contacto'] = 'DEBE COLOCAR LA PERSONA DE CONTACTO';\r\n            procesar = false;\r\n        }\r\n        if (procesar) {\r\n            if (this.props.cliente === null) this.con.nuevo(this.state, this.action.bind(this))\r\n            else this.con.actualizar(this.props.cliente.codigo, this.state, this.action.bind(this))\r\n    }}\r\n    action(data: any) {\r\n        if (this.props.add) this.props.add(data);\r\n        if (this.props.cliente === null) this.setState(ClienteNull);\r\n        this.props.close();\r\n    }\r\n    setContribuyente(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string;\r\n        this.setState({ tipo_contribuyente: value });\r\n\r\n    }\r\n\r\n\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Cliente, { conCliente } from '../../Models/Cliente';\r\nimport THFila from '../../Utiles/Componentes/THFila';\r\nimport FormCliente from './Form';\r\n// import FormCliente from './FormCliente';\r\n\r\ninterface Props {\r\n    data: Cliente\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    edit: boolean\r\n}\r\nexport default class FilaCliente extends React.Component<Props, State>{\r\n    con = conCliente();\r\n\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { edit: false };\r\n    }\r\n    render() {\r\n        return <tr >\r\n            <THFila width='150px'>\r\n                {this.props.data.codigo}\r\n            </THFila>\r\n            <th>\r\n                <ReactTooltip />\r\n                <FormCliente open={this.state.edit}\r\n                    key={'Editcliente' + this.props.data.codigo}\r\n                    title={'EDITAR DATOS DE ' + this.props.data.nombre}\r\n                    cliente={this.props.data}\r\n                    close={() => { this.setState({ edit: false }) }}\r\n                    add={this.props.update} />\r\n                <Button style={{ whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\" }}\r\n                    data-class=\"toolbody\" data-html=\"true\" data-tip={this.tooltipCliente()} variant=\"link\" >\r\n                    {this.props.data.nombre}\r\n                </Button>\r\n            </th>\r\n            <THFila width='120px'>\r\n                {this.getStatus()}\r\n            </THFila>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={() => { this.setState({ edit: true }) }}>\r\n                        <i className=\"fa fa fa-edit\"></i>\r\n                    </Button>\r\n                    {(this.props.data.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        return <></>;\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    tooltipCliente() {\r\n        let cot = this.props.data\r\n        return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n            \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n            cot.contacto + \"<br />\" +\r\n            \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n            cot.correo + \"<br />\" +\r\n            \"<b>TELEFONO:</b><br />\" +\r\n            cot.telefono\r\n    }\r\n    close() {\r\n        this.setState({ edit: false });\r\n    }\r\n    cancelar() {\r\n        this.con.cancelar(this.props.data.codigo, this.props.update)\r\n        this.close();\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Col, Row } from 'react-bootstrap';\r\nimport { VentasContext } from '../../Context/Ventas';\r\nimport Cliente, { conCliente } from '../../Models/Cliente'\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport FilaCliente from './Fila';\r\nimport FormCliente from './Form';\r\nclass ListaClientes extends CardBuscador {\r\n    con = conCliente();\r\n    placeholder = \"BUSCAR CLIENTE\";\r\n    buscarEn = ['codigo', 'nombre', 'contacto', 'correo', 'telefono'];\r\n    status = -1;\r\n    Avansado() {\r\n        return <Row>\r\n            <Col style={{ minWidth: '230px' }} md={12}>\r\n                <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={this.setStatus.bind(this)} className=\"form-control\" value={this.status}>\r\n                    <option value={-1}>TODOS LOS ESTADOS</option>\r\n                    <option value={0}>INACTIVO</option>\r\n                    <option value={1}>ACTIVO</option>\r\n                </select>\r\n            </Col>\r\n        </Row>;\r\n    }\r\n    Title() {\r\n        return <>\r\n            <FormCliente open={this.state.modal} title='NUEVO CLIENTE' cliente={null}\r\n                close={() => { this.setState({ modal: false }) }} add={this.set.bind(this)} />\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR CLIENTE</h4>\r\n            <Button onClick={() => { this.setState({ modal: true }) }}><i className=\"fa fa-edit\"></i> NUEVO CLIENTE</Button>\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th width='150px' label='codigo'>CI/RIF</Th>\r\n            <Th width='calc(100% - 385px)' label='nombre'>NOMBRE</Th>\r\n            <Th width='120px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(d: Cliente) {\r\n        return <FilaCliente key={d.codigo + d.estatus} update={this.set.bind(this)} data={d} />\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        if (this.status !== -1) itens = itens.filter(i => { return (i.estatus === this.status); })\r\n        return itens;\r\n    }\r\n    setStatus(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.status = parseInt(value);\r\n        this.forceUpdate();\r\n    }\r\n    getItens() { return this.context.Clientes; }\r\n    set() { this.context.actCliente(); }\r\n    getEstado() { return this.context.estCliente; }\r\n}\r\nListaClientes.contextType = VentasContext;\r\nexport default ListaClientes\r\n","import React from 'react';\r\nimport { Modal, Row } from 'react-bootstrap';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    url: string,\r\n    title: string\r\n}\r\nexport default function ModalPrint({ title, close, url, open }: Props) {\r\n    return <Modal show={open} size='xl' centered onHide={close}>\r\n        <Modal.Header closeButton>\r\n            <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                <span><b>{title}</b></span>\r\n            </h6>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Row>\r\n                <iframe src={url} width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0'></iframe>\r\n            </Row>\r\n        </Modal.Body>\r\n    </Modal>\r\n}","import React from 'react'\r\nimport { Table, Modal, Row, Button, Col, InputGroup, FormControl } from 'react-bootstrap';\r\nimport { conCotizacion } from '../../Models/Factura';\r\nimport { formatoFecha, formatoHora } from '../Formatos';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    id: number,\r\n    type: 'Cotizacion' | 'Orden'\r\n}\r\ninterface Seguimiento {\r\n    descripcion: string,\r\n    usuario: string,\r\n    fecha: string,\r\n    correo: string\r\n}\r\ninterface State {\r\n    mensajes: Seguimiento[],\r\n    msn: string\r\n}\r\nclass FilaSeguimiento extends React.Component<{ seguimiento: Seguimiento }> {\r\n    render() {\r\n        let { descripcion, usuario, fecha, correo } = this.props.seguimiento;\r\n        return <tr>\r\n            <th style={{ width: \"300px\", maxWidth: \"300px\" }}>\r\n                {usuario}<br />{correo}\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {formatoFecha(fecha)}<br />\r\n                {formatoHora(fecha)}\r\n            </th>\r\n            <th>\r\n                {descripcion}\r\n            </th>\r\n        </tr>\r\n    }\r\n}\r\nexport default class Seguimientos extends React.Component<Props, State> {\r\n    ref = React.createRef<HTMLDivElement>()\r\n    msn: any = undefined\r\n    con = conCotizacion();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { msn: \"\", mensajes: [] };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { mensajes } = this.state\r\n        return <Modal size=\"xl\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>BITACORA DE COTIZACI√ìN N¬∞ {this.props.id}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <Table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style={{ width: \"300px\" }}>USUARIO</th>\r\n                                    <th style={{ width: \"100px\" }}>FECHA</th>\r\n                                    <th>MENSAJE</th>\r\n                                </tr>\r\n                            </thead>\r\n                        </Table>\r\n                        <div ref={this.ref} style={{ overflowY: \"auto\", height: 400, maxHeight: 400, width: \"100%\" }}>\r\n                            <Table>\r\n                                <tbody>\r\n                                    {mensajes.map((s, i) => {\r\n                                        return <FilaSeguimiento key={s.usuario + i} seguimiento={s} />\r\n                                    })}\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xs={12}>\r\n                        <InputGroup>\r\n                            <InputGroup.Prepend>\r\n                                <InputGroup.Text>MENSAJE</InputGroup.Text>\r\n                            </InputGroup.Prepend>\r\n                            <FormControl onKeyUp={this.setMsn.bind(this)} defaultValue={this.state.msn} />\r\n                            <InputGroup.Append>\r\n                                <Button onClick={this.enviar.bind(this)}>\r\n                                    <span className=\"fa fa-send\"></span>\r\n                                </Button>\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    setMsn(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        let { value } = e.currentTarget\r\n        if (this.msn === undefined)\r\n            this.msn = e.currentTarget\r\n        this.setState({ msn: value })\r\n        if (e.keyCode === 13) {\r\n            this.enviar()\r\n        }\r\n    }\r\n    enviar() {\r\n        this.sent();\r\n        let m = this.state.mensajes,\r\n            date = new Date().toDateString();\r\n        let fecha = formatoFecha(date) + \" \" + formatoHora(date);\r\n        this.setState({\r\n            mensajes: [...m, {\r\n                descripcion: this.state.msn,\r\n                fecha, usuario: \"\", correo: \"\"\r\n            }]\r\n        })\r\n        this.clear()\r\n    }\r\n    clear() {\r\n        if (this.msn !== undefined)\r\n            this.msn.value = ''\r\n    }\r\n    componentWillReceiveProps(p: Props) {\r\n        if (this.props.open !== p.open && p.open === true) this.set();\r\n    }\r\n    actualizar() {\r\n        this.set();\r\n        setTimeout(() => {\r\n            this.actualizar()\r\n        }, 36000);\r\n    }\r\n    sent() {\r\n        this.con.post('/api/' + this.props.type + '/seguimiento_nuevo/' + this.props.id,\r\n            { descripcion: this.state.msn },\r\n            data => { this.set(); });\r\n    }\r\n    async set() {\r\n        this.con.forceGetWeb('/api/' + this.props.type + '/seguimiento/' + this.props.id, (data) => {\r\n            this.setState({ mensajes: data })\r\n        });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, ButtonGroup, Modal, Row } from 'react-bootstrap';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    title: string\r\n    msn: string\r\n    accion: () => void\r\n    variant?: string\r\n}\r\nexport default function ModalAlert({ title, close, msn, open, accion, variant = 'warning' }: Props) {\r\n    return <Modal show={open} onHide={close} centered className=' modal-warning' >\r\n        <Modal.Header style={{ borderRadius: 0 }} className={'bg-' + variant} closeButton>\r\n            <h4 className=\"m-0 font-weight-bold mr-auto align-self-center\">\r\n                <span><b>{title}</b></span>\r\n            </h4>\r\n        </Modal.Header>\r\n        <Modal.Body >\r\n            <Row style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                {msn}\r\n            </Row>\r\n        </Modal.Body>\r\n        <Modal.Footer >\r\n            <ButtonGroup className=\"float-right\">\r\n                <Button onClick={() => { accion(); close() }} variant=\"success\">\r\n                    <span className=\"fa fa-check-circle-o\"></span> Aceptar\r\n                </Button>\r\n                <Button onClick={close} variant=\"danger\">\r\n                    <span className=\"fa fa-remove-circle\"></span> Cancelar\r\n                </Button>\r\n            </ButtonGroup>\r\n        </Modal.Footer>\r\n    </Modal>\r\n}","import React from 'react'\r\nimport { Modal, Row, Table } from 'react-bootstrap';\r\nimport { GeneralData, generalNull, tipoData } from '../../Models/General';\r\nimport { numberFormat } from '../Formatos';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n    tipo: tipoData\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, GeneralData> {\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = generalNull; \r\n    }\r\n    render() {\r\n        let { detalles } = this.state;\r\n        let suma = 0;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal size='xl' centered animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row style={{ padding: '0px 30px 0px 30px' }}>\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>COD</th>\r\n                                <th>DESCRIPCION</th>\r\n                                <th style={{ width: \"40px\", textAlign: \"right\" }}>CANT</th>\r\n                                <th style={{ width: \"80px\", textAlign: \"right\" }}>PRE/UNT</th>\r\n                                <th style={{ width: \"150px\", textAlign: \"right\" }}>PRECIO</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                suma += s.precio * s.unidades\r\n                                return <tr>\r\n                                    <td style={{ width: \"100px\" }}>{s.codigo}</td>\r\n                                    <td>{s.descripcion}</td>\r\n                                    <td style={{ width: \"40px\" }}>{numberFormat(s.unidades)}</td>\r\n                                    <td style={{ width: \"80px\", textAlign: \"right\" }}>{numberFormat(s.precio)}</td>\r\n                                    <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(s.precio * s.unidades)}</td>\r\n                                </tr>\r\n                            })}\r\n                            <tr>\r\n                                <td colSpan={3}></td>\r\n                                <td style={{ width: \"80px\", textAlign: \"right\" }}><b>TOTAL:</b></td>\r\n                                <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(suma)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        fetch('/api/' + this.props.tipo + '/detalles/' + this.props.id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState(data);\r\n                this.forceUpdate();\r\n            });\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { GeneralFila, tipoData } from '../../Models/General';\r\nimport ModalPrint from '../Componentes/ModalPrint';\r\nimport ModalAlert from '../Componentes/ModalAlert';\r\nimport ModalDetalle from '../Componentes/ModalDetalle';\r\nimport { formatoFecha, numberFormat, zfill } from '../Formatos';\r\nimport { Conexion } from '../../Config/Coneccion';\r\nimport { conCotizacion } from '../../Models/Factura';\r\nimport THFila from '../Componentes/THFila';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface Props {\r\n    data: GeneralFila\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    print: boolean\r\n    detalles: boolean\r\n    aux: boolean\r\n    eliminar: boolean\r\n}\r\nexport default class FilaProto extends React.Component<Props, State>{\r\n    con: Conexion = conCotizacion();\r\n    Label: 'COTIZACI√ìN' | 'COMPRA' | 'FACTURA' | 'NOTA DE ENTREGA' | 'ORDEN DE COMPRA' = 'COTIZACI√ìN';\r\n    tipo: tipoData = 'Nota';\r\n    print = true;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { print: false, detalles: false, aux: false, eliminar: false };\r\n    }\r\n    render() {\r\n        let cot = this.props.data,\r\n            maxWidth = window.innerWidth - 890;\r\n        return <tr >\r\n            <th style={{ minWidth: \"90px\", width: \"90px\", maxWidth: \"90px\" }}>\r\n                {this.tipo !== 'Cotizacion' ? <ModalDetalle key={'ModalDetalle' + this.tipo + cot.codigo}\r\n                    tipo={this.tipo} titulo={\"DETALLES DE LA \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    id={cot.codigo} open={this.state.detalles} close={this.close.bind(this)}\r\n                /> : <></>}\r\n                <Button data-tip=\"VER DETALLEA\" onClick={() => { this.setState({ detalles: true }) }} variant=\"link\" >\r\n                    {zfill(cot.codigo)}\r\n                </Button>\r\n            </th>\r\n            <THFila width=\"90px\" align='center'>{formatoFecha(cot.fecha)}</THFila>\r\n            <th>\r\n                <ReactTooltip />\r\n                <Button style={{ maxWidth, whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\" }}\r\n                    data-class=\"toolbody\" data-html=\"true\" data-tip={this.tooltipCliente()} variant=\"link\" >\r\n                    {cot.nombre}\r\n                </Button>\r\n            </th>\r\n            <THFila width=\"160px\" align='right'>{numberFormat(cot.monto)}</THFila>\r\n            <THFila width=\"100px\" align='center'>{this.getStatus()}</THFila>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                {this.print ? <ModalPrint title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)}\r\n                    url={\"/api/\" + this.tipo + \"/PDF/\" + cot.codigo} key={'ModalPrint' + this.tipo + cot.codigo}\r\n                    open={this.state.print} close={this.close.bind(this)} /> : <></>}\r\n                <ModalAlert title={\"ELIMINAR \" + this.Label + \" N¬∞ \" + zfill(cot.codigo)} key={'ModalAlert' + this.tipo + cot.codigo}\r\n                    msn={\"ESTA SEGURO QUE ELIMINARA LA \" + this.Label + \" N¬∞\" + cot.codigo + \"?\"}\r\n                    open={this.state.eliminar} close={this.close.bind(this)} accion={this.cancelar.bind(this)} />\r\n                {this.getModal()}\r\n                {this.getButtons()}\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        return <></>;\r\n    }\r\n    getStatus() {\r\n        return <span className=\"badge badge-danger\">CANCELADA</span>\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"float-right\">\r\n            <Button data-tip=\"VER IMPRESION\" variant=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"fa fa-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" variant=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"fa fa fa-check-circle-o\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    tooltipCliente() {\r\n        return \"\"\r\n    }\r\n    close() {\r\n        this.setState({ print: false, detalles: false, aux: false, eliminar: false });\r\n    }\r\n    cancelar() {\r\n        this.con.cancelar(this.props.data.codigo, () => {\r\n            if (this.props.update) this.props.update();\r\n            toast(this.cancelado(), { type: toast.TYPE.SUCCESS });\r\n        })\r\n        this.close();\r\n    }\r\n    cancelado() {\r\n        return '';\r\n    }\r\n}","import { VentasContext } from '../../Context/Ventas';\r\nimport Cliente from '../../Models/Cliente';\r\nimport FilaProto from './FilaProto';\r\nclass FilaVentas extends FilaProto {\r\n    tooltipCliente() {\r\n        let cli: Cliente = this.context.findCliente(this.props.data.rif);\r\n        if (cli)\r\n            return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n                \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n                cli.contacto + \"<br />\" +\r\n                \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n                cli.correo + \"<br />\" +\r\n                \"<b>TELEFONO:</b><br />\" +\r\n                cli.telefono\r\n        return '';\r\n    }\r\n}\r\nFilaVentas.contextType = VentasContext;\r\nexport default FilaVentas","import React from 'react'\r\nimport { Button, Modal, Row, Table } from 'react-bootstrap';\r\nimport { conCotizacion, Cotizacion } from '../../Models/Factura';\r\nimport { condicionesNull } from '../../Models/General';\r\nimport { numberFormat } from '../../Utiles/Formatos';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, Cotizacion> {\r\n    con = conCotizacion();\r\n    state = { ...condicionesNull, cod_cliente: '', plantilla: 0, tasa: 1, dolar: false };\r\n    render() {\r\n        let { detalles, tasa, dolar } = this.state;\r\n        let suma = 0;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal size='xl' centered dialogClassName=\"modal-detalle\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    {dolar ? <Button data-tip=\"CAMBIAR A BOLIVARES\" style={{ marginRight: \"15px\" }} variant=\"warning\"\r\n                        className=\"btn-block\" onClick={() => { this.setState({ dolar: !dolar }) }} >\r\n                        <span className=\"fa fa-usd\" /> VISTA EN DOLARES\r\n                    </Button> : <Button data-tip=\"CAMBIAR A DOLARES\" style={{ marginRight: \"15px\" }} variant=\"primary\"\r\n                        className=\"btn-block\" onClick={() => { this.setState({ dolar: !dolar }) }} >\r\n                        <b>BS</b> VISTA EN BOLIVARES\r\n                    </Button>}\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>COD</th>\r\n                                <th>DESCRIPCION</th>\r\n                                <th style={{ width: \"40px\", textAlign: \"right\" }}>CANT</th>\r\n                                <th style={{ width: \"80px\", textAlign: \"right\" }}>P.U.</th>\r\n                                <th style={{ width: \"150px\", textAlign: \"right\" }}>TOTAL</th>\r\n                                <th>NOTA</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                let { precio, unidades } = s;\r\n                                if (dolar) precio = precio / tasa\r\n                                suma += precio * unidades\r\n                                return <tr>\r\n                                    <td style={{ width: \"100px\" }}>{s.codigo}</td>\r\n                                    <td>{s.descripcion}</td>\r\n                                    <td style={{ width: \"40px\" }}>{numberFormat(unidades)}</td>\r\n                                    <td style={{ width: \"80px\", textAlign: \"right\" }}>{numberFormat(precio)}</td>\r\n                                    <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(precio * unidades)}</td>\r\n                                    <td>{s.comentario}</td>\r\n                                </tr>\r\n                            })}\r\n                            <tr>\r\n                                <td colSpan={3}></td>\r\n                                <td style={{ width: \"80px\", textAlign: \"right\" }}>total:</td>\r\n                                <td style={{ width: \"150px\", textAlign: \"right\" }}>{numberFormat(suma)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        this.con.detalle(this.props.id, this.setState.bind(this));\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { Button, Modal, Row } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    codigo: string,\r\n    title: string\r\n}\r\nexport default function ModalPrint({ title, close, codigo, open }: Props) {\r\n    const [dolar, setDolar] = useState(false);\r\n    return <Modal show={open} onHide={close} size='xl'>\r\n        <Modal.Header closeButton>\r\n            <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                <span><b>{title}</b></span>\r\n            </h6>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Row>\r\n                <ReactTooltip />\r\n                <Button style={{ marginRight: \"15px\" }} className=\"btn-block\" onClick={() => setDolar(!dolar)}\r\n                    data-tip={dolar ? \"CAMBIAR A BOLIVARES\" : \"CAMBIAR A DOLARES\"} variant={dolar ? \"warning\" : \"primary\"}>\r\n                    {dolar ? <><span className=\"fa fa-usd\" />VISTA EN DOLARES</> : <><b>BS</b> VISTA EN BOLIVARES</>}\r\n                </Button>\r\n                <iframe src={\"/api/Cotizacion/\" + (dolar ? 'PDFD' : 'PDF') + \"/\" + codigo}\r\n                    width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n            </Row>\r\n        </Modal.Body>\r\n    </Modal>\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport { conCotizacion } from '../../Models/Factura';\r\nimport ModalPrint from '../../Utiles/Componentes/ModalPrint';\r\nimport Seguimientos from '../../Utiles/Componentes/Seguimiento';\r\nimport { zfill } from '../../Utiles/Formatos';\r\nimport FilaVentas from '../../Utiles/Prototipos/FilaVentas';\r\nimport ModalDetalle from './ModalDetalle';\r\nimport PrintDolar from './ModalPrint';\r\n\r\nexport default class FilaCotizacio extends FilaVentas {\r\n    con = conCotizacion();\r\n    print = false;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'COTIZACI√ìN';\r\n        this.tipo = 'Cotizacion';\r\n    }\r\n    getModal() {\r\n        let { codigo, tasa } = this.props.data;\r\n        return <>\r\n            {(tasa > 0) ? <PrintDolar title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(codigo)}\r\n                codigo={zfill(codigo)}\r\n                key={'PrintDolar' + this.tipo + codigo}\r\n                open={this.state.print} close={this.close.bind(this)} /> : <ModalPrint\r\n                key={'ModalPrint' + this.tipo + codigo}\r\n                title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(codigo)}\r\n                url={\"/api/\" + this.tipo + \"/PDF/\" + codigo}\r\n                open={this.state.print} close={this.close.bind(this)} />}\r\n            <Seguimientos\r\n                key={'Seguimientos' + this.tipo + codigo}\r\n                type='Cotizacion'\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n            <ModalDetalle\r\n                key={'ModalDetalle' + this.tipo + codigo}\r\n                titulo={\"DETALLES DE LA COTIZACI√ìN N¬∞ \" + zfill(codigo)}\r\n                id={codigo}\r\n                open={this.state.detalles}\r\n                close={this.close.bind(this)} />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 1:\r\n                return <span className=\"badge badge-warning\">PENDIENTE</span>\r\n            case 2:\r\n                return <span className=\"badge badge-success\">PROCESADA</span>\r\n            default:\r\n                return <span className=\"badge badge-danger\">CANCELADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"float-right\">\r\n            <Button data-tip=\"VER SEGUIMIENTO\" variant=\"outline-dark\"\r\n                onClick={() => { this.setState({ aux: true }) }} >\r\n                <i className=\"fa fa-eye\"></i>\r\n            </Button>\r\n            <Button data-tip=\"VER IMPRECION\" variant=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"fa fa-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" variant=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"fa fa-ban\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    cancelado() {\r\n        return 'COTIZACION N¬∞ ' + this.props.data.codigo + ' CANCELADA ESXITOSAMENTE';\r\n    }\r\n}","\r\nimport React from 'react'\r\nimport { Button, FormControl } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { numberFormat } from '../../../Utiles/Formatos'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles { }\r\nexport default class FilaCompra extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 1, comentario: '' };\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={.01} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='170px'><InputNumber min={.01} step='0.01' setData={this.setState} value={precio} update=\"precio\" /></THInput>\r\n            <THInput width='220px'><FormControl disabled value={numberFormat(parseFloat((precio * unidades).toFixed(2)))} /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => { this.props.add(this.state) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n\r\n\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\ninterface PropsFila {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n    color?: string\r\n}\r\nexport default class FilaSeleccion extends React.Component<PropsFila>{\r\n    render() {\r\n        let { producto: { codigo, descripcion } } = this.props\r\n        return <tr>\r\n            <th>{codigo}</th>\r\n            <th>{descripcion}</th>\r\n            <th>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => { this.props.add({ ...this.props.producto, unidades: 1, comentario: '', precio: 1 }) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </th>\r\n        </tr >\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { Button, FormControl } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { numberFormat } from '../../../Utiles/Formatos'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nclass FilaFactura extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        let { costo, precio2 } = p.producto;\r\n        this.state = {\r\n            ...p.producto,\r\n            unidades: 1,\r\n            comentario: '',\r\n            precio: parseFloat((costo * (1 + (precio2 / 100))).toFixed(2))\r\n        }\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        const { data: { User: { nivel } }, findProducto } = this.context as ProductosType;\r\n        const { unidades, precio, codigo } = this.state;\r\n        const { costo, precio1, precio2, precio3, descripcion, cantidad, inventario } = findProducto(codigo);\r\n        let p = (nivel === 0) ? costo.toFixed(2) : (costo * (1 + precio1 / 100)).toFixed(2);\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={.01} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /> </THInput>\r\n            <THInput width='120px'><FormControl style={{ textAlign: 'right' }} disabled value={(inventario === 1) ? 'NO APLICA' : numberFormat(cantidad)} /> </THInput>\r\n            <THInput width='180px'>\r\n                <InputNumber step='0.01' list={costo + 'list'} setData={this.setState} update=\"precio\"\r\n                    min={parseFloat(p)} value={precio} />\r\n                <datalist id={costo + 'list'}>\r\n                    <option>{(costo * (1 + (precio1 / 100))).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + (precio2 / 100))).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + (precio3 / 100))).toFixed(2)}</option>\r\n                </datalist>\r\n            </THInput>\r\n            <THInput width='230px'><FormControl disabled value={numberFormat((precio * unidades))} /> </THInput>\r\n            <THInput width='70px'>\r\n                {(cantidad === 0) ? <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => { this.props.add(this.state) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button> : <></>}\r\n            </THInput>\r\n        </tr>\r\n    }\r\n}\r\nFilaFactura.contextType = ProductosContext;\r\nexport default FilaFactura","\r\nimport React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nexport default class FilaEntrada extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 0, comentario: '' };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { unidades, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={0} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => this.add(unidades)} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    add(unidades: number) {\r\n        if (unidades !== 0) this.props.add(this.state)\r\n        else toast('DEBE UNGRESAR UNA CANTIDAD AL PRODUCTO', { type: toast.TYPE.ERROR });\r\n    }\r\n}","\r\nimport React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nexport default class FilaPrecio extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 1, comentario: '' };\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { precio, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='180px'><InputNumber min={.01} step='0.01' setData={this.setState} value={precio} update=\"precio\" /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => { this.props.add(this.state) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n\r\n}","\r\nimport React from 'react'\r\nimport { Button, FormControl } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { numberFormat } from '../../../Utiles/Formatos'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { toast } from 'react-toastify'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nexport default class FilaSalida extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 0, comentario: '' };\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, cantidad, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={0} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='120px'><FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(cantidad)} /></THInput>\r\n            <THInput width='70px'>\r\n                {(cantidad === 0) ? <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => this.add(unidades)} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button> : <></>}\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    add(unidades: number) {\r\n        if (unidades !== 0) this.props.add(this.state)\r\n        else toast('DEBE UNGRESAR UNA CANTIDAD AL PRODUCTO', { type: toast.TYPE.ERROR });\r\n    }\r\n}","\r\nimport React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nclass FilaUtilidad extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, precio: p.producto.costo, unidades: 1, comentario: '' };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { state: { codigo, descripcion, precio1, precio2, precio3 }, setState, } = this;\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='150px'><InputNumber min={.01} step='0.01' setData={setState} value={precio1} update=\"precio1\" /></THInput>\r\n            <THInput width='150px'><InputNumber min={.01} step='0.01' setData={setState} value={precio2} update=\"precio2\" /></THInput>\r\n            <THInput width='150px'><InputNumber min={.01} step='0.01' setData={setState} value={precio3} update=\"precio3\" /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => { this.props.add(this.state) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    componentDidMount() {\r\n        let { precio1, precio2, precio3 } = this.context as ProductosType;\r\n        this.setState({ precio1, precio2, precio3 })\r\n    }\r\n}\r\nFilaUtilidad.contextType = ProductosContext;\r\nexport default FilaUtilidad","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n}\r\nclass FilaCotizacion extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        let { costo, precio2 } = p.producto;\r\n        this.state = {\r\n            ...p.producto,\r\n            unidades: 1,\r\n            comentario: '',\r\n            precio: parseFloat((costo * (1 + precio2 / 100)).toFixed(2))\r\n        }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        const { data: { User: { nivel } } } = this.context as ProductosType;\r\n        const { unidades, precio, codigo, costo, precio1, precio2, precio3, descripcion } = this.state;\r\n        let p = (nivel === 0) ? costo.toFixed(2) : (costo * (1 + precio1 / 100)).toFixed(2);\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={1} setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='180px'>\r\n                <InputNumber step='0.01' list={codigo + 'list'} min={parseFloat(p)}\r\n                    setData={this.setState} value={precio} update=\"precio\" />\r\n                <datalist id={codigo + 'list'}>\r\n                    <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                </datalist>\r\n            </THInput>\r\n            <THInput width='230px'><InputNumber disabled setData={() => { }} value={precio * unidades} /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => this.props.add(this.state)} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n}\r\nFilaCotizacion.contextType = ProductosContext;\r\nexport default FilaCotizacion;","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Producto,\r\n    add: (iten: Detalles) => void\r\n    tasa: number\r\n}\r\nclass FilaDolar extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        let { costo, precio2 } = p.producto;\r\n        this.state = {\r\n            ...p.producto,\r\n            unidades: 1,\r\n            comentario: '',\r\n            precio: parseFloat((costo * (1 + precio2 / 100)).toFixed(2))\r\n        }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        const { data: { User: { nivel } }, tasa, findProducto } = this.context as ProductosType;\r\n        const { state: { unidades, precio, codigo } } = this;\r\n        const { costo, precio1, precio2, precio3, descripcion } = findProducto(codigo);\r\n        let costoDolar = costo / tasa,\r\n            precioDolar = parseFloat((precio / tasa).toFixed(2)),\r\n            precio1Dolar = parseFloat((costoDolar * (1 + precio1 / 100)).toFixed(2)),\r\n            precio2Dolar = parseFloat((costoDolar * (1 + precio2 / 100)).toFixed(2)),\r\n            precio3Dolar = parseFloat((costoDolar * (1 + precio3 / 100)).toFixed(2));\r\n        let p = (nivel === 0) ? costoDolar.toFixed(2) : (costoDolar * (1 + precio1 / 100)).toFixed(2);\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={.01} step='.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='180px'>\r\n                <InputNumber step='0.01' list={codigo + 'list'} min={parseFloat(p)}\r\n                    setData={this.setPrecio.bind(this)} value={precioDolar} update=\"precio\" />\r\n                <datalist id={codigo + 'list'}>\r\n                    <option>{precio1Dolar}</option>\r\n                    <option>{precio2Dolar}</option>\r\n                    <option>{precio3Dolar}</option>\r\n                </datalist>\r\n            </THInput>\r\n            <THInput width='230px'><InputNumber disabled setData={() => { }} value={(precio / tasa) * unidades} update=\"p\" /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"AGREGAR PRODUCTO\" onClick={() => this.props.add(this.state)} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    setPrecio(data: { precio: number }) {\r\n        this.setState({ precio: data.precio * this.context.tasa });\r\n    }\r\n}\r\nFilaDolar.contextType = ProductosContext;\r\nexport default FilaDolar;","import React, { useContext } from 'react';\r\nimport { FormControl } from 'react-bootstrap';\r\nimport { ProductosContext } from '../../Context/Producto';\r\ninterface Props {\r\n    change: (r: string) => void,\r\n    defaultValue: string,\r\n    width?: string\r\n    tipo?: 'TODOS LOS ' | 'SELECCIONAR'\r\n    isInvalid?: boolean\r\n}\r\nexport default function DepartamentoSelector({ change, defaultValue, width, tipo = 'TODOS LOS ', isInvalid }: Props) {\r\n    const context = useContext(ProductosContext)\r\n    const setRol = (Rol: React.ChangeEvent<HTMLSelectElement>) => { change(Rol.currentTarget.value) }\r\n    return <FormControl as='select' style={{ width }} onChange={setRol} value={defaultValue} isInvalid={isInvalid}>\r\n        <option value='TODO'>{tipo} DEPARTAMENTO</option>\r\n        {(context !== null) ? context.Departamentos.map(c => {\r\n            return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n        }) : <></>}\r\n    </FormControl>\r\n}","import React from \"react\";\r\nimport { Button, Col, Modal, Spinner } from \"react-bootstrap\";\r\nimport { Conexion } from \"../../Config/Coneccion\";\r\nimport { conCotizacion } from \"../../Models/Factura\";\r\nimport { EstadoNull } from \"../../Models/General\";\r\nimport Tabla from \"../Tabla\";\r\ninterface Props {\r\n    title?: string\r\n    open: boolean,\r\n    close: () => void\r\n    add: (d: any) => void\r\n}\r\nexport default class ModalBusqueda<p = {}> extends Tabla<Props & p>{\r\n    con: Conexion = conCotizacion();\r\n    variant = 'bg-info';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Title = this.Title.bind(this);\r\n    }\r\n    Title() {\r\n        return <></>;\r\n    }\r\n    render() {\r\n        let { Body, Buscador, Title, props: { open, close } } = this;\r\n        return <Modal show={open} onHide={close} size='xl'>\r\n            <Modal.Header className={this.variant} closeButton>\r\n                <Title />\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div style={{ padding: \"10px 10px 10px 10px\", overflowX: 'scroll' }}>\r\n                    <Buscador />\r\n                    <Body />\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    set() { this.con.cargarListaWeb((itens) => { this.setState({ itens }) }); }\r\n    componentDidMount() { this.set(); }\r\n    getEstado() { return EstadoNull; }\r\n    Actualizar() {\r\n        const { status, hora } = this.getEstado();\r\n        return <Col md={3} className='mr-auto d-flex flex-row-reverse'>\r\n            <Button size='sm' onClick={this.set.bind(this)} disabled={status === 2} data-tip=\"ACTUALIZAR LISTA\" variant=\"info\">\r\n                {(status === 2) ? <><Spinner animation=\"border\" size='sm' role=\"status\" /></> : <><i className=\"fa fa-refresh\"></i> ACTUALIZAR</>}\r\n            </Button>\r\n            <div style={{ fontSize: '12px', width: \"200px\", paddingLeft: '15px' }}>\r\n                <strong>ACTUALIZADO:</strong> <br />\r\n                {hora}\r\n            </div>\r\n        </Col>\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { Detalles } from '../../../Models/General';\r\nimport { conProducto, Producto } from '../../../Models/Productos';\r\nimport FilaCompra from './FilaCompra';\r\nimport FilaSeleccion from './FilaSeleccion';\r\nimport FilaFactura from './FilaFactura';\r\nimport FilaEntrada from './FilaEntrada';\r\nimport FilaPrecio from './FilaPrecio';\r\nimport FilaSalida from './FilaSalida';\r\nimport FilaUtilidad from './FilaUtilidad';\r\nimport FilaCotizacion from './FilaCotizacion';\r\nimport FilaDolar from './FilaDolar';\r\nimport DepartamentoSelector from '../../Departamento/Selector';\r\nimport ModalBusqueda from '../../../Utiles/Buscadores/Modal';\r\nimport { InputText } from '../../../Utiles/Inputs';\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto';\r\ninterface Props {\r\n    type: 'Cotizacion' | 'Compra' | 'Factura' | 'Nota' | 'Orden' | 'SALIDA' | 'ENTRADA' | 'COSTO' | 'UTILIDAD' | 'Seleccion';\r\n    add: (p: Detalles) => void\r\n    dolar?: boolean\r\n}\r\nclass BuscarProducto extends ModalBusqueda<Props> {\r\n    con = conProducto();\r\n    buscarEn = ['codigo', 'descripcion'];\r\n    departamento: string = 'TODO';\r\n    Title() { return <h4 className='mr-auto'>BUSCAR PRODUCTOS</h4> }\r\n    setDepartamento(departamento: string) {\r\n        this.departamento = departamento;\r\n        this.forceUpdate();\r\n    }\r\n    Buscador() {\r\n        return <Row style={{ marginBottom: '15px' }}>\r\n            <Col md={9}>\r\n                <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            {this.buscarLabel}\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputText className='form-control' upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                    <DepartamentoSelector width='300px' defaultValue={this.departamento} change={this.setDepartamento.bind(this)} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\">\r\n                            <span className=\"fa fa-search\"></span> BUSCAR\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Col>\r\n            {this.Actualizar()}\r\n        </Row>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='90px'>COD</Th>\r\n            <Th label='descripcion' width='auto'>DESCRIPCION</Th>\r\n            {this.head()}\r\n            <Th width='40px'> </Th>\r\n        </tr>\r\n    }\r\n    Row(c: Producto) {\r\n        const { type, add, dolar } = this.props;\r\n        const { tasa } = this.context as ProductosType;\r\n        switch (type) {\r\n            case 'Seleccion':\r\n                return <FilaSeleccion key={c.codigo + 'Seleccion'} producto={c} add={add} />\r\n            case 'Compra': case 'Orden':\r\n                return <FilaCompra key={c.codigo + 'Compra'} producto={c} add={add} />\r\n            case 'Nota': case 'Factura':\r\n                return <FilaFactura key={c.codigo + 'Factura'} producto={c} add={add} />\r\n            case 'ENTRADA':\r\n                return <FilaEntrada key={c.codigo + 'ENTRADA'} producto={c} add={add} />;\r\n            case 'SALIDA':\r\n                return <FilaSalida key={c.codigo + 'SALIDA'} producto={c} add={add} />;\r\n            case 'COSTO':\r\n                return <FilaPrecio key={c.codigo + 'COSTO'} producto={c} add={add} />;\r\n            case 'UTILIDAD':\r\n                return <FilaUtilidad key={c.codigo + 'UTILIDAD'} producto={c} add={add} />;\r\n            case 'Cotizacion':\r\n                return (dolar) ?\r\n                    <FilaDolar tasa={tasa ? tasa : 1} key={c.codigo + 'dolar'} producto={c} add={add} /> :\r\n                    <FilaCotizacion key={c.codigo + 'Cotizacion'} producto={c} add={add} />;\r\n        }\r\n    }\r\n    filter() {\r\n        const { departamento, props: { type } } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: Producto) => {\r\n            if (c.estatus === 0) return false;\r\n            if (departamento !== 'TODO' && c.departamento !== departamento) return false;\r\n            if ((type === 'ENTRADA' || type === 'SALIDA') && c.inventario === 1) return false;\r\n            return true;\r\n        });\r\n    }\r\n    componentDidMount() { this.set(); }\r\n    head() {\r\n        const { Th } = this;\r\n        switch (this.props.type) {\r\n            case 'ENTRADA':\r\n                return <>\r\n                    <Th width='120px'>CANTIDAD</Th>\r\n                </>;\r\n            case 'SALIDA':\r\n                return <>\r\n                    <Th width='120px'>CANTIDAD</Th>\r\n                    <Th width='120px'>DISPONIBLE</Th>\r\n                </>;\r\n            case 'COSTO':\r\n                return <>\r\n                    <Th width='150px'>COSTO</Th>\r\n                </>;\r\n            case 'UTILIDAD':\r\n                return <>\r\n                    <Th width='150px'>% UTILIDAD 1</Th>\r\n                    <Th width='150px'>% UTILIDAD 2</Th>\r\n                    <Th width='150px'>% UTILIDAD 3</Th>\r\n                </>;\r\n            case 'Seleccion':\r\n                return <></>;\r\n            case 'Factura':\r\n                return <>\r\n                    <Th width='120px'>CANTIDAD</Th>\r\n                    <Th width='120px'>DISPONIBLE</Th>\r\n                    <Th width='150px'>P.U.</Th>\r\n                    <Th width='200px'>TOTAL</Th>\r\n                </>\r\n        }\r\n        return <>\r\n            <Th width='120px'>CANTIDAD</Th>\r\n            <Th width='150px'>P.U.</Th>\r\n            <Th width='200px'>TOTAL</Th>\r\n        </>\r\n    }\r\n    getItens() {\r\n        return this.context.Productos;\r\n    }\r\n    set() {\r\n        this.context.actProducto();\r\n    }\r\n    getEstado() { return this.context.estProducto }\r\n}\r\nBuscarProducto.contextType = ProductosContext;\r\nexport default BuscarProducto;","import React, { useContext } from 'react'\r\nimport { SeccionContext } from '../../Context/Seccion';\r\ninterface Props {\r\n    change: (r: number) => void\r\n    defaultValue: number\r\n}\r\nexport default function UsuarioSelector(p: Props) {\r\n    const context = useContext(SeccionContext)\r\n    const setRol = (Rol: React.ChangeEvent<HTMLSelectElement>) => { p.change(parseInt(Rol.currentTarget.value)) }\r\n    return <select onChange={setRol} className=\"form-control\" value={p.defaultValue}>\r\n        <option value={-1}>TODOS LOS USUARIOS</option>\r\n        {(context !== null) ? context.usuarios.map(c => {\r\n            return <option key={\"user\" + c.codigo} value={c.codigo}>{c.nombre}</option>\r\n        }) : <></>}\r\n    </select>\r\n}","import React, { useState } from 'react';\r\nimport { Button, Col, InputGroup, Row, Table } from 'react-bootstrap';\r\nimport BuscarProducto from '../../App/Productos/BuscarProducto';\r\nimport UsuarioSelector from '../../App/Usuarios/Select';\r\nimport { Producto } from '../../Models/Productos';\r\nimport { InputDate } from '../Inputs';\r\ntype es = string | undefined\r\nexport interface AvanzadosProps {\r\n    setData: (d: any) => void\r\n    fecha_init: string\r\n    fecha_fin: string\r\n    productos: Producto[]\r\n    estatus: es[]\r\n    status: number\r\n    user: number\r\n}\r\nexport default function Avanzado({ fecha_init, fecha_fin, status, user, estatus, productos, setData }: AvanzadosProps) {\r\n    const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => { setData({ status: parseInt(e.currentTarget.value) }) };\r\n    const removeProducto = (cod: String) => { setData({ productos: productos.filter(p => p.codigo !== cod) }) }\r\n    const limpiarFechas = () => { setData({ fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa' }) };\r\n    const addProducto = (p: Producto) => { setData({ productos: [...productos, p] }) }\r\n    const [open, setOpen] = useState(false);\r\n    return <Row className=\"form\">\r\n        <BuscarProducto type='Seleccion' open={open} add={addProducto} close={() => { setOpen(false) }} />\r\n        <Col md={12}>\r\n            <InputGroup>\r\n                <InputGroup.Prepend><InputGroup.Text>RANGO DE FECHAS DEL</InputGroup.Text></InputGroup.Prepend>\r\n                <InputDate value={fecha_init} setData={setData} update='fecha_init' />\r\n                <InputGroup.Prepend><InputGroup.Text>AL</InputGroup.Text></InputGroup.Prepend>\r\n                <InputDate value={fecha_fin} setData={setData} update='fecha_fin' />\r\n                <Button onClick={limpiarFechas} data-tip=\"LIMPIAR FECHAS\" variant=\"danger\"\r\n                ><i className=\"fa fa-ban\"></i></Button>\r\n            </InputGroup>\r\n        </Col>\r\n        <Col data-tip=\"FILTRAR POR USUARIO QUE REALIZO LA OPERACION\" md={6}><br />\r\n            <UsuarioSelector change={(u: number) => { setData({ user: u }) }} defaultValue={user} />\r\n        </Col>\r\n        <Col md={3}><br />\r\n            <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={setStatus} className=\"form-control\" value={status}>\r\n                <option value={-1}>TODOS LOS ESTADOS</option>\r\n                {estatus[0] ? <option value={0}>{estatus[0]}</option> : <></>}\r\n                {estatus[1] ? <option value={1}>{estatus[1]}</option> : <></>}\r\n                {estatus[2] ? <option value={2}>{estatus[2]}</option> : <></>}\r\n            </select>\r\n        </Col>\r\n        <Col md={3} style={{ textAlign: 'center' }}><br />\r\n            <Button data-tip=\"FILTRAR POR LOS PRODUCTOS SELECCIONADOS\" block onClick={() => { setOpen(true) }}\r\n            ><i className=\"fa fa-search\" /> BUSCAR PRODUCTOS</Button>\r\n        </Col>\r\n        <Col md={12}><br />\r\n            <Table striped hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{ width: \"10%\" }} className=\"text-center\">CODIGO</th>\r\n                        <th style={{ width: \"80%\" }} >DESCRIPCION</th>\r\n                        <th style={{ width: \"10%\" }} >QUITAR</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {productos.map((iten) => {\r\n                        return (<tr>\r\n                            <td className=\"text-center\">{iten.codigo}</td>\r\n                            <td>{iten.descripcion}</td>\r\n                            <td className=\"text-center\">\r\n                                <Button variant=\"danger\" onClick={() => { removeProducto(iten.codigo) }}>\r\n                                    <i className=\"fa fa-ban\"></i>\r\n                                </Button>\r\n                            </td>\r\n                        </tr>);\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n        </Col>\r\n    </Row >\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport FilaCotizacion from './FilaCotizacio'\r\nimport { Link } from 'react-router-dom';\r\nimport Avanzado, { AvanzadosProps } from '../../Utiles/Componentes/Avanzado';\r\nimport { conCotizacion } from '../../Models/Factura';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Producto } from '../../Models/Productos';\r\nimport { VentasContext } from '../../Context/Ventas';\r\nclass ListCotizaciones extends CardBuscador {\r\n    con = conCotizacion();\r\n    placeholder = \"BUSCAR COTIZACI√ìN\";\r\n    buscarEn = [\"codigo\", \"nombre\", 'fecha', 'rif'];\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    productos: Producto[] = []\r\n    status = -1;\r\n    user = -1;\r\n    Avansado() {\r\n        const { fecha_init, fecha_fin, status, user, productos, setAvanzados } = this;\r\n        return <Avanzado setData={setAvanzados.bind(this)}\r\n            estatus={['CANCELADO', 'PENDIENTE', 'PROCESADA']}\r\n            fecha_init={fecha_init} fecha_fin={fecha_fin}\r\n            status={status} user={user} productos={productos} />\r\n    }\r\n    setAvanzados({ fecha_init, fecha_fin, status, user, productos }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (user) this.user = user;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (productos) this.productos = productos;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { fecha_init, fecha_fin, status, user, productos, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== status && status !== -1) return false;\r\n            if (c.usuario !== user && user !== -1) return false;\r\n            const creacion = datetonomber(c.fecha);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            if (!productos.every(p => c.detalles.some(d => p.codigo === d))) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <>\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR COTIZACI√ìN</h4>\r\n            <Link to=\"/cotizacion/nueva\" className=\"btn btn-primary\"><span className=\"fa fa-plus\"></span> NUEVA COTIZACION</Link>\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='120px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 585px)'>CLIENTE</Th>\r\n            <Th width='160px'>MONTO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaCotizacion update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    getItens() {        return this.context.Cotizaciones;    }\r\n    set() {        this.context.actCotizacion();    }\r\n    getEstado() { return this.context.estCotizacion; }\r\n}\r\nListCotizaciones.contextType = VentasContext;\r\nexport default ListCotizaciones","import React from 'react';\r\nimport { Col } from 'react-bootstrap';\r\nimport { ControlText } from '../FormControl';\r\nimport { InputArea } from '../Inputs';\r\ninterface Props {\r\n    data: {\r\n        validez: string,\r\n        tiempo_entrega: string,\r\n        forma_pago: string,\r\n        nota: string\r\n    }\r\n    setData: (d: any) => void\r\n}\r\nexport default class Condiciones extends React.Component<Props> {\r\n    render() {\r\n        let { data: { validez, tiempo_entrega, forma_pago, nota }, setData } = this.props;\r\n        return (<>\r\n            <Col xs={12}>\r\n                <ControlText upper name='validez' maxLength={120} before=\"VALIDES DE LA OFERTA\" value={validez} setData={setData} update=\"validez\" />\r\n            </Col>\r\n            <Col xs={12}><br />\r\n                <ControlText upper name='tiempo_entrega' maxLength={120} before=\"TIEMPO DE ENTREGA\" value={tiempo_entrega} setData={setData} update=\"tiempo_entrega\" />\r\n            </Col>\r\n            <Col xs={12}><br />\r\n                <ControlText upper name='forma_pago' maxLength={120} before=\"FORMA DE PAGO\" value={forma_pago} setData={setData} update=\"forma_pago\" />\r\n            </Col>\r\n            <Col xs={12}><br />\r\n                <b>NOTA</b>\r\n                <InputArea upper autoComplete='on' name='nota' rows={3} maxLength={600} value={nota} setData={setData} update=\"nota\" />\r\n            </Col>\r\n        </>)\r\n    }\r\n}","import React, { useContext } from 'react'\r\nimport { FormControl } from 'react-bootstrap';\r\nimport { ProductosContext } from '../../Context/Producto';\r\ninterface Props { change: (r: number) => void, defaultValue: number,isInvalid?: boolean }\r\nexport default function UnidadSelector(p: Props) {\r\n    const context = useContext(ProductosContext)\r\n    const setRol = (Rol: React.ChangeEvent<HTMLSelectElement>) => { p.change(parseInt(Rol.currentTarget.value)) }\r\n    return <FormControl as='select'  onChange={setRol} value={p.defaultValue}  isInvalid={p.isInvalid}>\r\n        <option value={-1}>SELECCIONAR UNIDAD</option>\r\n        {(context !== null) ? context.Unidades.map(c => {\r\n            return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n        }) : <></>}\r\n    </FormControl>\r\n}","import React, { useContext } from 'react'\r\nimport { FormControl } from 'react-bootstrap';\r\nimport { ProductosContext } from '../../Context/Producto';\r\ninterface Props { change: (r: number) => void, defaultValue: number, isInvalid?: boolean }\r\nexport default function TipoSelector(p: Props) {\r\n    const context = useContext(ProductosContext)\r\n    const setRol = (Rol: React.ChangeEvent<HTMLSelectElement>) => { p.change(parseInt(Rol.currentTarget.value)) }\r\n    return <FormControl as='select' onChange={setRol} value={p.defaultValue}  isInvalid={p.isInvalid}>\r\n        <option value={-1}>SELECCIONAR TIPO</option>\r\n        {(context !== null) ? context.Tipos.map(c => {\r\n            return <option key={\"user\" + c.codigo} value={c.codigo}>{c.descripcion}</option>\r\n        }) : <></>}\r\n    </FormControl>\r\n}","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormControl } from 'react-bootstrap'\r\nimport { conProducto, Producto, ProductoNull } from '../../Models/Productos'\r\nimport DepartamentoSelector from '../Departamento/Selector'\r\nimport UnidadesSelector from '../Unidad/Selector'\r\nimport TipoSelector from '../Tipos/Selector'\r\nimport { toast } from 'react-toastify'\r\nimport { ControlNumber, ControlArea } from '../../Utiles/FormControl'\r\nimport { ProductosContext, ProductosType } from '../../Context/Producto'\r\ninterface Props {\r\n    open: boolean\r\n    close: () => void\r\n    add: (p: Producto) => void\r\n}\r\ninterface State extends Producto {\r\n    monto_1: number,\r\n    monto_2: number,\r\n    monto_3: number\r\n}\r\nclass FormProductos extends React.Component<Props, State>{\r\n    error: any = [];\r\n    utils = true;\r\n    procesar = true;\r\n    con = conProducto();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...ProductoNull, monto_1: 1, monto_2: 1, monto_3: 1 };\r\n        this.setState = this.setState.bind(this)\r\n        this.setPrecio = this.setPrecio.bind(this)\r\n        this.setUtilidad = this.setUtilidad.bind(this)\r\n\r\n    }\r\n    setDepartamento(departamento: string) {\r\n        this.setState({ departamento })\r\n    }\r\n\r\n    setUnidad(unidad: number) {\r\n        this.setState({ unidad })\r\n    }\r\n\r\n    setTipo(tipo: number) {\r\n        this.setState({ tipo })\r\n    }\r\n    render() {\r\n        this.setContextUtilidades();\r\n        let { setState, setPrecio, setUtilidad,\r\n            state: { exento, descripcion, precio1, precio2, precio3, costo, tipo, unidad, departamento, enser },\r\n            props: { open, close } } = this;\r\n        return <Modal size=\"xl\" animation show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> NUEVO PRODUCTO</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={12} as={InputGroup} hasValidation={this.error['departamento'] ? true : false} >\r\n                        <DepartamentoSelector tipo='SELECCIONAR' defaultValue={departamento} change={this.setDepartamento.bind(this)} isInvalid={this.error['departamento'] ? true : false} />\r\n                        <FormControl.Feedback type=\"invalid\">\r\n                            {this.error['departamento'] ? this.error['departamento'] : ''}\r\n                        </FormControl.Feedback>\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <b>DESCRIPCI√ìN</b>\r\n                        <ControlArea error={this.error} rows={3} maxLength={300} value={descripcion} setData={setState} update=\"descripcion\" />\r\n                    </Col>\r\n                    <Col xs={12}><br /></Col>\r\n                    <Col md={4}>\r\n                        <Button block onClick={() => { this.setState({ enser: enser === 1 ? 0 : 1 }) }} variant={enser === 0 ? 'success' : 'danger'}>\r\n                            PARA LA VENTA: {enser === 0 ? 'SI' : 'NO (ENSER)'}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col xs={4} as={InputGroup} hasValidation={this.error['unidad'] ? true : false} >\r\n                        <UnidadesSelector defaultValue={unidad} change={this.setUnidad.bind(this)} isInvalid={this.error['unidad'] ? true : false} />\r\n                        <FormControl.Feedback type=\"invalid\">\r\n                            {this.error['unidad'] ? this.error['unidad'] : ''}\r\n                        </FormControl.Feedback>\r\n                    </Col>\r\n                    <Col xs={4} as={InputGroup} hasValidation={this.error['tipo'] ? true : false} >\r\n                        <TipoSelector defaultValue={tipo} change={this.setTipo.bind(this)} isInvalid={this.error['tipo'] ? true : false} />\r\n                        <FormControl.Feedback type=\"invalid\">\r\n                            {this.error['tipo'] ? this.error['tipo'] : ''}\r\n                        </FormControl.Feedback>\r\n                    </Col>\r\n                    <Col md={4}><br />\r\n                        <Button block onClick={() => { this.setState({ exento: !exento }) }} variant={exento ? 'success' : 'primary'}>\r\n                            EXENTO: {exento ? 'SI' : 'NO'}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col xs={8} style={{ height: 54 }} ><br />\r\n                        <ControlNumber error={this.error} min={.01} step=\".01\" before='COSTO BS.' update=\"costo\" value={costo} setData={setState} />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <ControlNumber min={.01} step=\".01\" after=\"%\" before=\"UTILIDAD 1\" value={precio1} setData={setUtilidad} update=\"precio1\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <ControlNumber min={.01} step=\".01\" after=\"%\" before=\"UTILIDAD 2\" value={precio2} setData={setUtilidad} update=\"precio2\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <ControlNumber min={.01} step=\".01\" after=\"%\" before=\"UTILIDAD 3\" value={precio3} setData={setUtilidad} update=\"precio3\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <ControlNumber min={.01} step=\".01\" before=\"PRECIO 1\" value={this.getPrecio(precio1)} setData={setPrecio} update=\"monto_1\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <ControlNumber min={.01} step=\".01\" before=\"PRECIO 2\" value={this.getPrecio(precio2)} setData={setPrecio} update=\"monto_2\" />\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <ControlNumber min={.01} step=\".01\" before=\"PRECIO 3\" value={this.getPrecio(precio3)} setData={setPrecio} update=\"monto_3\" />\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button onClick={this.create.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    getPrecio(price: number) {\r\n        let utilidad = (price / 100) + 1\r\n        return this.state.costo * utilidad;\r\n    }\r\n    setPrecio(d: { monto_1?: number, monto_2?: number, monto_3?: number }) {\r\n        if (d.monto_1)\r\n            this.setState({ monto_1: d.monto_1, precio1: this.getUtilidad(d.monto_1) });\r\n        if (d.monto_2)\r\n            this.setState({ monto_2: d.monto_2, precio2: this.getUtilidad(d.monto_2) });\r\n        if (d.monto_3)\r\n            this.setState({ monto_3: d.monto_3, precio3: this.getUtilidad(d.monto_3) });\r\n    }\r\n    getUtilidad(price: number) {\r\n        let utilidad = ((price / this.state.costo) - 1) * 100\r\n        return parseFloat(utilidad.toFixed(2));\r\n    }\r\n    setUtilidad(d: { precio1?: number, precio2?: number, precio3?: number }) {\r\n        if (d.precio1)\r\n            this.setState({ monto_1: this.getPrecio(d.precio1), precio1: d.precio1 });\r\n        if (d.precio2)\r\n            this.setState({ monto_2: this.getPrecio(d.precio2), precio2: d.precio2 });\r\n        if (d.precio3)\r\n            this.setState({ monto_3: this.getPrecio(d.precio3), precio3: d.precio3 });\r\n    }\r\n    create() {\r\n        this.error = [];\r\n        let procesar = true;\r\n        let { descripcion, tipo, unidad, departamento, costo } = this.state;\r\n        if (descripcion === '') {\r\n            this.error['descripcion'] = 'DEBE COLOCAR UNA DESCRIPCION';\r\n            procesar = false;\r\n        } if (departamento === 'TODO') {\r\n            this.error['departamento'] = 'DEBE SELECCIONAR UN DEPARTAMENTO';\r\n            procesar = false;\r\n        } if (tipo === -1) {\r\n            this.error['tipo'] = 'DEBE SELECCIONAR UN TIPO DE PRODUCTO';\r\n            procesar = false;\r\n        } if (unidad === -1) {\r\n            this.error['unidad'] = 'DEBE SELECCIONAR UNA UNIDAD DE MEDIDA';\r\n            procesar = false;\r\n        } if (costo === 0) {\r\n            this.error['costo'] = \"DEBE COLOCAR EL COSTO\";\r\n            procesar = false;\r\n        }\r\n        if (procesar) {\r\n            if (this.procesar) {\r\n                this.procesar = false;\r\n                this.con.nuevo(this.state, data => {\r\n                    this.props.add(data);\r\n                    this.procesar = true;\r\n                    this.setState({ ...ProductoNull });\r\n                    let { precio1, precio2, precio3 } = this.context as ProductosType;\r\n                    this.setUtilidad({ precio1, precio2, precio3 })\r\n                    this.props.close();\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    setContextUtilidades() {\r\n        if (this.utils) {\r\n            let { precio1, precio2, precio3 } = this.context as ProductosType;\r\n            if (precio1 > 1) {\r\n                console.log(this.context, 'CONTEXTO');\r\n                this.setUtilidad({ precio1, precio2, precio3 })\r\n                this.utils = false;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    setError(err: any) {\r\n        if (err.response) {\r\n            let { errores } = err.response;\r\n            errores.forEach((err: any) => {\r\n                if (err.sql) {\r\n                    err.sql.forEach((er: string) => toast(er, { type: toast.TYPE.ERROR }));\r\n                } else {\r\n                    Object.keys(err).forEach(t => this.error[t] = err[t])\r\n                }\r\n            })\r\n            console.log(this.error);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n}\r\nFormProductos.contextType = ProductosContext;\r\nexport default FormProductos","import React, { useContext } from \"react\"\r\nimport { ProductosContext } from \"../../Context/Producto\";\r\nimport { numberFormat } from \"../Formatos\";\r\nexport default function CalcularImpuesto({ imponible, exento, cols = 2 }: { imponible: number, exento: number, cols?: number }) {\r\n    const context = useContext(ProductosContext)\r\n    const impuesto = (context !== null) ? context.impuesto : 1;\r\n    function calImpuesto() {\r\n        let imp = (impuesto / 100);\r\n        return numberFormat(imponible * imp);\r\n    }\r\n    function calPagar() {\r\n        let imp = impuesto / 100;\r\n        let total = imponible + exento + (imponible * imp);\r\n        return numberFormat(total)\r\n    }\r\n    return <>\r\n        <tr>\r\n            <th colSpan={cols} rowSpan={8}></th>\r\n            <th style={{ textAlign: \"right\" }} colSpan={2}>SUBTOTAL:</th>\r\n            <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n        </tr>\r\n        {exento > 0 ? <>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>EXENTO:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(exento)}</th>\r\n            </tr>\r\n            <tr>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>BASE IMPONIBLE:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible)}</th>\r\n            </tr>\r\n        </> : <></>}\r\n        <tr>\r\n            <th style={{ textAlign: \"right\" }} colSpan={2}>IMPUESTO {impuesto}%:</th>\r\n            <th style={{ textAlign: \"right\" }}>{calImpuesto()}</th>\r\n        </tr>\r\n        <tr>\r\n            <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n            <th style={{ textAlign: \"right\" }}>{calPagar()}</th>\r\n        </tr>\r\n    </>\r\n}\r\n","import React from 'react'\r\nimport { Col, Button, Table, ButtonGroup, Row as Fila } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport BuscarProducto from '../../App/Productos/BuscarProducto'\r\nimport FormProductos from '../../App/Productos/FormProductos'\r\nimport { ProductosContext } from '../../Context/Producto'\r\nimport { Detalles, GeneralData } from '../../Models/General'\r\nimport { Producto } from '../../Models/Productos'\r\nimport CalcularImpuesto from './CalcularImpuesto'\r\ninterface State {\r\n    nuevoProducto: boolean\r\n    buscarProducto: boolean\r\n    aux: boolean\r\n    aux2: boolean\r\n    aux3: boolean\r\n    aux4: boolean\r\n    aux5: boolean\r\n}\r\ninterface Props {\r\n    data: GeneralData\r\n    setData: (data: any) => void\r\n}\r\nexport type ProductosModal = 'Cotizacion' | 'Compra' | 'Factura' | 'Nota' | 'Orden' | 'SALIDA' | 'ENTRADA' | 'COSTO' | 'UTILIDAD' | 'Seleccion';\r\nclass AuxiliarNuevo<p = {}> extends React.Component<Props & p, State> {\r\n    setData: (data: any) => void;\r\n    nuevo = false;\r\n    productos: ProductosModal = 'Compra';\r\n    constructor(p: Props & p) {\r\n        super(p);\r\n        this.setData = p.setData;\r\n        this.Row = this.Row.bind(this);\r\n        this.THead = this.THead.bind(this);\r\n        this.Calcular = this.Calcular.bind(this);\r\n        this.BotonesLeft = this.BotonesLeft.bind(this);\r\n        this.BotonesRight = this.BotonesRight.bind(this);\r\n        this.state = { nuevoProducto: false, buscarProducto: false, aux: false, aux2: false, aux3: false, aux4: false, aux5: false };\r\n    }\r\n    addProductos(pr: Detalles) {\r\n        let { props: { data: { detalles } } } = this;\r\n        pr.precio = parseFloat(pr.precio.toFixed(2));\r\n        if (detalles.some(p => p.codigo === pr.codigo)) this.setData({ detalles: detalles.map(p => { if (p.codigo === pr.codigo) return pr; return p; }) })\r\n        else this.setData({ detalles: [...detalles, pr] })\r\n\r\n    }\r\n    removeProductos(pr: Detalles) {\r\n        let { props: { data: { detalles } } } = this;\r\n        this.setData({ detalles: detalles.filter(p => p.codigo !== pr.codigo) })\r\n        toast('PRODUCTO ' + pr.descripcion + \" QUITADO\", { type: toast.TYPE.SUCCESS })\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo, comentario: \"\" });\r\n    }\r\n    Row({ data: Detalles }: { data: Detalles }) {\r\n        return <></>;\r\n    }\r\n    BotonesRight() {\r\n        return <Col xs={6} style={{ textAlign: 'right' }} className=\"float-right\">\r\n            <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} variant=\"success\"\r\n                className=\"float-right\" onClick={() => this.setData({ procesar: true })} >\r\n                <span className=\"fa fa-print\" />\r\n            </Button>\r\n            <ButtonGroup className=\"float-right\" style={{ marginRight: \"15px\" }}>\r\n                {this.createProductoValidation() ? <Button data-tip=\"NUEVO PRODUCTO\" onClick={() => { this.setState({ nuevoProducto: true }) }} variant=\"info\">\r\n                    <i className=\"fa fa-edit\"></i>\r\n                </Button> : <></>}\r\n                <Button data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} variant=\"primary\">\r\n                    <span className=\"fa fa-search\"></span>\r\n                </Button>\r\n            </ButtonGroup>\r\n        </Col>\r\n    }\r\n    BotonesLeft() { return <Col xs={6} /> }\r\n    render() {\r\n        let imp = 0, ext = 0;\r\n        const { Row, BotonesRight, BotonesLeft, Calcular, THead, state: { nuevoProducto, buscarProducto }, props: { data: { detalles, dolar } } } = this;\r\n        return <>\r\n            <FormProductos open={nuevoProducto} close={this.close.bind(this)} add={this.createProducto.bind(this)} />\r\n            <BuscarProducto type={this.productos} dolar={dolar} open={buscarProducto} add={this.addProductos.bind(this)} close={this.close.bind(this)} />\r\n            <ReactTooltip />\r\n            <br />\r\n            <Fila>\r\n                <BotonesLeft />\r\n                <BotonesRight />\r\n            </Fila>\r\n            <hr />\r\n            <Table className=\"accordion\" striped hover>\r\n                <THead />\r\n                <tbody>\r\n                    {detalles.map(p => {\r\n                        if (p.exento) ext += p.precio * p.unidades\r\n                        else imp += p.precio * p.unidades\r\n                        return <Row data={p} />\r\n                    })}\r\n                    <Calcular exento={ext} imponible={imp} />\r\n                </tbody>\r\n            </Table>\r\n        </>\r\n    }\r\n    THead() {\r\n        return <tr className='info'>\r\n            <th style={{ width: \"90px\", textAlign: 'center' }}>COD</th>\r\n            <th style={{ textAlign: 'center' }}>DESCRIPCI√ìN</th>\r\n            <th style={{ width: \"120px\", textAlign: 'center' }}>CANTIDAD</th>\r\n            <th style={{ width: \"180px\", textAlign: 'center' }}>P.U.</th>\r\n            <th style={{ width: \"230px\", textAlign: 'center' }}>TOTAL</th>\r\n            <th style={{ width: \"110px\", textAlign: 'center' }}></th>\r\n        </tr>\r\n    }\r\n    Calcular({ imponible, exento }: { imponible: number, exento: number }) {\r\n        return <CalcularImpuesto exento={exento} imponible={imponible} />;\r\n    }\r\n    close() {\r\n        this.setState({ nuevoProducto: false, buscarProducto: false, aux: false })\r\n    }\r\n    createProductoValidation() {\r\n        if (this.nuevo)\r\n            if (this.context.data.Permisos.some((p: string) => p === 'PRODUCTO'))\r\n                return true;\r\n        return false;\r\n    }\r\n}\r\nAuxiliarNuevo.contextType = ProductosContext;\r\nexport default AuxiliarNuevo;","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ProductosContext, ProductosType } from \"../../Context/Producto\";\r\nimport { conCotizacion } from \"../../Models/Factura\";\r\nimport { GeneralData, generalNull } from \"../../Models/General\";\r\nimport AuxiliarNuevo from \"../Prototipos/AuxiliarNuevo\";\r\nimport ModalAlert from \"./ModalAlert\";\r\ninterface State extends GeneralData {\r\n    procesar: boolean\r\n    cod_proveedor?: string\r\n    cod_cliente?: string\r\n}\r\nclass CreateOperacion extends React.Component<any, State>{\r\n    impuesto = 0;\r\n    con = conCotizacion();\r\n    procesar = true;\r\n    tipo = '';\r\n    title = ''\r\n    msn = '';\r\n    setData: (d: any) => void;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.setData = this.setState.bind(this);\r\n        this.setState = this.setState.bind(this);\r\n        this.Productos = this.Productos.bind(this);\r\n        this.PDF = this.PDF.bind(this);\r\n        this.Top = this.Top.bind(this);\r\n        this.Procesar = this.Procesar.bind(this);\r\n        this.state = { ...generalNull, procesar: false, cod_cliente: '', cod_proveedor: '' };\r\n    }\r\n    render() {\r\n        const { state: { codigo, procesar }, setState, Top, PDF, Productos, msn, title } = this;\r\n        if (codigo > 0) return <PDF />\r\n        return <Card>\r\n            <ModalAlert variant='info' title='CONFIRMAR' open={procesar} msn={'DESEA PROCESAR ' + msn} close={() => setState({ procesar: false })} accion={this.Procesar} />\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> NUEVO {title}</h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Top />\r\n                <Productos />\r\n            </Card.Body>\r\n        </Card>\r\n    }\r\n    Top() {\r\n        return <></>\r\n    }\r\n    Productos() {\r\n        return <AuxiliarNuevo setData={this.setState} data={this.state} />\r\n    }\r\n    PDF() {\r\n        return <iframe src={\"/api/\" + this.tipo + \"/PDF/\" + this.state.codigo} width='100%' height='900wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n    }\r\n    Procesar() {\r\n    }\r\n    validacionGenerica(procesar = true) {\r\n        \r\n        if (this.state.detalles.length === 0) {\r\n            toast('DEBE SELECCIONAR AL MENOS UN PRODUCTO', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }\r\n        if(procesar)\r\n        if (this.procesar && procesar) {\r\n            this.procesar = false;\r\n        } else {\r\n            toast('YA SE ESTA PROCESANDO ' + this.msn, { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }\r\n        return procesar;\r\n    }\r\n    valdacionPrecio(procesar = true) {\r\n        \r\n        const { data: { User: { nivel } }, findProducto } = this.context as ProductosType;\r\n        if (this.state.id_nota === undefined)\r\n            this.state.detalles.forEach(p => {\r\n                const pr = findProducto(p.codigo);\r\n                const cos = (nivel === 0) ? pr.costo : (pr.costo * (1 + pr.precio1 / 100));\r\n                if (cos > p.precio) {\r\n                    toast(p.descripcion + ' ESTA POR DEBAJO DE SU ' + ((nivel === 0) ? 'COSTO' : 'PRECIO DE VENTA MAS BAJO') + ' REGISTRADO', { type: toast.TYPE.ERROR });\r\n                    procesar = false;\r\n                }\r\n            })\r\n        return procesar;\r\n    }\r\n    validacionExixtencia(procesar = true) {\r\n        const { findProducto } = this.context as ProductosType;\r\n        if (this.state.id_nota === undefined)\r\n            this.state.detalles.forEach(p => {\r\n                const pr = findProducto(p.codigo);\r\n                if (p.unidades > pr.cantidad) {\r\n                    if (p.tipo > 1) {\r\n                        toast('NO HAY SUFICENTE ' + p.descripcion + ' PARA COMPLETAR LA OPERACION', { type: toast.TYPE.ERROR });\r\n                        procesar = false;\r\n                    }\r\n                }\r\n            })\r\n        return procesar;\r\n    }\r\n    getData(): any {\r\n        return this.state;\r\n    }\r\n    componentDidMount() {\r\n        let s = localStorage.getItem(this.tipo + 'Cache');\r\n        if (s !== null) {\r\n            let data = JSON.parse(s);\r\n            this.setState(data);\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n        if (!this.state.procesar)\r\n            localStorage.setItem(this.tipo + 'Cache', JSON.stringify(this.state));\r\n    }\r\n    componentWillUnmount() {\r\n        localStorage.removeItem(this.tipo + 'Cache');\r\n    }\r\n}\r\nCreateOperacion.contextType = ProductosContext;\r\nexport default CreateOperacion;","import { GeneralFila } from \"../Models/General\"\r\nimport { Producto } from \"../Models/Productos\";\r\nimport { zfill } from \"./Formatos\";\r\nexport type filaLabel = \"codigo\" | \"fecha\" | \"nombre\" | \"telefono\" | \"nota\" | \"tasa\" | \"monto\" | \"usuario\" | \"status\";\r\n\r\nexport function busqueda<p>(itens: any[], encontar: string, bucarLabel: p[]) {\r\n    if (encontar !== \"\") {\r\n        return itens.filter(iten => {\r\n            let en = encontar.split(\" \"), pasa = false;\r\n            bucarLabel.forEach(label => {\r\n                let considencias = 0;\r\n                en.forEach(e => {\r\n                    if (isNaN(iten[label])) {\r\n                        if (iten[label].toUpperCase().indexOf(e) > -1) { considencias++ }\r\n                    } else {\r\n                        if (zfill(parseFloat(iten[label])).indexOf(e) > -1) { considencias++ }\r\n                    }\r\n                })\r\n                if (en.length === considencias) {\r\n                    pasa = true\r\n                }\r\n            })\r\n            return pasa\r\n        })\r\n    }\r\n    return itens;\r\n}\r\nexport function filtro<l>(itens: any[], value: number, Label: l) {\r\n    if (value !== -1)\r\n        return itens.filter(iten => {\r\n            return iten[Label] === value;\r\n        })\r\n    return itens;\r\n}\r\nexport function filtrarProducto(itens: GeneralFila[], values: Producto[]) {\r\n    if (values.length === 0) return itens;\r\n    return itens.filter(i => {\r\n        let pasa: string[] = [];\r\n        i.detalles.forEach(d => { if (values.some(v => v.codigo === d)) pasa.push(d); });\r\n        return (pasa.length === values.length);\r\n    });\r\n}","import React from 'react'\r\nimport { Row, Col, Button, InputGroup, ButtonGroup, Card, Accordion, FormControl } from 'react-bootstrap'\r\nimport FormCliente from './Form'\r\nimport Cliente, { ClienteNull, conCliente } from '../../Models/Cliente'\r\nimport { busqueda } from '../../Utiles/Filtros'\r\nimport { VentasContext } from '../../Context/Ventas'\r\ninterface Props {\r\n    Cliente: string\r\n    add: (Cliente: string) => void\r\n}\r\ninterface State {\r\n    cliente: Cliente\r\n    buscarNumbre: string\r\n    buscarCodigo: string\r\n    nuevo: boolean\r\n}\r\nclass ClienteSelector extends React.Component<Props, State> {\r\n    con = conCliente();\r\n    nombre = React.createRef<HTMLInputElement>();\r\n    codigo = React.createRef<HTMLInputElement>();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { nuevo: false, cliente: ClienteNull, buscarCodigo: '', buscarNumbre: '' }\r\n    }\r\n    render() {\r\n        const { state: { nuevo, cliente, buscarCodigo, buscarNumbre } } = this\r\n        return <Card as={Accordion} id=\"tabla\">\r\n            <FormCliente cliente={null} title={\"NUEVO CLIENTE\"} open={nuevo} add={this.seleccion.bind(this)} close={this.close.bind(this)} />\r\n            <Card.Body>\r\n                <Row><Col xs={12}><h4 className='mr-auto'><b>DATOS DEL CLIENTE</b></h4></Col></Row>\r\n                <Row>\r\n                    <InputGroup className=\"mb-3\" style={{ width: '30%', marginRight: '15px', marginLeft: '10px' }}>\r\n                        <InputGroup.Prepend >\r\n                            <InputGroup.Text>RIF</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl style={{ width: 'calc(100% - 60px)', position: 'relative' }} list=\"inputCodigo\"\r\n                            ref={this.codigo}\r\n                            onKeyUp={this.limpiarCodigo.bind(this)}\r\n                            onChange={this.setBuscarCodigo.bind(this)}\r\n                            defaultValue={buscarCodigo} />\r\n                    </InputGroup>\r\n                    <datalist id=\"inputCodigo\">\r\n                        {this.getList(busqueda(this.context.Clientes, buscarCodigo, ['codigo']), 'codigo')}\r\n                    </datalist>\r\n                    <InputGroup className=\"mb-3\" style={{ width: 'calc(70% - 160px)', marginRight: '15px' }}>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>NOMBRE</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl style={{ width: 'calc(100% - 100px)' }} list=\"inputNombre\" className=\"form-control\"\r\n                            ref={this.nombre}\r\n                            onKeyUp={this.limpiarNombre.bind(this)}\r\n                            onChange={this.setBuscarNombre.bind(this)}\r\n                            defaultValue={buscarNumbre} />\r\n                    </InputGroup>\r\n                    <datalist id=\"inputNombre\">\r\n                        {this.getList(busqueda(this.context.Clientes, buscarCodigo, ['nombre']), 'nombre')}\r\n                    </datalist>\r\n                    <ButtonGroup style={{ width: \"110px\" }} className=\"float-right mb-3\">\r\n                        <Button data-tip=\"VER MAS\" as={Accordion.Toggle} eventKey=\"1\">\r\n                            <i className=\"fa fa-eye\"></i>\r\n                        </Button>\r\n                        <Button data-tip=\"NUEVO CLIENTE\" onClick={() => { this.setState({ nuevo: true }) }} variant=\"info\">\r\n                            <i className=\"fa fa-edit\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Row>\r\n                <Accordion.Collapse eventKey='1'>\r\n                    <Row>\r\n                        <Col xs={12}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>NOMBRE</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl disabled value={cliente.correo} />\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>TELEFONO</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl disabled value={cliente.telefono} />\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>PERSONA DE CONTACTO</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl disabled value={cliente.contacto} />\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12} className=\"mb-3\">\r\n                            <b>DICECCION</b>\r\n                            <FormControl rows={3} as='textarea' disabled value={cliente.direccion} />\r\n                        </Col>\r\n                    </Row>\r\n                </Accordion.Collapse>\r\n            </Card.Body>\r\n        </Card>\r\n    }\r\n    seleccion(c: Cliente) {\r\n        this.set();\r\n        this.props.add(c.codigo);\r\n        if (this.nombre.current) this.nombre.current.value = c.nombre;\r\n        if (this.codigo.current) this.codigo.current.value = c.codigo;\r\n        this.setState({ cliente: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n    }\r\n    setBuscarNombre(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarNumbre: b });\r\n        const cli: Cliente = this.context.Clientes.find((c: Cliente) => c.nombre === b);\r\n        if (cli !== undefined) this.props.add(cli.codigo);\r\n    }\r\n    setBuscarCodigo(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarCodigo: b });\r\n        const cli: Cliente = this.context.Clientes.find((c: Cliente) => c.codigo === b);\r\n        if (cli !== undefined) this.props.add(cli.codigo);\r\n    }\r\n    limpiarNombre(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiarCodigo(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiar() {\r\n        this.setState({ cliente: ClienteNull, buscarCodigo: '', buscarNumbre: '' })\r\n        if (this.nombre.current)\r\n            this.nombre.current.value = \"\";\r\n        if (this.codigo.current)\r\n            this.codigo.current.value = \"\";\r\n    }\r\n    getList(lista: Cliente[], label: 'codigo' | 'nombre') {\r\n        return lista.map(c => {\r\n            return <option key={label + c.codigo}>{c[label]}</option>\r\n        })\r\n    }\r\n    close() {\r\n        this.setState({\r\n            nuevo: false\r\n        })\r\n    }\r\n    componentWillReceiveProps(p: Props) {\r\n        if (this.state.cliente.codigo !== p.Cliente) {\r\n            const cli: Cliente = this.context.Clientes.find((c: Cliente) => c.codigo === p.Cliente);\r\n            if (cli !== undefined) {\r\n                if (this.nombre.current) this.nombre.current.value = cli.nombre;\r\n                if (this.codigo.current) this.codigo.current.value = cli.codigo;\r\n                this.setState({ cliente: cli, buscarCodigo: cli.codigo, buscarNumbre: cli.nombre });\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        this.context.actCliente();\r\n    }\r\n}\r\nClienteSelector.contextType = VentasContext;\r\nexport default ClienteSelector","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { ControlText } from '../../../Utiles/FormControl'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nclass FilaDolar extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        const { tasa, data: { User: { nivel } }, findProducto } = this.context as ProductosType;\r\n        const { state: { unidades, precio, codigo, comentario, descripcion, open } } = this;\r\n        const { costo, precio1, precio2, precio3 } = findProducto(codigo);\r\n        let tasaDolar = (tasa !== 0) ? tasa : 1,\r\n            costoDolar = costo / tasaDolar,\r\n            precioDolar = parseFloat((precio / tasaDolar).toFixed(2)),\r\n            precio1Dolar = parseFloat((costoDolar * (1 + precio1 / 100)).toFixed(2)),\r\n            precio2Dolar = parseFloat((costoDolar * (1 + precio2 / 100)).toFixed(2)),\r\n            precio3Dolar = parseFloat((costoDolar * (1 + precio3 / 100)).toFixed(2));\r\n        return <>\r\n            <tr>\r\n                <THFila width='90px'>{codigo}</THFila>\r\n                <THFila width='auto'>{descripcion}</THFila>\r\n                <THInput width='120px'><InputNumber min={.01} step='.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n                <THInput width='180px'>\r\n                    <InputNumber step='0.01' list={codigo + 'list'}\r\n                        min={(nivel === 0) ? parseFloat(costoDolar.toFixed(2)) : precio1Dolar}\r\n                        setData={this.setPrecio.bind(this)} value={precioDolar} update=\"precio\" />\r\n                    <datalist id={codigo + 'list'}>\r\n                        <option>{precio1Dolar}</option>\r\n                        <option>{precio2Dolar}</option>\r\n                        <option>{precio3Dolar}</option>\r\n                    </datalist>\r\n                </THInput>\r\n                <THInput width='230px'><InputNumber disabled setData={() => { }} value={precio * unidades / tasa} update=\"p\" /></THInput>\r\n                <THInput width='110px'>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"fa fa-edit\"></span>\r\n                        </Button>\r\n                        <ReactTooltip />\r\n                        <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <ControlText maxLength={250} before=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    setPrecio(data: { precio: number }) {\r\n        const { tasa } = this.context as ProductosType;\r\n        this.setState({ precio: data.precio * tasa });\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n}\r\nFilaDolar.contextType = ProductosContext;\r\nexport default FilaDolar;","import React from 'react'\r\nimport { ButtonGroup, Button } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { ControlText } from '../../../Utiles/FormControl'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nclass FilaFactura extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        console.log(p);\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        const { data: { User: { nivel } }, findProducto } = this.context as ProductosType;\r\n        let { unidades, precio, codigo, comentario, descripcion, open } = this.state;\r\n        const { costo, precio1, precio2, precio3 } = findProducto(codigo);\r\n        return <>\r\n            <tr>\r\n                <THFila width='90px'>{codigo}</THFila>\r\n                <THFila width='auto'>{descripcion}</THFila>\r\n                <THInput width='120px'><InputNumber min={1} setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n                <THInput width='180px'>\r\n                    <InputNumber step='0.01' list={costo + 'list'}\r\n                        min={(nivel === 0) ? parseFloat(costo.toFixed(2)) : parseFloat((costo * (1 + precio1 / 100)).toFixed(2))}\r\n                        setData={this.setState} value={precio} update=\"precio\" />\r\n                    <datalist id={costo + 'list'}>\r\n                        <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                        <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                        <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                    </datalist>\r\n                </THInput>\r\n                <THInput width='230px'><InputNumber disabled setData={() => { }} value={precio * unidades} update=\"p\" /></THInput>\r\n                <THInput width='110px'>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"info\" onClick={() => this.setState({ open: !this.state.open })} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"fa fa-edit\"></span>\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => this.props.remove(this.state)} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <ControlText maxLength={250} before=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n}\r\nFilaFactura.contextType = ProductosContext;\r\nexport default FilaFactura;","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { GeneralFila } from '../../Models/General'\r\nimport { formatoFecha, zfill } from '../Formatos'\r\ninterface PropsFila {\r\n    data: GeneralFila,\r\n    add: (iten: GeneralFila) => void\r\n    color?: string\r\n    type: 'Cotizacion' | 'Orden' | 'Nota' | 'Factura' | 'Compra'\r\n}\r\nexport default class FilaGeneraModal extends React.Component<PropsFila>{\r\n    render() {\r\n        let { data } = this.props\r\n        return <tr>\r\n            <th>{zfill(data.codigo)}</th>\r\n            <th>{formatoFecha(data.fecha)}</th>\r\n            <th>{data.nombre}</th>\r\n            <th>{this.getStatus()}</th>\r\n            <th style={{ textAlign: 'center' }}>\r\n                <Button data-tip=\"Agregar Producto\" onClick={() => { this.props.add(data) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </th>\r\n        </tr > \r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"badge badge-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"badge badge-warning\">{this.getStatus1()}</span>\r\n            case 2:\r\n                return <span className=\"badge badge-success\">{this.getStatus2()}</span>\r\n        }\r\n    }\r\n    getStatus1() {\r\n        let { type } = this.props;\r\n        switch (type) {\r\n            case 'Orden': return 'EN ESPERA';\r\n            case 'Compra': return 'SIN FACTURA';\r\n            case 'Cotizacion': return 'PENDIENTE';\r\n            case 'Nota': return 'ENTREGADO';\r\n        }\r\n    }\r\n    getStatus2() {\r\n        let { type } = this.props;\r\n        switch (type) {\r\n            case 'Compra': case 'Nota':\r\n                return 'FACTURADA';\r\n            case 'Orden': case 'Cotizacion': case 'Factura':\r\n                return 'PROCESADA';\r\n        }\r\n    }\r\n\r\n}","import React from 'react';\r\ntype es = string | undefined\r\nexport interface EstadosProps {\r\n    setData: (d: number) => void\r\n    estatus: es[]\r\n    status: number\r\n}\r\nexport default function Estados({ status, estatus, setData }: EstadosProps) {\r\n    const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => { setData(parseInt(e.currentTarget.value)) };\r\n    return <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={setStatus} className=\"form-control\" value={status}>\r\n        <option value={-1}>TODOS LOS ESTADOS</option>\r\n        {estatus[0] ? <option value={0}>{estatus[0]}</option> : <></>}\r\n        {estatus[1] ? <option value={1}>{estatus[1]}</option> : <></>}\r\n        {estatus[2] ? <option value={2}>{estatus[2]}</option> : <></>}\r\n    </select>\r\n}","import React from 'react';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport ModalBusqueda from '../../Utiles/Buscadores/Modal';\r\nimport FilaGeneraModal from '../../Utiles/Prototipos/FilaGeneraModal';\r\nimport Estados from '../../Utiles/Componentes/Estados';\r\nimport { VentasContext } from '../../Context/Ventas';\r\nclass BuscarCotizacion extends ModalBusqueda {\r\n    buscarEn = ['codigo', 'nombre', 'fecha',];\r\n    status = -1;\r\n    Buscador() {\r\n        return <Row style={{ paddingBottom: '15px' }}>\r\n            <Col className=\"col-md-9 mr-auto\">\r\n                <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            {this.buscarLabel}\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                    <Estados status={this.status} estatus={['CANCELADO', 'PENDIENTE', 'PROCESADA']} setData={d => { this.status = d; this.forceUpdate() }} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\">\r\n                            <i className=\"fa fa-search\" /> BUSCAR\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Col>\r\n            {this.Actualizar()}\r\n        </Row>\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== this.status && this.status !== -1) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <h4 className='mr-auto'>BUSCAR COTIZACION</h4>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='90px'>FECHA</Th>\r\n            <Th label='nombre' width='auto'>CLIENTE</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo + c.status} data={c} type='Cotizacion' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    getItens() { return this.context.Cotizaciones; }\r\n    set() { this.context.actCotizacion(); }\r\n    getEstado() { return this.context.estCotizacion; }\r\n}\r\nBuscarCotizacion.contextType = VentasContext;\r\nexport default BuscarCotizacion","import React from 'react';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport { EstadoNull, GeneralFila } from '../../Models/General';\r\nimport ModalBusqueda from '../../Utiles/Buscadores/Modal';\r\nimport FilaGeneraModal from '../../Utiles/Prototipos/FilaGeneraModal';\r\nimport { formatoHora } from '../../Utiles/Formatos';\r\nexport default class BuscarGuardado extends ModalBusqueda {\r\n    buscarEn = ['codigo', 'nombre', 'fecha',];\r\n    estado = EstadoNull;\r\n    Buscador() {\r\n        return <Row style={{ paddingBottom: '15px' }}>\r\n            <Col className=\"col-md-9 mr-auto\">\r\n                <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            {this.buscarLabel}\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\">\r\n                            <i className=\"fa fa-search\" /> BUSCAR\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Col>\r\n            {this.Actualizar()}\r\n        </Row>\r\n    }\r\n\r\n    Title() {\r\n        return <h4 className='mr-auto'>BUSCAR GUARDADOS</h4>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='90px'>FECHA</Th>\r\n            <Th label='nombre' width='auto'>USUARIO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo + c.status} data={c} type='Cotizacion' add={this.add.bind(this)} />\r\n    }\r\n    getEstado() { return this.estado; }\r\n    add(c: GeneralFila) { this.props.add(c); this.props.close(); }\r\n    set() {\r\n        this.estado = { status: 2, hora: '...ACTUALIZANDO' };\r\n        this.forceUpdate();\r\n        this.con.forceGetWeb('/api/Cotizacion/plantillas', itens => {\r\n            this.estado = { status: 3, hora: formatoHora(undefined) };\r\n            this.setState({ itens })\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Detalles, GeneralFila } from '../../../Models/General';\r\nimport AuxiliarNuevo, { ProductosModal } from '../../../Utiles/Prototipos/AuxiliarNuevo'\r\nimport CalcularImpuesto from '../../../Utiles/Prototipos/CalcularImpuesto'\r\nimport FilaDolar from './FilaDolar';\r\nimport FilaProducto from './FilaProducto';\r\nimport { Cotizacion } from '../../../Models/Factura'\r\nimport { Button, ButtonGroup, Col } from 'react-bootstrap';\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto';\r\nimport { Producto } from '../../../Models/Productos';\r\nimport BuscarCotizacion from '../BuscarCotizacion';\r\nimport BuscarGuardado from '../BuscarGuardado';\r\nclass AuxiliarCotizacion extends AuxiliarNuevo<{ guardar: () => void, cargar: (d: GeneralFila) => void, copiar: (d: GeneralFila) => void }>{\r\n    productos: ProductosModal = 'Cotizacion';\r\n    nuevo = true;\r\n    Row({ data }: { data: Detalles }) {\r\n        let { dolar } = this.props.data as Cotizacion;\r\n        return dolar ? <FilaDolar\r\n            key={'USD' + data.codigo}\r\n            producto={data}\r\n            edit={this.addProductos.bind(this)}\r\n            remove={this.removeProductos.bind(this)} /> :\r\n            <FilaProducto\r\n                key={'BS' + data.codigo}\r\n                producto={data}\r\n                edit={this.addProductos.bind(this)}\r\n                remove={this.removeProductos.bind(this)} />\r\n    }\r\n    BotonesLeft() {\r\n        const { props: { guardar, cargar, copiar }, state: { aux, aux2 } } = this;\r\n        return <Col xs={6}>\r\n            <BuscarCotizacion open={aux} close={() => this.setState({ aux: false })} add={copiar} />\r\n            <BuscarGuardado open={aux2} close={() => this.setState({ aux2: false })} add={cargar} />\r\n            <Button onClick={() => this.setState({ aux: true })}\r\n                data-class=\"toolbody\" data-html=\"true\"\r\n                data-tip=\"COPIAR COTIZACION\" variant=\"primary\">\r\n                <i className=\"fa fa-files-o\" />\r\n            </Button>\r\n            <ButtonGroup style={{ marginLeft: '15px' }}>\r\n                <Button variant=\"info\" onClick={guardar} data-tip=\"GUARDAR\">\r\n                    <i className=\"fa fa-floppy-o\" />\r\n                </Button>\r\n                <Button variant=\"warning\" onClick={() => this.setState({ aux2: true })} data-tip=\"CARGAR\">\r\n                    <i className=\"fa fa-folder-open\" />\r\n                </Button>\r\n            </ButtonGroup>\r\n        </Col>\r\n    }\r\n    BotonesRight() {\r\n        const { setData } = this.props;\r\n        let { dolar } = this.props.data as Cotizacion;\r\n        return <Col xs={6} style={{ textAlign: 'right' }}>\r\n            {dolar ? <Button data-tip=\"CAMBIAR A BOLIVARES\" style={{ marginRight: \"15px\" }}\r\n                variant=\"warning\" onClick={() => setData({ dolar: !dolar })} >\r\n                <span className=\"fa fa-usd\" /> COTIZACION ESTA EN DOLARES\r\n            </Button> : <Button data-tip=\"CAMBIAR A DOLARES\" style={{ marginRight: \"15px\" }}\r\n                variant=\"primary\" onClick={() => setData({ dolar: !dolar })} >\r\n                <b>BS</b> COTIZACION ESTA EN BOLIVARES\r\n            </Button>}\r\n            <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} variant=\"success\"\r\n                className=\"float-right\" onClick={() => setData({ procesar: true })} >\r\n                <span className=\"fa fa-print\" />\r\n            </Button>\r\n            <ButtonGroup className=\"float-right\" style={{ marginRight: \"15px\" }}>\r\n                {this.createProductoValidation() ?\r\n                    <Button data-tip=\"NUEVO PRODUCTO\" onClick={() => { this.setState({ nuevoProducto: true }) }} variant=\"info\">\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button> : <></>}\r\n                <Button data-tip=\"BUSCAR PRODUCTO\" onClick={() => { this.setState({ buscarProducto: true }) }} variant=\"primary\">\r\n                    <span className=\"fa fa-search\"></span>\r\n                </Button>\r\n            </ButtonGroup>\r\n        </Col >\r\n    }\r\n    Calcular({ imponible, exento }: { imponible: number, exento: number }) {\r\n        let { tasa } = this.context as ProductosType;\r\n        let { dolar } = this.props.data as Cotizacion;\r\n        if (dolar) return <CalcularImpuesto exento={exento / tasa} imponible={imponible / tasa} />;\r\n        return <CalcularImpuesto exento={exento} imponible={imponible} />;\r\n    }\r\n    createProducto(p: Producto) {\r\n        this.addProductos({ ...p, unidades: 1, precio: p.costo * (1 + (1 * p.precio2 / 100)), comentario: \"\" });\r\n    }\r\n}\r\nAuxiliarCotizacion.contextType = ProductosContext;\r\nexport default AuxiliarCotizacion;","import React from \"react\";\r\nimport { Accordion, Button, Card, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { VentasContext, VentasType } from \"../../../Context/Ventas\";\r\nimport { conCotizacion, Cotizacion, CotizacionNull, sentCotizacion } from \"../../../Models/Factura\";\r\nimport { GeneralFila } from \"../../../Models/General\";\r\nimport Condiciones from \"../../../Utiles/Componentes/Condiciones\";\r\nimport CreateOperacion from \"../../../Utiles/Componentes/CreateOperacion\";\r\nimport { numberFormat } from \"../../../Utiles/Formatos\";\r\nimport ClienteSelector from \"../../Clientes/Selector\";\r\nimport AuxiliarCotizacion from \"./AuxiliarCotizacion\";\r\nclass NuevaCotizacion extends CreateOperacion {\r\n    tasa = true;\r\n    con = conCotizacion();\r\n    tipo = 'Cotizacion'\r\n    title = 'COTIZACION'\r\n    msn = 'LA COTIZACION';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { ...CotizacionNull, procesar: false };\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    Top() {\r\n        const data = this.getData() as Cotizacion;\r\n        const { tasa, actConfig, } = this.context as VentasType;\r\n        return <>\r\n            <ClienteSelector Cliente={data.cod_cliente} add={this.setCliente.bind(this)} />\r\n            <Accordion>\r\n                <Accordion.Toggle eventKey='0' as={Button} variant='primary'>DATOS OPCIONALES</Accordion.Toggle>\r\n                <Button data-tip='ACTUALIZAR VALOR DEL DOLAR' onClick={actConfig} variant='info' className='float-right'><i className=\"fa fa-refresh\"></i></Button>\r\n                <div className='float-right mr-3 mt-1'><b><span>VALOR DEL DOLAR:</span> {numberFormat(tasa)}</b> </div>\r\n                <Accordion.Collapse eventKey='0'><Card>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Condiciones data={data} setData={this.setState} />\r\n                        </Row>\r\n                    </Card.Body>\r\n                </Card>\r\n                </Accordion.Collapse>\r\n            </Accordion>\r\n        </>\r\n    }\r\n    PDF() {\r\n        const { dolar, codigo } = this.getData() as Cotizacion;\r\n        return <Card id=\"tabla\">\r\n            <ReactTooltip />\r\n            <Button style={{ marginRight: \"15px\" }} className=\"btn-block\" onClick={() => this.setState({ dolar: !dolar })}\r\n                data-tip={dolar ? \"CAMBIAR A BOLIVARES\" : \"CAMBIAR A DOLARES\"} variant={dolar ? \"warning\" : \"primary\"}>\r\n                {dolar ? <><span className=\"fa fa-usd\" />VISTA EN DOLARES</> : <><b>BS</b> VISTA EN BOLIVARES</>}\r\n            </Button>\r\n            <iframe src={\"/api/Cotizacion/\" + (dolar ? 'PDFD' : 'PDF') + \"/\" + codigo}\r\n                width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        </Card>;\r\n    }\r\n    Productos() {\r\n        this.dolar();\r\n        return <AuxiliarCotizacion key=\"auxCotizacion\" setData={this.setState} data={this.state}\r\n            cargar={this.cargar.bind(this)} copiar={this.copiar.bind(this)} guardar={this.guardar.bind(this)} />\r\n    }\r\n    Procesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        } procesar = this.validacionGenerica(procesar);\r\n        if (procesar)\r\n            this.con.nuevo(sentCotizacion(this.getData(), this.context.impuesto), data => {\r\n                this.setState({ codigo: data })\r\n            });\r\n    }\r\n    dolar() {\r\n        const { tasa } = this.context as VentasType;\r\n        if ((tasa !== 0) && this.tasa) {\r\n            this.setState({ dolar: this.context.dolar });\r\n            this.tasa = false;\r\n        }\r\n    }\r\n    copiar(d: GeneralFila) {\r\n        this.con.detalle(d.codigo, data => {\r\n            data.codigo = 0;\r\n            this.setData(data)\r\n        });\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        this.con.get('api/Cotizacion/cargar/' + d.codigo, data => {\r\n            data.plantilla = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    guardar() {\r\n        this.con.post('/api/Cotizacion/guardar', sentCotizacion(this.getData(), this.context.impuesto), data => {\r\n            this.setData({ plantilla: data });\r\n            toast(\"DATOS GUARDADOS EN N¬∞ \" + data, { type: toast.TYPE.SUCCESS })\r\n        }, error => {\r\n            toast(\"ERROR AL CONECTAR CON SEL SERVIDOR\", { type: toast.TYPE.ERROR })\r\n        });\r\n    }\r\n}\r\nNuevaCotizacion.contextType = VentasContext;\r\nexport default NuevaCotizacion;","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport { conFactura } from '../../Models/Factura';\r\nimport FilaVentas from '../../Utiles/Prototipos/FilaVentas';\r\n\r\nexport default class FilaFactura extends FilaVentas {\r\n    con=conFactura();\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'FACTURA';\r\n        this.tipo = 'Factura';\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"float-right\">\r\n            <Button data-tip=\"VER IMPRECION\" variant=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"fa fa-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 2) ?\r\n                <Button data-tip=\"CANCELAR\" variant=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"fa fa-ban\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.status === 2)\r\n            return <span className=\"badge badge-success\">FACTURADA</span>\r\n        return <span className=\"badge badge-danger\">CANCELADA</span>;\r\n    }\r\n    cancelado() {\r\n        return 'FACTURA N¬∞ ' + this.props.data.codigo + ' CANCELADA ESXITOSAMENTE';\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport FilaFactura from './FilaFactura';\r\nimport { Link } from 'react-router-dom';\r\nimport { conFactura } from '../../Models/Factura';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Producto } from '../../Models/Productos';\r\nimport Avanzado, { AvanzadosProps } from '../../Utiles/Componentes/Avanzado';\r\nimport { VentasContext } from '../../Context/Ventas';\r\nclass ListFactura extends CardBuscador {\r\n    con = conFactura();\r\n    placeholder = \"BUSCAR FACTURA\";\r\n    buscarEn = [\"codigo\", \"nombre\", 'fecha'];\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    productos: Producto[] = []\r\n    status = -1;\r\n    user = -1;\r\n    Avansado() {\r\n        const { fecha_init, fecha_fin, status, user, productos, setAvanzados } = this;\r\n        return <Avanzado setData={setAvanzados.bind(this)}\r\n            estatus={['CANCELADO', undefined, 'FACTURADA']}\r\n            fecha_init={fecha_init} fecha_fin={fecha_fin}\r\n            status={status} user={user} productos={productos} />\r\n    }\r\n    setAvanzados({ fecha_init, fecha_fin, status, user, productos }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (user) this.user = user;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (productos) this.productos = productos;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { fecha_init, fecha_fin, status, user, productos, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== status && status !== -1) return false;\r\n            if (c.usuario !== user && user !== -1) return false;\r\n            const creacion = datetonomber(c.fecha);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            if (!productos.every(p => c.detalles.some(d => p.codigo === d))) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <>\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR FACTURA</h4>\r\n            <Link to=\"/factura/nueva\" className=\"btn btn-primary\"><span className=\"fa fa-plus\"></span> NUEVA FACTURA</Link>\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='120px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 585px)'>CLIENTE</Th>\r\n            <Th width='160px'>MONTO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaFactura update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    getItens() { return this.context.Facturas; }\r\n    set() { this.context.actFactura(); }\r\n    getEstado() { return this.context.estFactura; }\r\n}\r\nListFactura.contextType = VentasContext;\r\nexport default ListFactura\r\n","import React from 'react'\r\nimport { Button, FormControl } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Detalles } from '../../../Models/General'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { numberFormat } from '../../../Utiles/Formatos'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    nota?: number\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\nclass FilaProducto extends React.Component<Props, Detalles>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        const { data: { User: { nivel } }, findProducto } = this.context as ProductosType;\r\n        const { state: { unidades, precio, codigo, descripcion }, props: { nota } } = this;\r\n        const { costo, precio1, precio2, precio3, cantidad, inventario } = findProducto(codigo);\r\n        let p = (nivel === 0) ? costo.toFixed(2) : (costo * (1 + precio1 / 100)).toFixed(2);\r\n        let className = '';\r\n        if ((costo * (1 + precio1 / 100) > precio) && (nota === undefined)) className = 'bg-warning';\r\n        if ((cantidad < unidades) && (inventario !== 1) && (nota === undefined)) className = 'bg-danger';\r\n        return <tr className={className}>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='30%'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={.01} setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='120px'><FormControl style={{ textAlign: 'right' }} disabled value={(inventario === 1) ? 'NO APLICA' : numberFormat(cantidad)} /></THInput>\r\n            <THInput width='180px'>\r\n                <InputNumber step='0.01' setData={this.setState} value={precio} update=\"precio\"\r\n                    list={costo + 'list'} min={parseFloat(p)} />\r\n                <datalist id={costo + 'list'}>\r\n                    <option>{(costo * (1 + precio1 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio2 / 100)).toFixed(2)}</option>\r\n                    <option>{(costo * (1 + precio3 / 100)).toFixed(2)}</option>\r\n                </datalist>\r\n            </THInput>\r\n            <THInput width='230px'>\r\n                <span style={{ width: '100%', position: 'relative', backgroundColor: \"#eee\", textAlign: 'right' }}\r\n                    className=\"form-control\">{numberFormat(precio * unidades)}</span>\r\n            </THInput>\r\n            <THInput width='110px'>\r\n                <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                    <i className=\"fa fa-ban\"></i>\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    componentWillUpdate(p: Props, s: Detalles) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades)\r\n            this.props.edit(s)\r\n    }\r\n}\r\nFilaProducto.contextType = ProductosContext;\r\nexport default FilaProducto;","import React from 'react';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport Estados from '../../Utiles/Componentes/Estados';\r\nimport { conNota } from '../../Models/Factura';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport ModalBusqueda from '../../Utiles/Buscadores/Modal';\r\nimport FilaGeneraModal from '../../Utiles/Prototipos/FilaGeneraModal';\r\nimport { VentasContext } from '../../Context/Ventas';\r\nclass BuscarNota extends ModalBusqueda {\r\n    con = conNota();\r\n    buscarEn = ['codigo', 'nombre', 'fecha',];\r\n    status = -1;\r\n\r\n    title() {\r\n        return <h4 className='mr-auto'>BUSCAR NOTA DE ENTREGA</h4>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>NUMERO</Th>\r\n            <Th label='fecha' width='90px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 585px)'>CLIENTE</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo + c.status} data={c} type='Nota' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    Buscador() {\r\n        return <Row style={{ paddingBottom: '15px' }}>\r\n            <Col className=\"col-md-9 mr-auto\">\r\n                <InputGroup style={{ paddingBottom: '15px' }}>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            {this.buscarLabel}\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                    <Estados status={this.status} estatus={['CANCELADO', 'ENTREGADA', 'FACTURADA']} setData={d => { this.status = d; this.forceUpdate() }} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\">\r\n                            <i className=\"fa fa-search\" /> BUSCAR\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Col>\r\n            {this.Actualizar()}\r\n        </Row>\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== this.status && this.status !== -1) return false;\r\n            return true;\r\n        });\r\n    }\r\n    getItens() { return this.context.Notas; }\r\n    set() { this.context.actNota(); }\r\n    getEstado() { return this.context.estNota; }\r\n}\r\nBuscarNota.contextType = VentasContext;\r\nexport default BuscarNota","import React from 'react'\r\nimport { Col, Button, ButtonGroup } from 'react-bootstrap'\r\nimport { Detalles, GeneralFila } from '../../../Models/General'\r\nimport FilaProducto from './FilaProducto'\r\nimport AuxiliarNuevo, { ProductosModal } from '../../../Utiles/Prototipos/AuxiliarNuevo';\r\nimport { Factura } from '../../../Models/Factura'\r\nimport { toast } from 'react-toastify'\r\nimport { Producto } from '../../../Models/Productos'\r\nimport CalcularImpuesto from '../../../Utiles/Prototipos/CalcularImpuesto'\r\nimport { numberFormat } from '../../../Utiles/Formatos';\r\nimport BuscarCotizacion from '../../Cotizacion/BuscarCotizacion';\r\nimport BuscarNota from '../../Nota/BuscarNota';\r\nexport default class AuxiliarFactura extends AuxiliarNuevo<{ nota?: boolean, setNota: (d: GeneralFila) => void, setCotizacion: (d: GeneralFila) => void }> {\r\n    productos: ProductosModal = 'Factura';\r\n    addProductos(pr: Detalles) {\r\n        let data = this.props.data as Factura;\r\n        if (data.id_nota !== undefined)\r\n            toast(\"UNA NOTA DE ENTREGA NO PUEDE SER EDITADA AL FACTURARLA\", { type: toast.TYPE.ERROR })\r\n        else super.addProductos(pr)\r\n    }\r\n    removeProductos(pr: Detalles) {\r\n        let data = this.props.data as Factura;\r\n        if (data.id_nota !== undefined)\r\n            toast(\"UNA NOTA DE ENTREGA NO PUEDE SER EDITADA AL FACTURARLA\", { type: toast.TYPE.ERROR })\r\n        else super.removeProductos(pr)\r\n    }\r\n    createProducto(p: Producto) {\r\n        let data = this.props.data as Factura;\r\n        if (data.id_nota !== undefined)\r\n            toast(\"UNA NOTA DE ENTREGA NO PUEDE SER EDITADA AL FACTURARLA\", { type: toast.TYPE.ERROR })\r\n        else super.createProducto(p)\r\n    }\r\n    BotonesLeft() {\r\n        const { props: { setNota, setCotizacion }, state: { aux2, aux } } = this;\r\n        return <Col xs={6}>\r\n            <BuscarCotizacion open={aux} add={setCotizacion} close={() => this.setState({ aux: false })} />\r\n            <BuscarNota open={aux2} add={setNota} close={() => this.setState({ aux2: false })} />\r\n            <ButtonGroup>\r\n                <Button onClick={() => this.setState({ aux: true })}\r\n                    data-class=\"toolbody\" data-html=\"true\"\r\n                    data-tip=\"CARGAR COTIZACION\" variant=\"primary\">\r\n                    <span className=\"fa fa fa-calculator\" />\r\n                </Button>\r\n                <Button onClick={() => this.setState({ aux2: true })}\r\n                    data-class=\"toolbody\" data-html=\"true\"\r\n                    data-tip=\"CARGAR NOTA\" variant=\"primary\">\r\n                    <span className=\"fa fa-send\" />\r\n                </Button>\r\n            </ButtonGroup>\r\n        </Col>\r\n    }\r\n    Row({ data }: { data: Detalles }) {\r\n        return <FilaProducto nota={this.props.data.id_nota} key={'USD' + data.codigo} producto={data} edit={this.addProductos.bind(this)} remove={this.removeProductos.bind(this)} />;\r\n    }\r\n\r\n    THead() {\r\n        return <tr className='info'>\r\n            <th style={{ width: \"90px\", textAlign: 'center' }}>CODIGO</th>\r\n            <th style={{ textAlign: 'center' }}>DESCRIPCI√ìN</th>\r\n            <th style={{ width: \"120px\", textAlign: 'center' }}>CANTIDAD</th>\r\n            <th style={{ width: \"120px\", textAlign: 'center' }}>DISPONIBLE</th>\r\n            <th style={{ width: \"180px\", textAlign: 'center' }}>P.U.</th>\r\n            <th style={{ width: \"230px\", textAlign: 'center' }}>TOTAL</th>\r\n            <th style={{ width: \"110px\", textAlign: 'center' }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Calcular({ imponible, exento }: { imponible: number, exento: number }) {\r\n        if (this.props.nota)\r\n            return <tr>\r\n                <th colSpan={3} rowSpan={8}></th>\r\n                <th style={{ textAlign: \"right\" }} colSpan={2}>TOTAL:</th>\r\n                <th style={{ textAlign: \"right\" }}>{numberFormat(imponible + exento)}</th>\r\n            </tr>\r\n        return <CalcularImpuesto exento={exento} imponible={imponible} cols={3} />;\r\n    }\r\n}","import React from \"react\";\r\nimport { Accordion, Button, Card, Col, InputGroup } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { conCotizacion, conFactura, conNota, Cotizacion, Factura, Nota, sentFactura, sentNota, FacturaNull, updatePrecio } from \"../../../Models/Factura\";\r\nimport { GeneralFila } from \"../../../Models/General\";\r\nimport ClienteSelector from \"../../Clientes/Selector\";\r\nimport AuxiliarFactura from \"./AuxiliarFactura\";\r\nimport { InputArea } from \"../../../Utiles/Inputs\";\r\nimport { VentasContext, VentasType } from \"../../../Context/Ventas\";\r\nimport CreateOperacion from \"../../../Utiles/Componentes/CreateOperacion\";\r\nclass NuevaFactura extends CreateOperacion {\r\n    con = conFactura();\r\n    tipo = 'Factura'\r\n    title = 'FACTURA'\r\n    msn = 'LA FACTURA';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { ...FacturaNull, procesar: false };\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    Top() {\r\n        const data = this.getData() as Factura;\r\n        return <>\r\n            <ClienteSelector Cliente={data.cod_cliente} add={this.setCliente.bind(this)} />\r\n            <Accordion>\r\n                <Col xs={5}>\r\n                    <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                        <InputGroup.Prepend><InputGroup.Text>CONDICION</InputGroup.Text></InputGroup.Prepend>\r\n                        <select onChange={this.setCondicion.bind(this)}\r\n                            className=\"form-control\"\r\n                            defaultValue={data.condicion}>\r\n                            <option value=\"CONTADO\">CONTADO</option>\r\n                            <option value=\"CREDITO\">CREDITO</option>\r\n                        </select>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Accordion.Toggle eventKey='0' as={Button} variant='primary'>OBSERVACI√ìN</Accordion.Toggle>\r\n                <Accordion.Collapse eventKey='0'><Card>\r\n                    <Card.Body>\r\n                        <InputArea rows={4} maxLength={600} value={data.nota} setData={this.setState} update=\"nota\" />\r\n                    </Card.Body>\r\n                </Card>\r\n                </Accordion.Collapse>\r\n            </Accordion>\r\n        </>\r\n    }\r\n    Productos() {\r\n        return <AuxiliarFactura key=\"auxFactura\" setData={this.setState} data={this.state}\r\n            setNota={this.cargarNota} setCotizacion={this.cargarCotizacion.bind(this)} />\r\n    }\r\n    Procesar() {\r\n        let procesar = true;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }\r\n        procesar = this.validacionExixtencia(procesar);\r\n        procesar = this.valdacionPrecio(procesar);\r\n        procesar = this.validacionGenerica(procesar);\r\n        if (procesar)\r\n            this.con.nuevo(sentFactura(this.getData(), this.context.impuesto), data => this.setState({ codigo: data }));\r\n    }\r\n    cargarCotizacion(d: GeneralFila) {\r\n        const { tasa, dolar } = this.context as VentasType;\r\n        conCotizacion().detalle(d.codigo, (data: Cotizacion) => this.setState(updatePrecio(data, tasa, dolar)));\r\n    }\r\n    cargarNota(d: GeneralFila) {\r\n        conNota().detalle(d.codigo, (data: Nota) => {\r\n            let p: any = sentNota(data, 0);\r\n            p.detalles = data.detalles;\r\n            p.id_nota = data.codigo;\r\n            p.codigo = 0;\r\n            if (this.state.nota !== '') p.nota = this.state.nota;\r\n            this.setState(p)\r\n        });\r\n    }\r\n    setCondicion(v: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = v.currentTarget.value as string\r\n        this.props.change(value)\r\n    }\r\n}\r\nNuevaFactura.contextType = VentasContext;\r\nexport default NuevaFactura;","import React, { useState } from 'react';\r\nimport { Button, Modal, Row } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void,\r\n    codigo: string,\r\n    title: string\r\n}\r\nexport default function ModalPrint({ title, close, codigo, open }: Props) {\r\n    const [precio, setPrecio] = useState(true);\r\n    return <Modal show={open} onHide={close} size='xl'>\r\n        <Modal.Header closeButton>\r\n            <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                <span><b>{title}</b></span>\r\n            </h6>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Row>\r\n                <ReactTooltip />\r\n                <Button style={{ marginRight: \"15px\" }} className=\"btn-block\" onClick={() => setPrecio(!precio)}\r\n                    data-tip={precio ? \"CAMBIAR A CON PRECIO\" : \"CAMBIAR A SIN PRECIO\"} variant={precio ? \"success\" : \"primary\"}>\r\n                    <span className=\"fa fa-print\" />{precio ? \"VISTA CON PRECIO\" : \"VISTA SIN PRECIO\"}\r\n                </Button>\r\n                <iframe src={\"/api/Nota/\" + (precio ? 'PDF' : 'PDFSP') + \"/\" + codigo}\r\n                    width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n            </Row>\r\n        </Modal.Body>\r\n    </Modal>\r\n}","\r\nimport React from 'react';\r\nimport { conNota } from '../../Models/Factura';\r\nimport ModalPrint from './ModalPrint';\r\nimport FilaVentas from '../../Utiles/Prototipos/FilaVentas';\r\nimport { zfill } from '../../Utiles/Formatos';\r\n\r\nexport default class FilaNota extends FilaVentas {\r\n    con = conNota();\r\n    print = false;\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'NOTA DE ENTREGA';\r\n        this.tipo = 'Nota';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <ModalPrint title={\"IMPRIMIR \" + this.Label + \" N¬∞ \" + zfill(codigo)}\r\n            codigo={zfill(codigo)}\r\n            key={'PrintDolar' + this.tipo + codigo}\r\n            open={this.state.print} close={this.close.bind(this)} />\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"badge badge-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"badge badge-warning\">ENTREGADO</span>\r\n            case 2:\r\n                return <span className=\"badge badge-success\">FACTURADA</span>\r\n        }\r\n    }\r\n    cancelado() {\r\n        return 'NOTA DE ENTREGA N¬∞ ' + this.props.data.codigo + ' CANCELADA ESXITOSAMENTE';\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport FilaNota from './FilaNota';\r\nimport { Link } from 'react-router-dom';\r\nimport { conNota } from '../../Models/Factura';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Producto } from '../../Models/Productos';\r\nimport Avanzado, { AvanzadosProps } from '../../Utiles/Componentes/Avanzado';\r\nimport { VentasContext } from '../../Context/Ventas';\r\nclass ListNotas extends CardBuscador {\r\n    con = conNota();\r\n    placeholder = \"BUSCAR NOTA DE ENTREGA\";\r\n    buscarEn = [\"codigo\", \"nombre\", 'fecha', 'rif'];\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    productos: Producto[] = []\r\n    status = -1;\r\n    user = -1;\r\n    Avansado() {\r\n        const { fecha_init, fecha_fin, status, user, productos, setAvanzados } = this;\r\n        return <Avanzado setData={setAvanzados.bind(this)}\r\n            estatus={['CANCELADO', 'ENTREGADA', 'FACTURADA']}\r\n            fecha_init={fecha_init} fecha_fin={fecha_fin}\r\n            status={status} user={user} productos={productos} />\r\n    }\r\n    setAvanzados({ fecha_init, fecha_fin, status, user, productos }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (user) this.user = user;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (productos) this.productos = productos;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { fecha_init, fecha_fin, status, user, productos, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== status && status !== -1) return false;\r\n            if (c.usuario !== user && user !== -1) return false;\r\n            const creacion = datetonomber(c.fecha);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            if (!productos.every(p => c.detalles.some(d => p.codigo === d))) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <>\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR NOTA DE ENTREGA</h4>\r\n            <Link to=\"/nota/nueva\" className=\"btn btn-primary\"><span className=\"fa fa-plus\"></span>NUEVA NOTA DE ENTREGA</Link>\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='120px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 585px)'>CLIENTE</Th>\r\n            <Th width='160px'>MONTO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaNota update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    getItens() { return this.context.Notas; }\r\n    set() { this.context.actNota(); }\r\n    getEstado() { return this.context.estNota; }\r\n}\r\nListNotas.contextType = VentasContext;\r\nexport default ListNotas\r\n","import React from \"react\";\r\nimport { Accordion, Button, Card } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { VentasContext, VentasType } from \"../../Context/Ventas\";\r\nimport { conCotizacion, conNota, Cotizacion, Nota, sentNota, updatePrecio } from \"../../Models/Factura\";\r\nimport { GeneralFila, generalNull } from \"../../Models/General\";\r\nimport CreateOperacion from \"../../Utiles/Componentes/CreateOperacion\";\r\nimport { InputArea } from \"../../Utiles/Inputs\";\r\nimport ClienteSelector from \"../Clientes/Selector\";\r\nimport AuxiliarFactura from \"../Facturas/Nuevo/AuxiliarFactura\";\r\nclass NuevaNota extends CreateOperacion {\r\n    tipo = 'Nota';\r\n    title = 'NOTA DE ENTREGA';\r\n    msn = 'LA NOTA DE ENTREGA';\r\n    con = conNota();\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { ...generalNull, cod_cliente: '', procesar: false };\r\n    }\r\n    setCliente(p: string) {\r\n        this.setState({ cod_cliente: p });\r\n    }\r\n    Top() {\r\n        const { cod_cliente, nota } = this.getData() as Nota;\r\n        return <>\r\n            <ClienteSelector Cliente={cod_cliente} add={this.setCliente.bind(this)} />\r\n            <Accordion>\r\n                <Accordion.Toggle eventKey='0' as={Button} variant='primary'>NOTA</Accordion.Toggle>\r\n                <Accordion.Collapse eventKey='0'><Card>\r\n                    <Card.Body>\r\n                        <InputArea rows={4} maxLength={600} value={nota} setData={this.setState} update=\"nota\" />\r\n                    </Card.Body>\r\n                </Card>\r\n                </Accordion.Collapse>\r\n            </Accordion>\r\n        </>\r\n    }\r\n\r\n    PDF() {\r\n        const { procesar, codigo } = this.state;\r\n        return <Card id=\"tabla\">\r\n            <ReactTooltip />\r\n            <Button style={{ marginRight: \"15px\" }} className=\"btn-block\" onClick={() => this.setState({ procesar: !procesar })}\r\n                data-tip={!procesar ? \"CAMBIAR A CON PRECIO\" : \"CAMBIAR A SIN PRECIO\"} variant={!procesar ? \"success\" : \"primary\"}>\r\n                <span className=\"fa fa-print\" />{!procesar ? \"VISTA CON PRECIO\" : \"VISTA SIN PRECIO\"}\r\n            </Button>\r\n            <iframe src={\"/api/Nota/\" + (!procesar ? 'PDF' : 'PDFSP') + \"/\" + codigo}\r\n                width='100%' height='700wh' title=\"print\" scrolling='no' frameBorder='0' />\r\n        </Card>;\r\n    }\r\n    Productos() {\r\n        return <AuxiliarFactura key=\"auxFactura\" setData={this.setState} data={this.state} nota\r\n            setNota={this.cargarNota} setCotizacion={this.cargarCotizacion.bind(this)} />\r\n    }\r\n    Procesar() {\r\n        let procesar = true;\r\n        let generico = this.validacionGenerica();\r\n        let cantidad = this.validacionExixtencia();\r\n        let precio = this.valdacionPrecio();\r\n        if (!(generico && cantidad && precio)) procesar = false;\r\n        if (this.state.cod_cliente === \"\") {\r\n            toast('DEBE SELECCIONAR UN CLIENTE', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }\r\n         generico = this.validacionGenerica(procesar);\r\n         cantidad = this.validacionExixtencia(procesar);\r\n         precio = this.valdacionPrecio(procesar);\r\n        if (procesar)\r\n            this.con.nuevo(sentNota(this.getData(), this.context.impuesto), data => this.setState({ codigo: data }));\r\n    }\r\n    cargarCotizacion(d: GeneralFila) {\r\n        const { tasa, dolar } = this.context as VentasType;\r\n        conCotizacion().detalle(d.codigo, (data: Cotizacion) => this.setState(updatePrecio(data, tasa, dolar)));\r\n    }\r\n    cargarNota(d: GeneralFila) {\r\n        this.con.detalle(d.codigo, (data) => {\r\n            data.codigo = 0;\r\n            data.nota = this.state.nota;\r\n            this.setState(data)\r\n        });\r\n    }\r\n}\r\nNuevaNota.contextType = VentasContext;\r\nexport default NuevaNota;","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport '../../App/Login/Login.css'\r\nexport default function UnAutorization() {\r\n    return <Card  style={{ height: 'calc(100vh - 200px)' }}>\r\n        <Card.Header className='bg-danger d-flex'>\r\n            <h2>NO ESTA AUTORIZADO PARA ESTAR EN ESTE SITIO</h2>\r\n        </Card.Header>\r\n        <Card.Body>\r\n            <Card.Img style={{ marginLeft: '25%', transform: 'translate(-50%);', width: '15rem', height: '15rem' }} width='15rem' height='15rem' src='/logos/stop.svg' />\r\n        </Card.Body>\r\n    </Card>\r\n}","import React, { useContext } from 'react';\r\nimport { Route } from \"react-router-dom\"\r\nimport ListaClientes from '../App/Clientes';\r\nimport ListaCotizaciones from '../App/Cotizacion';\r\nimport NuevaCotizacion from '../App/Cotizacion/Nuevo';\r\nimport ListaFactura from '../App/Facturas';\r\nimport NuevaFactura from '../App/Facturas/Nuevo';\r\nimport ListaNotas from '../App/Nota';\r\nimport NuevaNota from '../App/Nota/Nuevo';\r\nimport { SeccionContext } from '../Context/Seccion';\r\nimport VentasProvider from '../Context/Ventas'\r\nimport UnAutorization from '../Utiles/Componentes/UnAutorization';\r\nexport default function MasterVentas() {\r\n    return (<VentasProvider>\r\n        <Route path=\"/cotizacion\" component={Cotizacion} />\r\n        <Route path=\"/factura\" component={Factura} />\r\n        <Route path=\"/nota\" component={Nota} />\r\n        <Route path=\"/clientes\" component={Cliente} />\r\n    </VentasProvider>);\r\n}\r\nfunction Cotizacion() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'COTIZACION'))\r\n        return <>\r\n            <Route path=\"/cotizacion/lista\" component={ListaCotizaciones} />\r\n            <Route path=\"/cotizacion/nueva\" component={NuevaCotizacion} />\r\n        </>\r\n    return <UnAutorization />\r\n}\r\nfunction Factura() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'FACTURA'))\r\n        return <>\r\n            <Route path=\"/factura/lista\" component={ListaFactura} />\r\n            <Route path=\"/factura/nueva\" component={NuevaFactura} />\r\n        </>\r\n    return <UnAutorization />\r\n}\r\nfunction Nota() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'NOTA'))\r\n        return <>\r\n            <Route path=\"/nota/lista\" component={ListaNotas} />\r\n            <Route path=\"/nota/nueva\" component={NuevaNota} />\r\n        </>\r\n    return <UnAutorization />\r\n}\r\nfunction Cliente() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'CLIENTE'))\r\n        return <ListaClientes />\r\n    return <UnAutorization />\r\n}","import { Conexion } from \"../Config/Coneccion\";\r\nimport { sentDetalles, getSubtotal, condicionesNull, CondicionesData, GeneralData } from \"./General\";\r\nvar dataNull = {\r\n    ...condicionesNull,\r\n    cod_proveedor: '',\r\n\r\n}\r\nexport interface Orden extends CondicionesData {\r\n    cod_proveedor: string\r\n}\r\nexport function sentOrden(e: Orden, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_proveedor, validez, tiempo_entrega, forma_pago, nota } = e;\r\n    return {\r\n        cod_proveedor,\r\n        validez,\r\n        tiempo_entrega,\r\n        forma_pago,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport var ordenNull: Orden = dataNull;\r\nexport interface Compra extends GeneralData {\r\n    cod_proveedor: string\r\n    id_orden: number\r\n    cod_documento: string\r\n    cod_nota: string\r\n    nun_control: string\r\n    fecha_documento: string\r\n}\r\nexport function sentCompra(e: Compra, iva: number) {\r\n    let subtotal = getSubtotal(e.detalles),\r\n        impuesto = subtotal * (iva / 100),\r\n        total = subtotal + impuesto;\r\n    let { cod_proveedor, nota, cod_documento, nun_control, fecha_documento, id_orden } = e;\r\n    return {\r\n        id_orden,\r\n        cod_proveedor,\r\n        cod_documento,\r\n        nun_control,\r\n        fecha_documento,\r\n        nota,\r\n        total,\r\n        impuesto,\r\n        subtotal,\r\n        detalles: sentDetalles(e.detalles)\r\n    }\r\n}\r\nexport var compraNull: Compra = {\r\n    ...dataNull,\r\n    id_orden: 0,\r\n    cod_documento: '',\r\n    cod_nota: '',\r\n    nun_control: '',\r\n    fecha_documento: '',\r\n}\r\nclass OrdenConexion extends Conexion {\r\n    clase = 'Orden';\r\n    persistencia = 1000;\r\n}\r\nexport function conOrden() {\r\n    return new OrdenConexion();\r\n}\r\nclass CompraConexion extends Conexion {\r\n    clase = 'Compra';\r\n    persistencia = 1000;\r\n    facturar(codigo: string | number, data: any, setData?: (d: any) => void) {\r\n        this.post(\"/api/Compra/facturar/\" + codigo, data, data => { if (setData) setData(data) })\r\n    }\r\n}\r\nexport function conCompra() {\r\n    return new CompraConexion();\r\n}","import React from 'react'\r\nimport { conCompra, conOrden } from '../Models/Compra'\r\nimport { arrayToFilaGeneral, Estado, EstadoNull, GeneralFila } from '../Models/General'\r\nimport Proveedor, { conProveedor, ProveedorNull } from '../Models/Proveedor'\r\nimport { formatoHora } from '../Utiles/Formatos'\r\nimport { ProductosContext, ProductosType } from './Producto'\r\ninterface State {\r\n    estOrdenes: Estado\r\n    estCompras: Estado\r\n    estProveedores: Estado\r\n    Ordenes: GeneralFila[]\r\n    Compras: GeneralFila[]\r\n    Proveedores: Proveedor[]\r\n}\r\nexport interface ComprasType extends ProductosType, State {\r\n    actualizar: () => void\r\n    actCompra: () => void\r\n    actOrden: () => void\r\n    actProveedor: () => void\r\n    findProveedor: (p: string) => Proveedor | undefined\r\n}\r\nexport const ComprasContext = React.createContext<ComprasType | null>(null)\r\nclass ComprasProvider extends React.Component<any, State> {\r\n    Ordenes = 0;\r\n    Compras = 0;\r\n    Proveedores = 0;\r\n    constructor(props: any) {\r\n        super(props)\r\n        this.state = {\r\n            Ordenes: [],\r\n            Compras: [],\r\n            Proveedores: [],\r\n            estOrdenes: EstadoNull,\r\n            estCompras: EstadoNull,\r\n            estProveedores: EstadoNull\r\n        }\r\n    }\r\n    render() {\r\n        let seccionContext: ProductosType = this.context;\r\n        this.set();\r\n        return <ComprasContext.Provider value={{\r\n            ...this.state, ...seccionContext,\r\n            actualizar: this.set.bind(this),\r\n            actCompra: this.actCompra.bind(this),\r\n            actOrden: this.actOrden.bind(this),\r\n            actProveedor: this.actProveedor.bind(this),\r\n            findProveedor: this.findProveedor.bind(this),\r\n        }}>\r\n            {this.props.children}\r\n        </ComprasContext.Provider>\r\n    }\r\n    componentDidMount() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.length > 0) {\r\n            if (seccionContext.data.Permisos.some(p => (p === 'COMPRA')))\r\n                conCompra().cargarListaCache((data) => {\r\n                    this.setState({ Compras: arrayToFilaGeneral(data) })\r\n                });\r\n            conOrden().cargarListaCache((data) => { this.setState({ Ordenes: arrayToFilaGeneral(data) }) });\r\n            conProveedor().cargarListaCache((data) => { this.setState({ Proveedores: this.arrayToProveedor(data) }) });\r\n        } else {\r\n            setTimeout(() => { this.init(); }, 1000);\r\n        }\r\n    }\r\n    set() {\r\n        this.actCompra();\r\n        this.actOrden();\r\n        this.actProveedor();\r\n    }\r\n    actCompra() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => (p === 'COMPRA'))) {\r\n            if (this.Compras !== seccionContext.data.estados.Compra) {\r\n                this.Compras = seccionContext.data.estados.Compra;\r\n                if (this.state.estCompras.status !== 2) {\r\n                    this.setState({ estCompras: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conCompra().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Compras: arrayToFilaGeneral(data),\r\n                            estCompras: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    actOrden() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => (p === 'COMPRA' || p === 'ORDEN'))) {\r\n            if (this.Ordenes !== seccionContext.data.estados.Orden) {\r\n                this.Ordenes = seccionContext.data.estados.Orden;\r\n                if (this.state.estOrdenes.status !== 2) {\r\n                    this.setState({ estOrdenes: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conOrden().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Ordenes: arrayToFilaGeneral(data),\r\n                            estOrdenes: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    actProveedor() {\r\n        let seccionContext: ProductosType = this.context;\r\n        if (seccionContext.data.Permisos.some(p => p === 'COMPRA' || p === 'ORDEN' || p === 'PROVEEDOR')) {\r\n            if (this.Proveedores !== seccionContext.data.estados.Proveedor) {\r\n                this.Proveedores = seccionContext.data.estados.Proveedor;\r\n                if (this.state.estProveedores.status !== 2) {\r\n                    this.setState({ estProveedores: { status: 2, hora: '...ACTUALIZANDO' } })\r\n                    conProveedor().cargarListaWeb((data) => {\r\n                        this.setState({\r\n                            Proveedores: this.arrayToProveedor(data),\r\n                            estProveedores: { status: 3, hora: formatoHora(undefined) }\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    findProveedor(p: string) {\r\n        const pro = this.state.Proveedores.find(Pro => Pro.codigo === p);\r\n        if (pro !== undefined) return pro;\r\n        if (this.state.estProveedores.status !== 2) this.actProveedor();\r\n        return ProveedorNull;\r\n\r\n    }\r\n    arrayToProveedor(p: any[]): Proveedor[] {\r\n        return p.map(a => {\r\n            return {\r\n                codigo: a[0],\r\n                nombre: a[1],\r\n                telefono: a[2],\r\n                correo: a[3],\r\n                contacto: a[4],\r\n                direccion: a[5],\r\n                estatus: a[6]\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\nComprasProvider.contextType = ProductosContext;\r\nexport default ComprasProvider;\r\nexport const SeccionConsumer = ComprasContext.Consumer;","import { ComprasContext } from '../../Context/Compras';\r\nimport Cliente from '../../Models/Cliente';\r\nimport FilaProto from './FilaProto';\r\nclass FilaCompras extends FilaProto {\r\n    tooltipCliente() {\r\n        let cli: Cliente = this.context.findProveedor(this.props.data.rif);\r\n        if (cli)\r\n            return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n                \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n                cli.contacto + \"<br />\" +\r\n                \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n                cli.correo + \"<br />\" +\r\n                \"<b>TELEFONO:</b><br />\" +\r\n                cli.telefono\r\n        return '';\r\n    }\r\n}\r\nFilaCompras.contextType = ComprasContext;\r\nexport default FilaCompras","import React from 'react';\r\nimport { Button, ButtonGroup, Col, FormGroup, Modal, Row } from 'react-bootstrap';\r\nimport { conCompra } from '../../Models/Compra';\r\nimport { zfill } from '../../Utiles/Formatos';\r\nimport { ControlDate, ControlText } from '../../Utiles/FormControl';\r\ninterface Props {\r\n    open: boolean,\r\n    close: () => void\r\n    id: number\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    cod_doc: string\r\n    num_con: string\r\n    fecha_doc: string\r\n}\r\nexport default class RegistrarFactura extends React.Component<Props, State> {\r\n    con = conCompra();\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { cod_doc: \"\", num_con: \"\", fecha_doc: \"\" };\r\n        this.setState = this.setState.bind(this);\r\n        this.actualizar = this.actualizar.bind(this);\r\n    }\r\n    render() {\r\n        let { props: { close, open, id }, state: { cod_doc, num_con, fecha_doc }, setState, actualizar } = this;\r\n        return <Modal bsSize=\"lg\" show={open} onHide={close}>\r\n            <Modal.Header>\r\n                <h4 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>REGISTRAR FACTURA DE COMPRA N¬∞: {zfill(id)}</b></span>\r\n                </h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row style={{ padding: \"10px 10px 10px 10px\" }}>\r\n                    <Row>\r\n                        <FormGroup as={Col} xs='12'>\r\n                            <ControlText maxLength={50} upper before=\"NUMERO DE DOCUMENTO\" setData={setState} update=\"cod_doc\" value={cod_doc} />\r\n                        </FormGroup>\r\n                        <FormGroup as={Col} xs='12'>\r\n                            <ControlText maxLength={50} upper before=\"NUMERO DE CONTROL\" setData={setState} update=\"num_con\" value={num_con} />\r\n                        </FormGroup>\r\n                        <FormGroup as={Col} xs='12'>\r\n                            <ControlDate before=\"FECHA DE DOCUMENTO\" setData={setState} update=\"fecha_doc\" value={fecha_doc} />\r\n                        </FormGroup>\r\n                    </Row>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button onClick={actualizar} variant=\"success\">\r\n                        <span className=\"fa fa-check-circle-o\"></span> Aceptar\r\n                    </Button>\r\n                    <Button onClick={close} variant=\"danger\">\r\n                        <span className=\"fa fa-remove-circle\"></span> Cancelar\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Modal.Footer>\r\n        </Modal >\r\n    }\r\n    actualizar() {\r\n        this.con.facturar(this.props.id, this.state, this.props.update);\r\n    }\r\n}","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport { conCompra } from '../../Models/Compra';\r\nimport FilaCompras from '../../Utiles/Prototipos/FilaCompras';\r\nimport RegistrarFactura from './RegistrarFactura';\r\n\r\nexport default class FilaCompra extends FilaCompras {\r\n    con = conCompra();\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'COMPRA';\r\n        this.tipo = 'Compra';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <RegistrarFactura id={codigo}\r\n                key={'RegistrarFactura' + this.tipo + codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"badge badge-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"badge badge-warning\">SIN FACTURA</span>\r\n            case 2:\r\n                return <span className=\"badge badge-success\">FACTURADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"float-right\">\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"REGISTAR FACTURA\" variant=\"default\"\r\n                    onClick={() => { this.setState({ aux: true }) }} >\r\n                    <i className=\"fa fa-pencil\"></i>\r\n                </Button> : <></>}\r\n            <Button data-tip=\"VER IMPRECION\" variant=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"fa fa-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status > 0) ?\r\n                <Button data-tip=\"CANCELAR\" variant=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"fa fa-ban\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    cancelado() {\r\n        return 'COMPRA N¬∞ ' + this.props.data.codigo + ' CANCELADA ESXITOSAMENTE';\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport FilaCompra from './FilaCompra';\r\nimport { Link } from 'react-router-dom';\r\nimport { conCompra } from '../../Models/Compra';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport Avanzado, { AvanzadosProps } from '../../Utiles/Componentes/Avanzado';\r\nimport { Producto } from '../../Models/Productos';\r\nimport { ComprasContext } from '../../Context/Compras';\r\nclass ListaCompra extends CardBuscador {\r\n    con = conCompra();\r\n    placeholder = \"BUSCAR COMPRA\";\r\n    buscarEn = [\"codigo\", \"nombre\", 'fecha', 'rif'];\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    productos: Producto[] = []\r\n    status = -1;\r\n    user = -1;\r\n    Title() {\r\n        return <>\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR COMPRA</h4>\r\n            <Link to=\"/compra/nueva\" className=\"btn btn-primary\"><span className=\"fa fa-plus\"></span> NUEVA COMPRA</Link>\r\n        </>\r\n    }\r\n    Avansado() {\r\n        const { fecha_init, fecha_fin, status, user, productos, setAvanzados } = this;\r\n        return <Avanzado setData={setAvanzados.bind(this)}\r\n            estatus={['CANCELADO', 'SIN FACTURA', 'FACTURADA']}\r\n            fecha_init={fecha_init} fecha_fin={fecha_fin}\r\n            status={status} user={user} productos={productos} />\r\n    }\r\n    setAvanzados({ fecha_init, fecha_fin, status, user, productos }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (user) this.user = user;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (productos) this.productos = productos;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { fecha_init, fecha_fin, status, user, productos, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== status && status !== -1) return false;\r\n            if (c.usuario !== user && user !== -1) return false;\r\n            const creacion = datetonomber(c.fecha);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            if (!productos.every(p => c.detalles.some(d => p.codigo === d))) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='120px'>FECHA</Th>\r\n            <Th label='nombe' width='calc(100% - 585px)'>PROVEEDOR</Th>\r\n            <Th width='160px'>MONTO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr >\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaCompra update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    getItens() { return this.context.Compras; }\r\n    set() { this.context.actCompra(); }\r\n    getEstado() { return this.context.estCompras; }\r\n}\r\nListaCompra.contextType = ComprasContext;\r\nexport default ListaCompra;\r\n","import React from 'react'\r\nimport { Button, Modal, Row, Col, FormGroup, FormLabel } from 'react-bootstrap'\r\nimport { toast } from 'react-toastify'\r\nimport { ComprasContext, ComprasType } from '../../Context/Compras'\r\nimport Proveedor, { conProveedor, ProveedorNull } from '../../Models/Proveedor'\r\nimport { ControlArea, ControlText } from '../../Utiles/FormControl'\r\ninterface Props {\r\n    open: boolean\r\n    Proveedor: Proveedor | null\r\n    title: string\r\n    close: () => void\r\n    add?: (c: Proveedor) => void\r\n}\r\ninterface State extends Proveedor {\r\n    activeError: boolean;\r\n}\r\nclass FormProveedor extends React.Component<Props, State> {\r\n    error: any = [];\r\n    con = conProveedor();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.setState = this.setState.bind(this);\r\n        let state = p.Proveedor;\r\n        if (state === null) state = ProveedorNull;\r\n        this.state = { ...state, activeError: false };\r\n    }\r\n    render() {\r\n        let { setState, state } = this\r\n        return <Modal animation show={this.props.open} size='lg' centered onHide={this.props.close}>\r\n            <Modal.Header className='bg-primary' closeButton>\r\n                <h4 className='mr-auto'>{this.props.title}</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} upper={true} mask='A-99999999-9' maxLength={20}\r\n                            before=\"RIF\" value={state.codigo} setData={setState} update=\"codigo\" disabled={(this.props.Proveedor !== null)} />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} upper={true} before=\"RAZON SOCIAL\" maxLength={150}\r\n                            value={state.nombre} setData={setState} update=\"nombre\" />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText  upper={true} before=\"CORREO\" maxLength={150}\r\n                            value={state.correo} setData={setState} update=\"correo\" />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} upper={true} maxLength={120}\r\n                            before=\"TEL√âFONO\" value={state.telefono} setData={setState} update=\"telefono\" />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <ControlText error={this.error} upper={true} before=\"PERSONA DE CONTACTO\"\r\n                            maxLength={50} value={state.contacto} setData={setState} update=\"contacto\" />\r\n                    </Col>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <FormLabel>DIRECCION</FormLabel>\r\n                        <ControlArea error={this.error} upper={true} value={state.direccion} setData={setState} update=\"direccion\" maxLength={300} />\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.get.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> GUARDAR\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    }\r\n    isInvalid(s: string) {\r\n        if (s === \"\")\r\n            return true\r\n        return false\r\n    }\r\n    get() {\r\n        \r\n        this.error = [];\r\n        let procesar = true;\r\n        if (this.state.codigo === \"\") {            \r\n            this.error['codigo'] = 'DEBE COLOCAR EL DOCUMENTO LEGAL DEL PROVEEDOR';\r\n            procesar=false;\r\n        } if (this.state.nombre === \"\") {\r\n            this.error['nombre'] = 'DEBE COLOCAR LA RAZON SOCIAL';\r\n            procesar=false;\r\n        } if (this.state.telefono === \"\") {\r\n            this.error['telefono'] = 'DEBE COLOCAR NUMERO DE TELEFONO';\r\n            procesar=false;\r\n        }  if (this.state.contacto === \"\") {\r\n            this.error['contacto'] = 'DEBE COLOCAR LA PERSONA DE CONTACTO';\r\n            procesar=false;\r\n        }  if (this.state.direccion === \"\") {\r\n            this.error['direccion'] = 'DEBE COLOCAR UNA DIRECCION'; \r\n            procesar=false;\r\n        } if(procesar) {\r\n            if (this.props.Proveedor === null) {\r\n                this.con.nuevo(this.state, this.action.bind(this),  this.setError.bind(this));\r\n            } \r\n            else {\r\n                this.con.actualizar(this.props.Proveedor.codigo,\r\n                    this.state, this.action.bind(this),  this.setError.bind(this))\r\n            } \r\n        } this.forceUpdate();\r\n    }\r\n    action(data: any) {\r\n        const context = this.context as ComprasType;\r\n        if (this.props.add) this.props.add(data);\r\n        context.actProveedor();\r\n        if (this.props.Proveedor === null) this.setState(ProveedorNull);\r\n        this.props.close();\r\n        \r\n    }\r\n\r\n    setError(err: any) {\r\n        if (err.response) {\r\n            let { errores } = err.response;\r\n            errores.forEach((err: any) => {\r\n                if (err.sql) {\r\n                    err.sql.forEach((er: string) => toast(er, { type: toast.TYPE.ERROR }));\r\n                } else {\r\n                    Object.keys(err).forEach(t => this.error[t] = err[t])\r\n                }\r\n            })\r\n            console.log(this.error);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n}\r\n\r\nFormProveedor.contextType = ComprasContext;\r\nexport default FormProveedor;","import React from 'react'\r\nimport { Row, Col, Button, InputGroup, ButtonGroup, Card, Accordion, FormControl } from 'react-bootstrap'\r\nimport { ComprasContext } from '../../Context/Compras'\r\nimport Proveedor, { conProveedor, ProveedorNull } from '../../Models/Proveedor'\r\nimport { busqueda } from '../../Utiles/Filtros'\r\nimport FormProveedor from './Form'\r\ninterface Props {\r\n    Proveedor: string\r\n    add: (Proveedor: string) => void\r\n}\r\ninterface State {\r\n    proveedor: Proveedor\r\n    buscarNumbre: string\r\n    buscarCodigo: string\r\n    nuevo: boolean\r\n}\r\nclass ProveedorSelector extends React.Component<Props, State> {\r\n    con = conProveedor();\r\n    nombre = React.createRef<HTMLInputElement>();\r\n    codigo = React.createRef<HTMLInputElement>();\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { nuevo: false, proveedor: ProveedorNull, buscarCodigo: '', buscarNumbre: '' }\r\n    }\r\n    render() {\r\n        const { state: { nuevo, proveedor, buscarCodigo, buscarNumbre } } = this\r\n        return <Card as={Accordion} id=\"tabla\">\r\n            <FormProveedor Proveedor={null} title=\"NUEVO PROVEEDOR\" open={nuevo} add={this.seleccion.bind(this)} close={this.close.bind(this)} />\r\n            <Card.Body>\r\n                <Row><Col xs={12}><h4 className='mr-auto'><b>DATOS DEL PROVEEDOR</b></h4></Col></Row>\r\n                <Row>\r\n                    <InputGroup className=\"mb-3\" style={{ width: '30%', marginRight: '15px', marginLeft: '10px' }}>\r\n                        <InputGroup.Prepend >\r\n                            <InputGroup.Text>RIF</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl style={{ width: 'calc(100% - 60px)', position: 'relative' }} list=\"inputCodigo\"\r\n                            ref={this.codigo}\r\n                            onKeyUp={this.limpiarCodigo.bind(this)}\r\n                            onChange={this.setBuscarCodigo.bind(this)}\r\n                            defaultValue={buscarCodigo} />\r\n                    </InputGroup>\r\n                    <datalist id=\"inputCodigo\">\r\n                        {this.getList(busqueda(this.context.Proveedores, buscarCodigo, ['codigo']), 'codigo')}\r\n                    </datalist>\r\n                    <InputGroup className=\"mb-3\" style={{ width: 'calc(70% - 160px)', marginRight: '15px' }}>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>NOMBRE</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl style={{ width: 'calc(100% - 100px)' }} list=\"inputNombre\" className=\"form-control\"\r\n                            ref={this.nombre}\r\n                            onKeyUp={this.limpiarNombre.bind(this)}\r\n                            onChange={this.setBuscarNombre.bind(this)}\r\n                            defaultValue={buscarNumbre} />\r\n                    </InputGroup>\r\n                    <datalist id=\"inputNombre\">\r\n                        {this.getList(busqueda(this.context.Proveedores, buscarCodigo, ['nombre']), 'nombre')}\r\n                    </datalist>\r\n                    <ButtonGroup style={{ width: \"110px\" }} className=\"float-right mb-3\">\r\n                        <Button data-tip=\"VER MAS\" as={Accordion.Toggle} eventKey=\"1\">\r\n                            <i className=\"fa fa-eye\"></i>\r\n                        </Button>\r\n                        <Button data-tip=\"NUEVO PROVEEDOR\" onClick={() => { this.setState({ nuevo: true }) }} variant=\"info\">\r\n                            <i className=\"fa fa-edit\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Row>\r\n                <Accordion.Collapse eventKey='1'>\r\n                    <Row>\r\n                        <Col xs={12}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>NOMBRE</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl disabled value={proveedor.correo} />\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>TELEFONO</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl disabled value={proveedor.telefono} />\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                                <InputGroup.Prepend>\r\n                                    <InputGroup.Text>PERSONA DE CONTACTO</InputGroup.Text>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl disabled value={proveedor.contacto} />\r\n                            </InputGroup>\r\n                        </Col>\r\n                        <Col xs={12} className=\"mb-3\">\r\n                            <b>DICECCION</b>\r\n                            <FormControl rows={3} as='textarea' disabled value={proveedor.direccion} />\r\n                        </Col>\r\n                    </Row>\r\n                </Accordion.Collapse>\r\n            </Card.Body>\r\n        </Card>\r\n    }\r\n    seleccion(c: Proveedor) {\r\n        this.set();\r\n        this.props.add(c.codigo);\r\n        if (this.nombre.current)\r\n            this.nombre.current.value = c.nombre;\r\n        if (this.codigo.current)\r\n            this.codigo.current.value = c.codigo;\r\n        this.setState({ proveedor: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n    }\r\n    setBuscarNombre(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarNumbre: b });\r\n        this.context.Proveedores.forEach((c: Proveedor) => {\r\n            if (c.nombre === b) this.props.add(c.codigo);\r\n        });\r\n    }\r\n    setBuscarCodigo(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let b = e.target.value.toUpperCase()\r\n        this.setState({ buscarCodigo: b });\r\n        this.context.Proveedores.forEach((c: Proveedor) => {\r\n            if (c.codigo === b) this.props.add(c.codigo);\r\n        });\r\n    }\r\n    limpiarNombre(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        console.log(e.keyCode );\r\n        console.log(this.context.Proveedores );\r\n        \r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiarCodigo(e: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (e.keyCode === 8) {\r\n            e.currentTarget.value = '';\r\n            this.limpiar();\r\n        }\r\n    }\r\n    limpiar() {\r\n        this.setState({ proveedor: ProveedorNull, buscarCodigo: '', buscarNumbre: '' })\r\n        if (this.nombre.current) this.nombre.current.value = \"\";\r\n        if (this.codigo.current) this.codigo.current.value = \"\";\r\n    }\r\n    getList(lista: Proveedor[], label: 'codigo' | 'nombre') {\r\n        return lista.map(c => <option key={label + c.codigo}>{c[label]}</option>)\r\n    }\r\n    componentWillReceiveProps(p: Props) {\r\n        if (this.state.proveedor.codigo !== p.Proveedor)\r\n            this.context.Proveedores.forEach((c: Proveedor) => {\r\n                if (c.codigo === p.Proveedor) {\r\n                    if (this.nombre.current) this.nombre.current.value = c.nombre;\r\n                    if (this.codigo.current) this.codigo.current.value = c.codigo;\r\n                    this.setState({ proveedor: c, buscarCodigo: c.codigo, buscarNumbre: c.nombre });\r\n                }\r\n            });\r\n    }\r\n    componentDidMount() { this.set(); }\r\n    close() { this.setState({ nuevo: false }) }\r\n    set() { this.context.actProveedor(); }\r\n}\r\nProveedorSelector.contextType = ComprasContext;\r\nexport default ProveedorSelector","import React from 'react';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport Estados from '../../Utiles/Componentes/Estados';\r\nimport { conOrden } from '../../Models/Compra';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport ModalBusqueda from '../../Utiles/Buscadores/Modal';\r\nimport FilaGeneraModal from '../../Utiles/Prototipos/FilaGeneraModal';\r\nimport { ComprasContext } from '../../Context/Compras';\r\nclass BuscarOrden extends ModalBusqueda{\r\n    con=conOrden();\r\n    buscarEn = ['codigo', 'nombre', 'fecha',];\r\n    status = -1;\r\n    Buscador() {\r\n        return <Row style={{ paddingBottom: '15px' }}>\r\n            <Col className=\"col-md-9 mr-auto\">\r\n                <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            {this.buscarLabel}\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                    <Estados status={this.status} estatus={['CANCELADO', 'EN ESPERA', 'PROCESADA']} setData={d => { this.status = d; this.forceUpdate() }} />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"primary\">\r\n                            <i className=\"fa fa-search\" /> BUSCAR\r\n                        </Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </Col>\r\n            <Button size='sm' onClick={this.set.bind(this)} data-tip=\"ACTUALIZAR LISTA\" variant=\"info\">\r\n                <i className=\"fa fa-refresh\"></i> ACTUALIZAR\r\n            </Button>\r\n        </Row>\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== this.status && this.status !== -1) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <h4 className='mr-auto'>BUSCAR ORDEN DE COMPRA</h4>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>NUMERO</Th>\r\n            <Th label='fecha' width='90px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 585px)'>PROVEEDOR</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(c: GeneralFila) {\r\n        return <FilaGeneraModal key={c.codigo+c.status} data={c} type='Orden' add={this.add.bind(this)} />\r\n    }\r\n    add(c: GeneralFila) {\r\n        this.props.add(c);\r\n        this.props.close();\r\n    }\r\n    getItens() { return this.context.Ordenes; }\r\n    set() { this.context.actOrden(); }\r\n    getEstado() { return this.context.estOrdenes; }\r\n}\r\nBuscarOrden.contextType = ComprasContext;\r\nexport default BuscarOrden;","\r\nimport React from 'react';\r\nimport { Button, FormControl } from 'react-bootstrap';\r\nimport { Detalles } from '../../../Models/General';\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila';\r\nimport { numberFormat } from '../../../Utiles/Formatos';\r\nimport { InputNumber } from '../../../Utiles/Inputs';\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles { }\r\nexport default class FilaProducto extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, precio, descripcion, codigo } = this.state\r\n        return <tr>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='120px'><InputNumber min={.01} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n            <THInput width='180px'><InputNumber min={.01} step='0.01' setData={this.setState} value={precio} update=\"precio\" /></THInput>\r\n            <THInput width='180px'><FormControl disabled value={numberFormat(precio * unidades)} /></THInput>\r\n            <THInput width='70px'>\r\n                <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                    <i className=\"fa fa-ban\"></i>\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { Button, Col } from 'react-bootstrap';\r\nimport { Detalles, GeneralFila } from '../../../Models/General';\r\nimport AuxiliarNuevo from '../../../Utiles/Prototipos/AuxiliarNuevo'\r\nimport BuscarOrden from '../../Orden/BuscarOrden';\r\nimport FilaProducto from './FilaProducto';\r\n\r\n\r\nexport default class AuxiliarCompra extends AuxiliarNuevo<{ ordenes: 'COPIAR' | 'CARGAR', cargar: (d: GeneralFila) => void }> {\r\n    nuevo = true;\r\n    BotonesLeft() {\r\n        const { ordenes, cargar } = this.props;\r\n        return <Col xs={6}>\r\n            <BuscarOrden open={this.state.aux} add={cargar} close={() => this.setState({ aux: false })} />\r\n            <Button onClick={() => { this.setState({ aux: true }) }}\r\n                data-class=\"toolbody\" data-html=\"true\"\r\n                data-tip={ordenes + \" ORDEN <br> DE COMPRA\"} variant=\"primary\">\r\n                <span className=\"fa fa-folder-open\" />\r\n            </Button>\r\n        </Col>\r\n    }\r\n    Row({ data }: { data: Detalles }) {\r\n        return <FilaProducto key={'USD' + data.codigo} producto={data} edit={this.addProductos.bind(this)} remove={this.removeProductos.bind(this)} />;\r\n    }\r\n}","import React from \"react\";\r\nimport { Col, Card, Accordion, Button, Row } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ComprasContext, ComprasType } from \"../../../Context/Compras\";\r\nimport { Compra, compraNull, conCompra, sentCompra } from \"../../../Models/Compra\";\r\nimport { GeneralFila } from \"../../../Models/General\";\r\nimport CreateOperacion from \"../../../Utiles/Componentes/CreateOperacion\";\r\nimport { ControlText } from \"../../../Utiles/FormControl\";\r\nimport { InputArea } from \"../../../Utiles/Inputs\";\r\nimport ProveedorSelector from \"../../proveedores/Selector\";\r\nimport AuxiliarCompra from \"./AuxiliarCompra\";\r\nclass NuevaCompra extends CreateOperacion {\r\n    con = conCompra();\r\n    tipo = 'Compra';\r\n    title = 'COMPRA'\r\n    msn = 'LA COMPRA';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { ...compraNull, procesar: false };\r\n    }\r\n    Top() {\r\n        const { cod_proveedor, cod_documento, nun_control, fecha_documento, nota } = this.getData() as Compra;\r\n        return <>\r\n            <ProveedorSelector Proveedor={cod_proveedor} add={this.setProveedor.bind(this)} />\r\n            <Accordion>\r\n                <Accordion.Toggle eventKey='0' as={Button} variant='primary'>DATOS OPCIONALES</Accordion.Toggle>\r\n                <Accordion.Collapse eventKey='0'>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <Row>\r\n                                <Col data-tip=\"NUMERO DE FACTURA\" xs={4}>\r\n                                    <ControlText maxLength={50} before=\"N¬∞ FACTURA\" value={cod_documento} setData={this.setState} update=\"cod_documento\" />\r\n                                </Col>\r\n                                <Col data-tip=\"NUMERO DE CONTROL\" xs={4}>\r\n                                    <ControlText maxLength={50} before=\"N¬∞ CONTROL\" value={nun_control} setData={this.setState} update=\"nun_control\" />\r\n                                </Col>\r\n                                <Col data-tip=\"FECHA DE LA FACTURA\" xs={4}>\r\n                                    <ControlText type='date' before=\"FECHA\" value={fecha_documento} setData={this.setState} update=\"fecha_documento\" />\r\n                                </Col>\r\n                                <Col xs={12}><br />\r\n                                    <b>NOTA</b>\r\n                                    <InputArea name='nota' rows={4} maxLength={600} value={nota} setData={this.setState} update=\"nota\" />\r\n                                </Col>\r\n                            </Row>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Accordion.Collapse>\r\n            </Accordion>\r\n        </>\r\n    }\r\n    Productos() {\r\n        return <AuxiliarCompra key=\"auxCompra\" ordenes='CARGAR' setData={this.setState} data={this.state} cargar={this.cargar.bind(this)} />\r\n    }\r\n    Procesar() {\r\n        let procesar = true;\r\n        const { impuesto } = this.context as ComprasType;\r\n        const data = this.getData() as Compra;\r\n        if (data.cod_proveedor === \"\") {\r\n            toast('DEBE SELECCIONAR UN PROVEEDOR', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }\r\n        procesar = this.validacionGenerica(procesar);\r\n        if (procesar)\r\n            this.con.nuevo(sentCompra(data, impuesto), data => { this.setState({ codigo: data }) });\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        this.con.get('/api/Orden/detalles/' + d.codigo, data => {\r\n            data.id_orden = data.codigo;\r\n            data.codigo = 0;\r\n            this.setState(data)\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_proveedor: p });\r\n    }\r\n}\r\nNuevaCompra.contextType = ComprasContext;\r\nexport default NuevaCompra;","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport { conOrden } from '../../Models/Compra';\r\nimport FilaCompras from '../../Utiles/Prototipos/FilaCompras';\r\nimport Seguimientos from '../../Utiles/Componentes/Seguimiento';\r\n\r\nexport default class FilaOrden extends FilaCompras {\r\n    con = conOrden();\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.Label = 'ORDEN DE COMPRA';\r\n        this.tipo = 'Orden';\r\n    }\r\n    getModal() {\r\n        let { codigo } = this.props.data;\r\n        return <>\r\n            <Seguimientos\r\n                key={'Seguimientos' + this.tipo + codigo}\r\n                type='Orden'\r\n                id={codigo}\r\n                close={this.close.bind(this)}\r\n                open={this.state.aux}\r\n            />\r\n        </>\r\n    }\r\n    getStatus() {\r\n        switch (this.props.data.status) {\r\n            case 0:\r\n                return <span className=\"badge badge-danger\">CANCELADA</span>\r\n            case 1:\r\n                return <span className=\"badge badge-warning\">EN ESPERA</span>\r\n            case 2:\r\n                return <span className=\"badge badge-success\">PROCESADA</span>\r\n        }\r\n    }\r\n    getButtons() {\r\n        return <ButtonGroup className=\"float-right\">\r\n            <Button data-tip=\"VER SEGUIMIENTO\" variant='outline-dark'\r\n                onClick={() => { this.setState({ aux: true }) }} >\r\n                <i className=\"fa fa-eye\"></i>\r\n            </Button>\r\n            <Button data-tip=\"VER IMPRECION\" variant=\"primary\"\r\n                onClick={() => { this.setState({ print: true }) }}>\r\n                <i className=\"fa fa-download\"></i>\r\n            </Button>\r\n            {(this.props.data.status === 1) ?\r\n                <Button data-tip=\"CANCELAR\" variant=\"danger\"\r\n                    onClick={() => { this.setState({ eliminar: true }) }} >\r\n                    <i className=\"fa fa-ban\"></i>\r\n                </Button> : <></>}\r\n        </ButtonGroup>\r\n    }\r\n    cancelado() {\r\n        return 'ORDEN DE COMPRA N¬∞ ' + this.props.data.codigo + ' CANCELADA ESXITOSAMENTE';\r\n    }\r\n}","import React from 'react';\r\nimport { GeneralFila } from '../../Models/General';\r\nimport FilaOrden from './FilaOrden';\r\nimport { Link } from 'react-router-dom';\r\nimport { conOrden } from '../../Models/Compra';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Producto } from '../../Models/Productos';\r\nimport Avanzado, { AvanzadosProps } from '../../Utiles/Componentes/Avanzado';\r\nimport { ComprasContext } from '../../Context/Compras';\r\nclass ListOrdenes extends CardBuscador {\r\n    con = conOrden();\r\n    placeholder = \"BUSCAR ORDEN DE COMPRA\";\r\n    buscarEn = [\"codigo\", \"nombre\", 'fecha', 'rif'];\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    productos: Producto[] = []\r\n    status = -1;\r\n    user = -1;\r\n    Avansado() {\r\n        const { fecha_init, fecha_fin, status, user, productos, setAvanzados } = this;\r\n        return <Avanzado setData={setAvanzados.bind(this)}\r\n            estatus={['CANCELADO', 'EN ESPERA', 'PROCESADA']}\r\n            fecha_init={fecha_init} fecha_fin={fecha_fin}\r\n            status={status} user={user} productos={productos} />\r\n    }\r\n    setAvanzados({ fecha_init, fecha_fin, status, user, productos }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (user) this.user = user;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (productos) this.productos = productos;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { fecha_init, fecha_fin, status, user, productos, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: GeneralFila) => {\r\n            if (c.status !== status && status !== -1) return false;\r\n            if (c.usuario !== user && user !== -1) return false;\r\n            const creacion = datetonomber(c.fecha);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            if (!productos.every(p => c.detalles.some(d => p.codigo === d))) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <>\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR ORDEN DE COMPRA</h4>\r\n            <Link to=\"/orden/nueva\" className=\"btn btn-primary\"><span className=\"fa fa-plus\"></span> NUEVA ORDEN DE COMPRA</Link>\r\n        </>\r\n    }\r\n    Row(p: GeneralFila) {\r\n        return <FilaOrden update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='120px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 585px)'>PROVEEDOR</Th>\r\n            <Th width='160px'>MONTO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    getItens() { return this.context.Ordenes; }\r\n    set() { this.context.actOrden(); }\r\n    getEstado() { return this.context.estOrdenes; }\r\n}\r\nListOrdenes.contextType = ComprasContext;\r\nexport default ListOrdenes;\r\n","import React from \"react\";\r\nimport { Accordion, Button, Card } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ComprasContext, ComprasType } from \"../../Context/Compras\";\r\nimport { conOrden, Orden, ordenNull, sentOrden } from \"../../Models/Compra\";\r\nimport { GeneralFila } from \"../../Models/General\";\r\nimport Condiciones from \"../../Utiles/Componentes/Condiciones\";\r\nimport CreateOperacion from \"../../Utiles/Componentes/CreateOperacion\";\r\nimport AuxiliarCompra from \"../Compra/Nuevo/AuxiliarCompra\";\r\nimport ProveedorSelector from \"../proveedores/Selector\";\r\nclass NuevaOrden extends CreateOperacion {\r\n    con = conOrden();\r\n    tipo = 'Orden';\r\n    title = 'ORDEN DE COMPRA'\r\n    msn = 'LA ORDEN DE COMPRA';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { ...ordenNull, procesar: false };\r\n    }\r\n    Top() {\r\n        const data = this.getData();\r\n        return <>\r\n            <ProveedorSelector Proveedor={data.cod_proveedor} add={this.setProveedor.bind(this)} />\r\n            <Accordion>\r\n                <Accordion.Toggle eventKey='0' as={Button} variant='primary'>DATOS OPCIONALES</Accordion.Toggle>\r\n                <Accordion.Collapse eventKey='0'><Card>\r\n                    <Card.Body>\r\n                        <Condiciones data={data} setData={this.setState} />\r\n                    </Card.Body>\r\n                </Card>\r\n                </Accordion.Collapse>\r\n            </Accordion>\r\n        </>\r\n    }\r\n    Productos() {\r\n        return <AuxiliarCompra cargar={this.cargar.bind(this)} key=\"auxCompra\" ordenes='CARGAR' setData={this.setState} data={this.state} />\r\n    }\r\n    Procesar() {\r\n        let procesar = true;\r\n        const { impuesto } = this.context as ComprasType;\r\n        const data = this.getData() as Orden;\r\n        if (data.cod_proveedor === \"\") {\r\n            toast('DEBE SELECCIONAR UN PROVEEDOR', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }procesar = this.validacionGenerica();\r\n        if (procesar)\r\n            this.con.nuevo(sentOrden(data, impuesto), data => { this.setState({ codigo: data }) });\r\n    }\r\n    cargar(d: GeneralFila) {\r\n        this.con.get('api/Orden/detalles/' + d.codigo, data => {\r\n            data.codigo = 0;\r\n            this.setState(data);\r\n        })\r\n    }\r\n    setProveedor(p: string) {\r\n        this.setState({ cod_proveedor: p });\r\n    }\r\n}\r\nNuevaOrden.contextType = ComprasContext;\r\nexport default NuevaOrden;","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Proveedor, { conProveedor } from '../../Models/Proveedor';\r\nimport THFila from '../../Utiles/Componentes/THFila';\r\nimport FormProveedor from './Form';\r\n// import FormCliente from './FormCliente';\r\n\r\ninterface Props {\r\n    data: Proveedor\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    edit: boolean\r\n}\r\nexport default class FilaProveedor extends React.Component<Props, State>{\r\n    con = conProveedor();\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { edit: false };\r\n\r\n    }\r\n    render() {\r\n        return <tr >\r\n            <THFila width='150px'>\r\n                {this.props.data.codigo}\r\n            </THFila>\r\n            <th>\r\n                <ReactTooltip />\r\n                <FormProveedor open={this.state.edit}\r\n                    key={'Editproveedor' + this.props.data.codigo}\r\n                    title={'EDITAR DATOS DE ' + this.props.data.nombre}\r\n                    Proveedor={this.props.data}\r\n                    close={() => { this.setState({ edit: false }) }}\r\n                    add={this.props.update} />\r\n                <Button style={{ whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", overflow: \"hidden\" }}\r\n                    data-class=\"toolbody\" data-html=\"true\" data-tip={this.tooltipCliente()} variant=\"link\" >\r\n                    {this.props.data.nombre}\r\n                </Button>\r\n            </th>\r\n            <THFila width='120px'>\r\n                {this.getStatus()}\r\n            </THFila>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={() => { this.setState({ edit: true }) }}>\r\n                        <i className=\"fa fa fa-edit\"></i>\r\n                    </Button>\r\n                    {(this.props.data.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        return <></>;\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    tooltipCliente() {\r\n        let cot = this.props.data\r\n        return \"<h9 style='color: #5bc0de'>DATOS DE CONTACTO</h9><br />\" +\r\n            \"<b>PERSONA DE CONTACTO:</b><br />\" +\r\n            cot.contacto + \"<br />\" +\r\n            \"<b>CORREO ELECTRONICO:</b><br />\" +\r\n            cot.correo + \"<br />\" +\r\n            \"<b>TELEFONO:</b><br />\" +\r\n            cot.telefono\r\n    }\r\n    close() {\r\n        this.setState({ edit: false });\r\n    }\r\n    cancelar() {\r\n        this.con.cancelar(this.props.data.codigo, this.props.update)\r\n        this.close();\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Col, Row } from 'react-bootstrap';\r\nimport { ComprasContext } from '../../Context/Compras';\r\nimport Cliente from '../../Models/Cliente'\r\nimport { conProveedor } from '../../Models/Proveedor';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport FilaProveedor from './Fila';\r\nimport FormProveedor from './Form';\r\n\r\nclass ListaProveedores extends CardBuscador {\r\n    con = conProveedor();\r\n    placeholder = \"BUSCAR PROVEEDOR\";\r\n    buscarEn = ['codigo', 'nombre', 'contacto', 'correo', 'telefono'];\r\n    status = -1;\r\n    Avansado() {\r\n        return <Row>\r\n            <Col style={{ minWidth: '230px' }} md={12}>\r\n                <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={this.setStatus.bind(this)} className=\"form-control\" value={this.status}>\r\n                    <option value={-1}>TODOS LOS ESTADOS</option>\r\n                    <option value={0}>INACTIVO</option>\r\n                    <option value={1}>ACTIVO</option>\r\n                </select>\r\n            </Col>\r\n        </Row>;\r\n    }\r\n    Title() {\r\n        return <>\r\n            <FormProveedor open={this.state.modal} title='NUEVO PROVEEDOR' Proveedor={null}\r\n                close={() => { this.setState({ modal: false }) }} add={this.set.bind(this)} />\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR PROVEEDOR</h4>\r\n            <Button onClick={() => { this.setState({ modal: true }) }}><i className=\"fa fa-edit\"></i> NUEVO PROVEEDOR</Button>\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th width='150px' label='codigo'>CI/RIF</Th>\r\n            <Th width='calc(100% - 335px)' label='nombre'>NOMBRE</Th>\r\n            <Th width='120px'>ESTATUS</Th>\r\n            <Th width='135px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(d: Cliente) {\r\n        return <FilaProveedor key={d.codigo + d.estatus} update={this.set.bind(this)} data={d} />\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        if (this.status !== -1) itens = itens.filter(i => { return (i.estatus === this.status); })\r\n        return itens;\r\n    }\r\n    setStatus(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.status = parseInt(value);\r\n        this.forceUpdate();\r\n    }\r\n    getItens() { return this.context.Proveedores; }\r\n    set() { this.context.actProveedor(); }\r\n    getEstado() { return this.context.estProveedores; }\r\n}\r\nListaProveedores.contextType = ComprasContext;\r\nexport default ListaProveedores;\r\n","import React from 'react';\r\nimport ListaCompra from '../App/Compra';\r\nimport NuevaCompra from '../App/Compra/Nuevo';\r\nimport ListaOrden from '../App/Orden';\r\nimport NuevaOrden from '../App/Orden/Nuevo';\r\nimport { Route } from \"react-router-dom\"\r\nimport ComprasProvider from '../Context/Compras'\r\nimport ListaProveedores from '../App/proveedores';\r\nimport { useContext } from 'react';\r\nimport { SeccionContext } from '../Context/Seccion';\r\nimport UnAutorization from '../Utiles/Componentes/UnAutorization';\r\n\r\nexport default function MasterCompras() {\r\n    return (<ComprasProvider>\r\n        <Route path=\"/orden\" component={Orden} />\r\n        <Route path=\"/compra\" component={Compras} />\r\n        <Route path=\"/proveedores\" component={Proveedor} />\r\n    </ComprasProvider>);\r\n}\r\nfunction Orden() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'ORDEN'))\r\n        return <>\r\n            <Route path=\"/orden/lista\" component={ListaOrden} />\r\n            <Route path=\"/orden/nueva\" component={NuevaOrden} />\r\n        </>\r\n    return <UnAutorization />\r\n}\r\nfunction Compras() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'COMPRA'))\r\n        return <>\r\n            <Route path=\"/compra/lista\" component={ListaCompra} />\r\n            <Route path=\"/compra/nueva\" component={NuevaCompra} />\r\n        </>\r\n    return <UnAutorization />\r\n}\r\nfunction Proveedor() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'PROVEEDOR'))\r\n        return <ListaProveedores />\r\n    return <UnAutorization />\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../Models/Config';\r\nimport { InputArea } from '../../Utiles/Inputs';\r\ninterface State {\r\n    garantia: string,\r\n    observacion: string\r\n}\r\nexport default class Ventas extends React.Component<any, State> {\r\n    con = ConConfig('ventas');\r\n    state = { observacion: '', garantia: '' };\r\n    render() {\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE VENTAS </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <label className=\"control-label\">GARANTIA DE LOS PRODUCTOS:</label>\r\n                <InputArea setData={this.setState.bind(this)} value={this.state.garantia} update=\"garantia\" />\r\n                <br /><label className=\"control-label\">OBSERVACION GENERAL:</label>\r\n                <InputArea setData={this.setState.bind(this)} value={this.state.observacion} update=\"observacion\" />\r\n                <br />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react'\r\nimport { conMoneda, Moneda } from '../../Models/General';\r\n\r\ninterface Props {\r\n    change: (r: string) => void\r\n    defaultValue: string\r\n\r\n}\r\ninterface State {\r\n    Monedas: Moneda[] | 'carro'\r\n}\r\nexport default class MonedaSelector extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p);\r\n        this.state = { Monedas: 'carro' };\r\n    }\r\n    setUsers(c: Moneda[]) {\r\n        if(Array.isArray(c))\r\n        this.setState({ Monedas: c })\r\n    }\r\n    render() {\r\n        return <select style={{width:'calc(100% - 100px'}} onChange={this.setRol.bind(this)} className=\"form-control\" value={this.props.defaultValue}>\r\n            <option value={-1}>SELECCIONAR MONEDA</option>\r\n            {(this.state.Monedas !== 'carro') ? this.state.Monedas.map(c => {\r\n                return <option key={\"Monedas\" + c.codigo} value={c.descripcion}>{c.descripcion}</option>\r\n            }) : <></>}\r\n        </select>\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    setRol(Rol: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = Rol.currentTarget.value as string\r\n        this.props.change(value);\r\n    }\r\n    set() {\r\n        conMoneda().lista(this.setUsers.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Col, InputGroup, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../Models/Config';\r\nimport { ControlNumber, ControlText } from '../../Utiles/FormControl';\r\nimport MonedaSelector from '../Moneda/Selector';\r\ninterface State {\r\n    cod_fiscal: string,\r\n    moneda: string\r\n    impuesto: number\r\n}\r\nexport default class Region extends React.Component<any, State> {\r\n    con = ConConfig('region');\r\n    state = { cod_fiscal: '', moneda: '', impuesto: 0 };\r\n    render() {\r\n        let { cod_fiscal, moneda, impuesto } = this.state;\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE REGION </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Col md={12}>\r\n                    <ControlText after=\"EJEMPLO: RIF, CUIT, NIT...\"  before=\"IDENTIFICACION TRIBUTARIA\" value={cod_fiscal} setData={setState} update=\"cod_fiscal\" />\r\n                </Col>\r\n                <Col md={7}><br />\r\n                    <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                        <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">MONEDA</span>\r\n                        <MonedaSelector defaultValue={moneda} change={this.setMoneda.bind(this)} />\r\n                    </InputGroup>\r\n                </Col>\r\n                <Col md={5}><br />\r\n                    <ControlNumber min={.01} step=\".01\"  before=\"IMPUESTO\" value={impuesto} setData={setState} update=\"impuesto\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                        <span className=\"fa fa-floppy-o\" /> Guardar\r\n                    </Button>\r\n                </Col>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    setMoneda(moneda: string) {\r\n        this.setState({ moneda })\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, ButtonGroup, Col, InputGroup, Card, FormGroup, Row } from 'react-bootstrap';\r\nimport { Impreciones } from '../../../Models/General';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport { ControlNumber } from '../../../Utiles/FormControl';\r\ninterface Props {\r\n    data: Impreciones\r\n    version: string\r\n    setData: (d: any) => void\r\n}\r\nexport default class Formulario extends React.Component<Props, { verciones: { value: 1, nombre: string }[] }> {\r\n    state: { verciones: { value: 1, nombre: string }[] } = { verciones: [] };\r\n    render() {\r\n        let { data: { margen_sup, margen_inf, margen_izq, margen_der, tipo_papel, encabezado, piepagina, version }, setData } = this.props;\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h5>CONFIGURACION DE IMPRESI√ìN </h5>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Row>\r\n                    <Col as={FormGroup} xs={12}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>TIPO DE PAGINA</InputGroup.Text></InputGroup.Prepend>\r\n                            <select onChange={this.setTipoPapel.bind(this)} className=\"form-control\" value={tipo_papel}>\r\n                                <option value=\"LETTER\">CARTA</option>\r\n                                <option value=\"LEGAL\">OFICIO</option>\r\n                            </select>\r\n                        </InputGroup>\r\n                    </Col>\r\n                    {(this.state.verciones.length > 0) ? <Col xs={12} as={FormGroup}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '100px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">VERSION</span>\r\n                            <select style={{ width: 'calc(100% - 100px)', position: 'relative' }} onChange={this.setVersion.bind(this)}\r\n                                className=\"form-control\" value={version}>\r\n                                {this.state.verciones.map(v => {\r\n                                    return <option value={v.value}>{v.nombre}</option>\r\n                                })}\r\n                            </select>\r\n                        </InputGroup>\r\n                    </Col> : <></>}\r\n                    <Col md={12} as={FormGroup}>\r\n                        <ButtonGroup style={{ width: '100%' }}>\r\n                            <Button style={{ width: '50%' }} onClick={() => { setData({ encabezado: !encabezado }) }} variant={encabezado ? 'success' : 'danger'}>\r\n                                COLOCAR ENCABEZADO: {encabezado ? 'SI' : 'NO'}\r\n                            </Button>\r\n                            <Button style={{ width: '50%' }} onClick={() => { setData({ piepagina: !piepagina }) }} variant={piepagina ? 'success' : 'danger'}>\r\n                                COLOCAR PIE DE PAGINA: {piepagina ? 'SI' : 'NO'}\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                    <Col md={6} as={FormGroup}>\r\n                        <ControlNumber min={1} step=\"1\" before=\"MARGEN SUPERIOR\" value={margen_sup} setData={setData} update=\"margen_sup\" />\r\n                    </Col>\r\n                    <Col md={6} as={FormGroup}>\r\n                        <ControlNumber min={1} step=\"1\" before=\"MARGEN INFERIOR\" value={margen_inf} setData={setData} update=\"margen_inf\" />\r\n                    </Col>\r\n                    <Col md={6} as={FormGroup}>\r\n                        <ControlNumber min={1} step=\"1\" before=\"MARGEN IZQUIERDO\" value={margen_izq} setData={setData} update=\"margen_izq\" />\r\n                    </Col>\r\n                    <Col md={6} as={FormGroup}>\r\n                        <ControlNumber min={1} step=\"1\" before=\"MARGEN DERECHO\" value={margen_der} setData={setData} update=\"margen_der\" />\r\n                    </Col>\r\n                </Row>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    setTipoPapel(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.props.setData({ tipo_papel: value });\r\n    }\r\n    setVersion(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        let value = e.currentTarget.value as string;\r\n        this.props.setData({ version: value });\r\n    }\r\n    componentDidMount() {\r\n        ConConfig('versiones').pull(data => {\r\n            this.setState({ verciones: data[this.props.version] })\r\n            this.forceUpdate()\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport { Button,  Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport Formulario from './Formulario';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nimport { ControlNumber } from '../../../Utiles/FormControl';\r\nimport { InputArea } from '../../../Utiles/Inputs';\r\ninterface State extends Impreciones {\r\n    observacion: string,\r\n    num_factura: number,\r\n}\r\nexport default class Factura extends React.Component<any, State> {\r\n    con = ConConfig('factura');\r\n    state = { ...imprecionNull, num_factura: 0, observacion: '', };\r\n    render() {\r\n        let { num_factura, observacion } = this.state;\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE FACTURA </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h5>CONFIGURACION DE DATOS POR DEFECTO </h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <ControlNumber value={num_factura} setData={setState} update=\"num_factura\" min={0} step=\"1\"\r\n                            disabled={num_factura > 0} label=\"NUMERO INICIAL DE FACTURA\" />\r\n                        <b style={{ color: \"red\" }}>UNA VEZ INICIALIZADO YA NO PUEDE SER CAMBIADO</b>\r\n                        <br /><b>OBSERVACI√ìN</b>\r\n                        <InputArea rows={6} maxLength={600} value={observacion} setData={setState} update=\"observacion\" />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Formulario version='factura' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card >)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Col, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../Models/Config';\r\nimport { ControlText } from '../../Utiles/FormControl';\r\nimport { InputArea } from '../../Utiles/Inputs';\r\ninterface State {\r\n    nombre: string\r\n    numero_fiscal: string\r\n    direccion: string\r\n    telefono: string\r\n    correo: string\r\n    web: string\r\n    pago: string\r\n    logo: string\r\n    eslogan: string\r\n}\r\nexport default class Empresa extends React.Component<any, State> {\r\n    con = ConConfig('empresa');\r\n    state = { nombre: '', numero_fiscal: '', direccion: '', telefono: '', correo: '', web: '', pago: '', logo: '', eslogan: '' };\r\n    render() {\r\n        let { nombre, numero_fiscal, direccion, telefono, correo, web, pago, logo, eslogan } = this.state;\r\n        let img = logo.length < 100 ? '/public/imagenes/' + logo : logo;\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE REGION </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Col md={12}>\r\n                    <ControlText before=\"NUMERO FISCAL\" value={numero_fiscal} setData={setState} update=\"numero_fiscal\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <ControlText before=\"NOMBRE\" value={nombre} setData={setState} update=\"nombre\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <ControlText before=\"CORREO\" value={correo} setData={setState} update=\"correo\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <ControlText before=\"TELEFONO\" value={telefono} setData={setState} update=\"telefono\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <ControlText before=\"WEB\" value={web} setData={setState} update=\"web\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <label className=\"control-label\">DIRECCION:</label>\r\n                    <InputArea rows={3} setData={this.setState.bind(this)} value={direccion} update=\"direccion\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <label className=\"control-label\">INFORMACION DE PAGO:</label>\r\n                    <InputArea rows={3} setData={this.setState.bind(this)} value={pago} update=\"pago\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <label className=\"control-label\">ESLOGAN:</label>\r\n                    <InputArea rows={3} setData={this.setState.bind(this)} value={eslogan} update=\"eslogan\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <label className=\"control-label\">LOGO:</label>\r\n                    <label style={{ width: '300px' }}>\r\n                        <img src={img} width=\"100%\" alt='logo' />\r\n                        <input style={{ display: \"none\" }} onChange={this.setImage.bind(this)} type=\"file\" />\r\n                    </label>\r\n                </Col>\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    setImage(e: React.ChangeEvent<HTMLInputElement>) {\r\n        let t = this, f = e.currentTarget.files;\r\n        let reader = new FileReader()\r\n        reader.onloadend = function () {\r\n            t.setState({ logo: reader.result as string })\r\n        }\r\n        if (f != null) reader.readAsDataURL(f[0]);\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from \"react\"\r\nimport { Button, ButtonGroup } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport { conDepartamento, Departamento } from \"../../Models/Productos\"\r\nimport { ControlText } from \"../../Utiles/FormControl\"\r\ninterface Props {\r\n    d: Departamento\r\n    update?: () => void\r\n}\r\nexport class FilaDepartamento extends React.Component<Props, Departamento> {\r\n    con = conDepartamento()\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = p.d\r\n    }\r\n    render() {\r\n        let { codigo, descripcion } = this.state\r\n        return <tr>\r\n            <th style={{ width: \"100px\" }}>\r\n                {codigo}\r\n            </th>\r\n            <th style={{ width: \"calc(100% - 270px)\" }}>\r\n                <ReactTooltip />\r\n                <ControlText setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {this.getStatus()}\r\n            </th>\r\n            <th style={{ width: \"70px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={this.edit.bind(this)}>\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button>\r\n                    {(this.props.d.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr>\r\n    }\r\n    getStatus() {\r\n        if (this.props.d.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    cancelar() {\r\n        let { update, d: { codigo } } = this.props;\r\n        this.con.cancelar(codigo, update);\r\n    }\r\n    edit() {\r\n        let { descripcion } = this.state;\r\n        let { update, d: { codigo } } = this.props;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            this.con.actualizar(codigo, this.state, update);\r\n        }\r\n    }\r\n}","import React from \"react\"\r\nimport { Button, Table } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport { conDepartamento, Departamento } from \"../../Models/Productos\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    update?: () => void\r\n}\r\nexport default class NuevoDepartamento extends React.Component<Props, Departamento> {\r\n    con = conDepartamento()\r\n    state = { codigo: '', descripcion: '', estatus: 1 };\r\n    render() {\r\n        let { codigo, descripcion } = this.state\r\n        return <>\r\n            <br />\r\n            <b>NUEVO DEPARTAMENTO</b>\r\n            <Table>\r\n                <tr>\r\n                    <th style={{ width: \"100px\" }}>\r\n                        <InputText setData={this.setState.bind(this)} value={codigo} update=\"codigo\" />\r\n                    </th>\r\n                    <th style={{ width: \"calc(100% - 170px)\" }}>\r\n                        <ReactTooltip />\r\n                        <InputText placeholder='DESCRIPCION ' setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n                    </th>\r\n                    <th style={{ width: \"70px\" }}>\r\n                        <Button variant=\"primary\" onClick={this.nuevo.bind(this)}>\r\n                            <i className=\"fa fa-edit\"></i> GUARDAR\r\n                        </Button>\r\n                    </th>\r\n                </tr>\r\n            </Table>\r\n        </>\r\n    }\r\n    nuevo() {\r\n        let { descripcion, codigo } = this.state;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else if (codigo === '') {\r\n            toast('DEBE COLOCAR UN CODIGO', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            let { update } = this.props;\r\n            this.con.nuevo(this.state, update);\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { conDepartamento, Departamento } from '../../Models/Productos';\r\nimport { FilaDepartamento } from './Fila';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport NuevoDepartamento from './Nuevo';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport { ProductosContext } from '../../Context/Producto';\r\nclass ListDepartamento extends CardBuscador {\r\n    con = conDepartamento();\r\n    mostrar = 6;\r\n    placeholder = \"BUSCAR DEPARTAMENTO\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'SIN FACTURA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarEn = [\"codigo\", \"descripcion\"];\r\n    Title() {\r\n        return <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR DEPARTAMENTO</h4>\r\n    }\r\n    Avansado() {\r\n        return <></>;\r\n    }\r\n    Buscador() {\r\n        return <>\r\n            <ReactTooltip />\r\n            <Row className='d-flex' style={{ paddingBottom: '15px' }}>\r\n                <Col md={9} className='mr-auto'>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                                BUSCAR\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                        <InputGroup.Append>\r\n                            <Button variant=\"primary\"><i className=\"fa fa-search\"></i> BUSCAR</Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                </Col>\r\n                {this.Actualizar()}\r\n            </Row>\r\n            <NuevoDepartamento update={this.set.bind(this)} />\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>COD</Th>\r\n            <Th label='descripcion' width='calc(100% - 270px)'>DESCRIPCION</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='70px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: Departamento) {\r\n        return <FilaDepartamento key={'dpt' + p.codigo} d={p} update={this.set.bind(this)} />\r\n    }\r\n    getItens() { return this.context.Departamentos; }\r\n    set() { this.context.actDepartamento(); }\r\n    getEstado() { return this.context.estDepartamentos; }\r\n}\r\nListDepartamento.contextType = ProductosContext;\r\nexport default ListDepartamento;\r\n","import React from \"react\"\r\nimport { Button, ButtonGroup } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport { conTipo, Tipo } from \"../../Models/Productos\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    d: Tipo\r\n    update?: () => void\r\n}\r\nexport class FilaTipo extends React.Component<Props, Tipo> {\r\n    con = conTipo()\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = p.d\r\n    }\r\n    render() {\r\n        let { codigo, descripcion, inventario } = this.state\r\n        const inv = [undefined, 'NO GENERA', 'LOGICO', 'FISICO'];\r\n        return <tr>\r\n            <th style={{ width: \"100px\" }}>\r\n                {codigo}\r\n            </th>\r\n            <th style={{ width: \"calc(100% - 270px)\" }}>\r\n                <ReactTooltip />\r\n                <InputText setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n            </th>\r\n            <th style={{ width: \"120px\" }}>\r\n                {inv[inventario]}\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {this.getStatus()}\r\n            </th>\r\n            <th style={{ width: \"70px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={this.edit.bind(this)}>\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button>\r\n                    {(this.props.d.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr>\r\n    }\r\n    getStatus() {\r\n        if (this.props.d.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    cancelar() {\r\n        let { update, d: { codigo } } = this.props;\r\n        this.con.cancelar(codigo, update);\r\n    }\r\n    edit() {\r\n        let { descripcion } = this.state;\r\n        let { update, d: { codigo } } = this.props;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            this.con.actualizar(codigo, this.state, update);\r\n        }\r\n    }\r\n}","import React from \"react\"\r\nimport { Button, Table } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport { conTipo, Tipo } from \"../../Models/Productos\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    update?: () => void\r\n}\r\nexport default class NuevoTipo extends React.Component<Props, Tipo> {\r\n    con = conTipo()\r\n    state = { codigo: 0, descripcion: '', estatus: 1, inventario: 3 };\r\n    render() {\r\n        let { descripcion } = this.state\r\n        return <>\r\n            <br />\r\n            <b>NUEVO TIPO DE PRODUCTO</b>\r\n            <Table>\r\n                <tr>\r\n                    <th style={{ width: \"calc(100% - 290px)\" }}>\r\n                        <ReactTooltip />\r\n                        <InputText setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n                    </th>\r\n                    <th style={{ width: \"220px\" }}>\r\n                        {this.TipoInventario()}\r\n                    </th>\r\n                    <th style={{ width: \"70px\" }}>\r\n                        <Button style={{ borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} data-tip=\"EDITAR\" variant=\"primary\" onClick={this.nuevo.bind(this)}>\r\n                            <i className=\"fa fa-edit\"></i> GUARDAR\r\n                        </Button>\r\n                    </th>\r\n                </tr>\r\n            </Table>\r\n        </>\r\n    }\r\n    nuevo() {\r\n        let { descripcion } = this.state;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            let { update } = this.props;\r\n            this.con.nuevo(this.state, update);\r\n        }\r\n    }\r\n\r\n    TipoInventario() {\r\n        const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => { this.setState({ inventario: parseInt(e.currentTarget.value) }) }\r\n        return <select onChange={setStatus} className=\"form-control\" value={this.state.inventario} >\r\n            <option value='3'>INVENTARIO FISICO</option>\r\n            <option value='2'>INVENTARIO LOGICO</option>\r\n            <option value='1'>NO GENERA INVENTARIO</option>\r\n        </select >\r\n    }\r\n}","import React from 'react';\r\nimport { conTipo, Tipo } from '../../Models/Productos';\r\nimport { FilaTipo } from './Fila';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport NuevoTipo from './Nuevo';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport { ProductosContext } from '../../Context/Producto';\r\nclass ListTipo extends CardBuscador {\r\n    con = conTipo();\r\n    mostrar = 6;\r\n    placeholder = \"BUSCAR TIPO DE PRODUCTO\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'SIN FACTURA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarEn = [\"codigo\", \"descripcion\"];\r\n    Title() {\r\n        return <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR TIPO DE PRODUCTO</h4>\r\n    }\r\n    Avansado() {\r\n        return <></>;\r\n    }\r\n    Buscador() {\r\n        return <>\r\n            <ReactTooltip />\r\n            <Row className='d-flex' style={{ paddingBottom: '15px' }}>\r\n                <Col md={9} className='mr-auto'>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                                BUSCAR\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                        <InputGroup.Append>\r\n                            <Button variant=\"primary\"><i className=\"fa fa-search\"></i> BUSCAR</Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                </Col>\r\n                {this.Actualizar()}\r\n            </Row>\r\n            <NuevoTipo update={this.set.bind(this)} />\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>COD</Th>\r\n            <Th label='descripcion' width='calc(100% - 270px)'>DESCRIPCION</Th>\r\n            <Th width='130px'>INVENTARIO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='70px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: Tipo) {\r\n        return <FilaTipo key={'tipo' + p.codigo} d={p} update={this.set.bind(this)} />\r\n    }\r\n    getItens() { return this.context.Tipos; }\r\n    set() { this.context.actTipo(); }\r\n    getEstado() { return this.context.estTipos; }\r\n\r\n}\r\nListTipo.contextType = ProductosContext;\r\nexport default ListTipo;\r\n","import React from \"react\"\r\nimport { Button, ButtonGroup } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport { conUnidad,Unidad } from \"../../Models/Productos\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    d:Unidad\r\n    update?: () => void\r\n}\r\nexport class FilaUnidad extends React.Component<Props,Unidad> {\r\n    con = conUnidad()\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = p.d\r\n    }\r\n    render() {\r\n        let { codigo, descripcion } = this.state\r\n        return <tr>\r\n            <th style={{ width: \"100px\" }}>\r\n                {codigo}\r\n            </th>\r\n            <th style={{ width: \"calc(100% - 270px)\" }}>\r\n                <ReactTooltip />\r\n                <InputText setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {this.getStatus()}\r\n            </th>\r\n            <th style={{ width: \"70px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={this.edit.bind(this)}>\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button>\r\n                    {(this.props.d.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr>\r\n    }\r\n    getStatus() {\r\n        if (this.props.d.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    cancelar() {\r\n        let { update, d: { codigo } } = this.props;\r\n        this.con.cancelar(codigo, update);\r\n    }\r\n    edit() {\r\n        let { descripcion } = this.state;\r\n        let { update, d: { codigo } } = this.props;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            this.con.actualizar(codigo, this.state, update);\r\n        }\r\n    }\r\n}","import React from \"react\"\r\nimport { Button, Table } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport {  conUnidad, Unidad } from \"../../Models/Productos\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    update?: () => void\r\n}\r\nexport default class NuevoUnidad extends React.Component<Props, Unidad> {\r\n    con = conUnidad()\r\n    state = { codigo: 0, descripcion: '', estatus: 1 };\r\n    render() {\r\n        let { descripcion } = this.state\r\n        return <>\r\n            <br />\r\n            <b>NUEVA UNIDAD DE MEDIDA</b>\r\n            <Table>\r\n                <tr>\r\n                    <th style={{ width: \"calc(100% - 170px)\" }}>\r\n                        <ReactTooltip />\r\n                        <InputText setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n                    </th>\r\n                    <th style={{ width: \"70px\" }}>\r\n                        <Button style={{ borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }} data-tip=\"EDITAR\" variant=\"primary\" onClick={this.nuevo.bind(this)}>\r\n                            <i className=\"fa fa-edit\"></i> GUARDAR\r\n                        </Button>\r\n                    </th>\r\n                </tr>\r\n            </Table>\r\n        </>\r\n    }\r\n    nuevo() {\r\n        let { descripcion } = this.state;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            let { update } = this.props;\r\n            this.con.nuevo(this.state, update);\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { conUnidad, Unidad } from '../../Models/Productos';\r\nimport { FilaUnidad } from './Fila';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport NuevoUnidad from './Nuevo';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nimport { ProductosContext } from '../../Context/Producto';\r\nclass ListUnidad extends CardBuscador {\r\n    con = conUnidad();\r\n    mostrar = 6;\r\n    placeholder = \"BUSCAR UNIDAD DE MEDIDA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'SIN FACTURA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarEn = [\"codigo\", \"descripcion\"];\r\n    Title() { return <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR UNIDAD DE MEDIDA</h4> }\r\n    Avansado() { return <></>; }\r\n    Buscador() {\r\n        return <>\r\n            <ReactTooltip />\r\n            <Row className='d-flex' style={{ paddingBottom: '15px' }}>\r\n                <Col md={9} className='mr-auto'>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                                BUSCAR\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                        <InputGroup.Append>\r\n                            <Button variant=\"primary\"><i className=\"fa fa-search\"></i> BUSCAR</Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                </Col>\r\n                {this.Actualizar()}\r\n            </Row>\r\n            <NuevoUnidad update={this.set.bind(this)} />\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>COD</Th>\r\n            <Th label='descripcion' width='calc(100% - 270px)'>DESCRIPCION</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='70px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: Unidad) {\r\n        return <FilaUnidad key={'unidad' + p.codigo} d={p} update={this.set.bind(this)} />\r\n    }\r\n    getItens() { return this.context.Unidades; }\r\n    set() { this.context.actUnidad(); }\r\n    getEstado() { return this.context.estUnidades; }\r\n}\r\nListUnidad.contextType = ProductosContext;\r\nexport default ListUnidad;\r\n","import React from \"react\"\r\nimport { Button, ButtonGroup } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport { conMoneda, Moneda } from \"../../Models/General\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    d: Moneda\r\n    update?: () => void\r\n}\r\nexport class FilaMoneda extends React.Component<Props, Moneda> {\r\n    con = conMoneda()\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = p.d\r\n    }\r\n    render() {\r\n        let { codigo, descripcion } = this.state\r\n        return <tr>\r\n            <th style={{ width: \"100px\" }}>\r\n                {codigo}\r\n            </th>\r\n            <th style={{ width: \"calc(100% - 270px)\" }}>\r\n                <ReactTooltip />\r\n                <InputText setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n            </th>\r\n            <th style={{ width: \"100px\" }}>\r\n                {this.getStatus()}\r\n            </th>\r\n            <th style={{ width: \"70px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={this.edit.bind(this)}>\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button>\r\n                    {(this.props.d.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr>\r\n    }\r\n    getStatus() {\r\n        if (this.props.d.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    cancelar() {\r\n        let { update, d: { codigo } } = this.props;\r\n        this.con.cancelar(codigo, update);\r\n    }\r\n    edit() {\r\n        let { descripcion } = this.state;\r\n        let { update, d: { codigo } } = this.props;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            this.con.actualizar(codigo, this.state, update);\r\n        }\r\n    }\r\n}","import React from \"react\"\r\nimport { Button, Table } from \"react-bootstrap\"\r\nimport { toast } from \"react-toastify\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport {  conMoneda, Moneda } from \"../../Models/General\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\ninterface Props {\r\n    update?: () => void\r\n}\r\nexport default class NuevoMoneda extends React.Component<Props, Moneda> {\r\n    con = conMoneda()\r\n    state = { codigo: 0, descripcion: '', estatus: 1 };\r\n    render() {\r\n        let { descripcion } = this.state\r\n        return <>\r\n            <br />\r\n            <b>NUEVO MONEDA</b>\r\n            <Table>\r\n                <tr>\r\n                    <th style={{ width: \"calc(100% - 170px)\" }}>\r\n                        <ReactTooltip />\r\n                        <InputText placeholder='DESCRIPCION' setData={this.setState.bind(this)} value={descripcion} update=\"descripcion\" />\r\n                    </th>\r\n                    <th style={{ width: \"70px\" }}>\r\n                        <Button variant=\"primary\" onClick={this.nuevo.bind(this)}>\r\n                            <i className=\"fa fa-edit\"></i> GUARDAR\r\n                        </Button>\r\n                    </th>\r\n                </tr>\r\n            </Table>\r\n        </>\r\n    }\r\n    nuevo() {\r\n        let { descripcion } = this.state;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            let { update } = this.props;\r\n            this.con.nuevo(this.state, update);\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { conMoneda, Moneda } from '../../Models/General';\r\nimport { FilaMoneda } from './Fila';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport NuevoMoneda from './Nuevo';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Button, Col, InputGroup, Row } from 'react-bootstrap';\r\nimport { InputText } from '../../Utiles/Inputs';\r\nexport default class ListMoneda extends CardBuscador {\r\n    con = conMoneda();\r\n    mostrar = 6;\r\n    placeholder = \"BUSCAR MONEDA\";\r\n    estatus = [{ value: 0, label: 'CANCELADO' }, { value: 1, label: 'SIN FACTURA' }, { value: 2, label: 'FACTURADA' }];\r\n    buscarEn = [\"codigo\", \"descripcion\"];\r\n    Title() {\r\n        return <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR MONEDA</h4>\r\n    }\r\n    Avansado() {\r\n        return <></>;\r\n    }\r\n    Buscador() {\r\n        return <>\r\n            <ReactTooltip />\r\n            <Row className='d-flex' style={{ paddingBottom: '15px' }}>\r\n                <Col md={9} className='mr-auto'>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                                BUSCAR\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                        <InputGroup.Append>\r\n                            <Button variant=\"primary\"><i className=\"fa fa-search\"></i> BUSCAR</Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Button size='sm' onClick={this.set.bind(this)} data-tip=\"ACTUALIZAR LISTA\" variant=\"info\"\r\n                ><i className=\"fa fa-refresh\"></i> ACTUALIZAR</Button>\r\n            </Row>\r\n            <NuevoMoneda update={this.set.bind(this)} />\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>COD</Th>\r\n            <Th label='descripcion' width='calc(100% - 270px)'>DESCRIPCION</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='70px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Row(p: Moneda) {\r\n        return <FilaMoneda key={'moneda' + p.codigo} d={p} update={this.set.bind(this)} />\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport Formulario from './Formulario';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nimport Condiciones from '../../../Utiles/Componentes/Condiciones';\r\ninterface State extends Impreciones { \r\n    nota: string,\r\n    forma_pago: string\r\n    tiempo_entrega: string\r\n    validez: string\r\n}\r\nexport default class Orden extends React.Component<any, State> {\r\n    con = ConConfig('orden');\r\n    state = { ...imprecionNull, nota: '', forma_pago: '', tiempo_entrega: '', validez: '' };\r\n    render() {\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE ORDEN DE COMPRA </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h5>CONFIGURACION DE DATOS POR DEFECTO </h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Condiciones data={this.state} setData={setState} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Formulario version='orden' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport Formulario from './Formulario'\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nimport { InputArea } from '../../../Utiles/Inputs';\r\ninterface State extends Impreciones {\r\n    nota: string\r\n}\r\nexport default class Compra extends React.Component<any, State> {\r\n    con = ConConfig('compra');\r\n    state = { ...imprecionNull, nota: ''};\r\n    render() {\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE COMPRA </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h5>CONFIGURACION DE DATOS POR DEFECTO </h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <b>NOTA</b>\r\n                        <InputArea rows={6} maxLength={600} value={this.state.nota} setData={setState} update=\"nota\" />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Formulario version='compra' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport Formulario from './Formulario';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nimport Condiciones from '../../../Utiles/Componentes/Condiciones';\r\ninterface State extends Impreciones {\r\n    nota: string,\r\n    forma_pago: string\r\n    tiempo_entrega: string\r\n    validez: string\r\n}\r\nexport default class Cotizacion extends React.Component<any, State> {\r\n    con = ConConfig('cotizacion');\r\n    state = { ...imprecionNull, nota: '', forma_pago: '', tiempo_entrega: '', validez: '' };\r\n    render() {\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE COTIZACION </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h5>CONFIGURACION DE DATOS POR DEFECTO </h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Condiciones data={this.state} setData={setState} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Formulario version='cotizacion' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport Formulario from './Formulario';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nimport { InputArea } from '../../../Utiles/Inputs';\r\ninterface State extends Impreciones {\r\n    nota: string\r\n}\r\nexport default class Nota extends React.Component<any, State> {\r\n    con = ConConfig('nota');\r\n    state = { ...imprecionNull, nota: '' };\r\n    render() {\r\n        let { nota } = this.state;\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE NOTA DE ENTREGA </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h5>CONFIGURACION DE DATOS POR DEFECTO </h5>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <b>NOTA</b>\r\n                        <InputArea rows={6} maxLength={600} value={nota} setData={setState} update=\"nota\" />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Formulario version='nota' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport Formulario from './Formulario';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nexport default class Reporte extends React.Component<any, Impreciones> {\r\n    con = ConConfig('reporte');\r\n    state = imprecionNull;\r\n    render() {\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE REPORTES </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Formulario version='reporte' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>) \r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../../Models/Config';\r\nimport Formulario from './Formulario';\r\nimport { Impreciones, imprecionNull } from '../../../Models/General';\r\nexport default class Ajuste extends React.Component<any, Impreciones> {\r\n    con = ConConfig('ajuste');\r\n    state = imprecionNull;\r\n    render() {\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE AJUSTES DE IMVENTARIO </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Formulario version='ajuste' data={this.state} setData={setState} />\r\n                <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> Guardar\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, ButtonGroup, Col, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../Models/Config';\r\ninterface State {\r\n    costo: number\r\n    tasa: boolean\r\n}\r\nexport default class Costos extends React.Component<any, State> {\r\n    con = ConConfig('costo');\r\n    state = { costo: 1, tasa: false };\r\n    render() {\r\n        let { costo, tasa } = this.state;\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE PRECIOS </h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Col md={12}>\r\n                    <p><b> ACTUALIZAR COSTOS DE LOS PRODUCTOS: </b></p>\r\n                    <p>INDICA COMO EL SISTEMA MANEJARA EL COSTO DE SUS PRODUCTOS</p>\r\n                    <ButtonGroup vertical>\r\n                        <Button onClick={() => { this.setState({ costo: 1 }) }} variant={(costo === 1) ? 'success' : 'default'}>\r\n                            EL COSTO A REGISTRAR SERA EL DE LA ULTIMA COMPRA\r\n                        </Button>\r\n                        <Button onClick={() => { this.setState({ costo: 2 }) }} variant={(costo === 2) ? 'success' : 'default'}>\r\n                            EL COSTO A REGISTRAR SERA EL DE LA COMPRA CON PRECIO MAS ALTO\r\n                        </Button>\r\n                        <Button onClick={() => { this.setState({ costo: 3 }) }} variant={(costo === 3) ? 'success' : 'default'}>\r\n                            EL COSTO NO SE VE AFECTADO POR LA COMPRA, <br />SU VALOR ES EL REGISTRADO EN SU CREACION Y ES MODIFICADO MANUALMENTE\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <p><b> COSTO BASADO EN REFERENCIA A LA TASA CAMBIARIA:</b></p>\r\n                    <p>OPCION EN BOLIVARES: </p>\r\n                    <ul>\r\n                        <li>COMPRA: SE MANTIENEN TODOS LOS COSTOS EN BOLIVARES.</li>\r\n                        <li>VENTAS: SI SE COTIZA EN DOLARES SE TOMA EL PRECIO DE VENTA EN BOLIVARES ENTRE LA TASA.</li>\r\n                    </ul>\r\n                    <p>OPCION EN DOLARES: </p>\r\n                    <ul>\r\n                        <li>COMPRA: SE GUARDA EL COSTO EN BOLIVARES Y LA TASA DEL DIA DE LA COMPRA.</li>\r\n                        <li>VENTAS: SI SE COTIZA SE TOMA EL COSTO EN DOLARES DEL DIA DE LA COMPRA Y SE CALCULA SU UTILIDAD; SI LA COTIZACION ES EN BOLIVARES SE MULTIPLICA POR LA TASA.</li>\r\n                    </ul>\r\n                    <ButtonGroup style={{ width: '100%' }}>\r\n                        <Button style={{ width: '50%' }} onClick={() => { this.setState({ tasa: false }) }} variant={!tasa ? 'success' : 'default'}>\r\n                            BOLIVARES\r\n                        </Button>\r\n                        <Button style={{ width: '50%' }} onClick={() => { this.setState({ tasa: true }) }} variant={tasa ? 'success' : 'default'}>\r\n                            DOLARES\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <Button variant=\"success\">\r\n                        <i className=\"glyphicon glyphicon-check-circle-o\"></i>\r\n                    </Button> LAS QUE ESTEN DE VERDE SON QUE ESTAN ACTIVAS\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                        <span className=\"fa fa-floppy-o\" /> Guardar\r\n                    </Button>\r\n                </Col>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Col, Card } from 'react-bootstrap';\r\nimport { ConConfig } from '../../Models/Config';\r\nimport { ControlNumber } from '../../Utiles/FormControl';\r\ninterface State {\r\n    precio1: number\r\n    precio2: number\r\n    precio3: number\r\n}\r\nexport default class Utilidades extends React.Component<any, State> {\r\n    con = ConConfig('utilidades');\r\n    state = { precio1: 1, precio2: 1, precio3: 1, };\r\n    render() {\r\n        let { precio1, precio2, precio3 } = this.state;\r\n        let setState = this.setState.bind(this);\r\n        return (<Card>\r\n            <Card.Header className='bg-info'>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> CONFIGURACION DE UTILIDADES POR DEFECTO</h4>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Col xs={12}><br />\r\n                    <ControlNumber min={1} step=\"1\" after=\"%\" before=\"UTILIDAD 1\" value={precio1} setData={setState} update=\"precio1\" />\r\n                    <p style={{color:'red'}}>*NO SE PUEDE VENDER POR DEBAJO DE ESTE PRECIO</p>\r\n                </Col>\r\n                <Col xs={12}>\r\n                    <ControlNumber min={1} step=\"1\" after=\"%\" before=\"UTILIDAD 2\" value={precio2} setData={setState} update=\"precio2\" />\r\n                </Col>\r\n                <Col xs={12}><br />\r\n                    <ControlNumber min={1} step=\"1\" after=\"%\" before=\"UTILIDAD 3\" value={precio3} setData={setState} update=\"precio3\" />\r\n                </Col>\r\n                <Col md={12}><br />\r\n                    <Button className=\"float-right\" onClick={this.guardar.bind(this)} variant=\"primary\">\r\n                        <span className=\"fa fa-floppy-o\" /> Guardar\r\n                    </Button>\r\n                </Col>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    componentDidMount() {\r\n        this.con.pull(this.setState.bind(this));\r\n    }\r\n    guardar() {\r\n        this.con.push(this.state, this.setState.bind(this));\r\n    }\r\n}","import React from 'react'\r\nimport { Modal, Row, Button, Col } from 'react-bootstrap'\r\nimport { conUsuario, Permisos } from '../../Models/Usuario';\r\nimport { InputText } from '../../Utiles/Inputs';\r\ninterface Props {\r\n    open: boolean\r\n    close: () => void\r\n    actualizar: () => void\r\n}\r\ninterface State {\r\n    nombre: string\r\n    permisos: number[],\r\n    Permisos: Permisos[]\r\n}\r\nexport default class NewRol extends React.Component<Props, State> {\r\n    con = conUsuario();\r\n    state = { permisos: [], Permisos: [], nombre: '' }\r\n    componentDidMount() {\r\n        this.con.listaPermisos((Permisos: Permisos[]) => {\r\n            this.setState({ Permisos })\r\n        });\r\n    }\r\n    render() {\r\n        let { close, open } = this.props;\r\n        return <Modal animation centered show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\" >\r\n                    NUEVO ROL\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <InputText label=\"MONBRE DEL ROL\" update=\"nombre\" setData={this.setState} value={this.state.nombre} /><br />\r\n                        {this.state.Permisos.map((p: Permisos) => {\r\n                            return <Button onClick={this.click.bind(this, p.id)}\r\n                                variant={this.selected(p.id)}>{p.nombre}</Button>\r\n                        })}\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.save.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> GUARDAR\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal >\r\n    }\r\n    selected(id: number) {\r\n        if (this.state.permisos.some(p => p === id)) return \"success\"\r\n        return \"default\";\r\n    }\r\n    click(id: number) {\r\n        const { permisos } = this.state;\r\n        if (permisos.every(p => p !== id)) this.setState({ permisos: [...permisos, id] });\r\n        else this.setState({ permisos: permisos.filter(p => p !== id) });\r\n    }\r\n    save() {\r\n        let { nombre, permisos } = this.state;\r\n        this.con.nuevoRol({ nombre, permisos }, (data) => {\r\n            this.props.actualizar()\r\n            this.props.close()\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport { Modal, Row, Button, Col } from 'react-bootstrap'\r\nimport { conUsuario, Permisos, Rol } from '../../Models/Usuario';\r\ninterface Props {\r\n    rol: Rol\r\n    title: string\r\n    open: boolean\r\n    add: (d: any) => void\r\n    close: () => void\r\n}\r\ninterface State {\r\n    permisos: number[],\r\n    Permisos: Permisos[]\r\n}\r\nexport default class EditarRol extends React.Component<Props, State> {\r\n    con = conUsuario();\r\n    state = { permisos: [], Permisos: [] }\r\n    componentDidMount() {\r\n        this.con.listaPermisos((Permisos: Permisos[]) => {\r\n            this.setState({ Permisos })\r\n        });\r\n        this.con.PermisosRol(this.props.rol.id, (rol: Rol) => {\r\n            this.setState({ permisos: rol.permisos.map(d => { return d.id }) })\r\n        });\r\n    }\r\n    render() {\r\n        let { props: { close, open, title }, state: { Permisos } } = this;\r\n        return <Modal animation centered show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                {title}\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        {Permisos.map((p: Permisos) => {\r\n                            return <Button onClick={this.click.bind(this, p.id)}\r\n                                variant={this.selected(p.id)}>{p.nombre}</Button>\r\n                        })}\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className=\"float-right\" onClick={this.save.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-o\" /> GUARDAR\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal >\r\n    }\r\n    selected(id: number) {\r\n        if (this.state.permisos.some(p => p === id)) return \"success\"\r\n        return \"default\";\r\n    }\r\n    click(id: number) {\r\n        const { permisos } = this.state;\r\n        if (permisos.every(p => p !== id)) this.setState({ permisos: [...permisos, id] });\r\n        else this.setState({ permisos: permisos.filter(p => p !== id) });\r\n    }\r\n    save() {\r\n        let { props: { rol: { id } }, state: { permisos } } = this;\r\n        this.con.actualizarRol(id,\r\n            { permisos }, data => {\r\n                this.props.add(data)\r\n                this.props.close()\r\n            })\r\n    }\r\n}","import React, { useState } from \"react\"\r\nimport NewRol from \"./NewRol\"\r\nimport { Button, Col, InputGroup, Row } from \"react-bootstrap\"\r\nimport EditarRol from \"./EditarRol\"\r\nimport { conUsuario, Rol } from \"../../Models/Usuario\"\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport CardBuscador from \"../../Utiles/Buscadores/Card\"\r\nimport { InputText } from \"../../Utiles/Inputs\"\r\nexport default class ListaRoles extends CardBuscador {\r\n    bucarLabel = [\"nombre\"];\r\n    con = conUsuario()\r\n    Row(p: Rol) { return <FilaRol {...p} add={this.set.bind(this)} /> }\r\n    Title() { return <Titulo actualizar={this.set.bind(this)} />; }\r\n    set() { this.con.listaRoles((itens) => { this.setState({ itens }) }); }\r\n    Header() {\r\n        let { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th width='calc(100% - 170PX)' label='nombre'>NOMBRE</Th>\r\n            <Th width='170PX'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    Buscador() {\r\n        return <>\r\n            <ReactTooltip />\r\n            <Row className='d-flex' style={{ paddingBottom: '15px' }}>\r\n                <Col md={9} className='mr-auto'>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                                BUSCAR\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <InputText upper setData={this.setState} update='buscar' value={this.state.buscar} />\r\n                        <InputGroup.Append>\r\n                            <Button variant=\"primary\"><i className=\"fa fa-search\"></i> BUSCAR</Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Button size='sm' onClick={this.set.bind(this)} data-tip=\"ACTUALIZAR LISTA\" variant=\"info\"\r\n                ><i className=\"fa fa-refresh\"></i> ACTUALIZAR</Button>\r\n            </Row>\r\n        </>\r\n    }\r\n}\r\nfunction FilaRol(props: Rol & { add: (d: any) => void }) {\r\n    const [open, setOpen] = useState(false);\r\n    return <tr>\r\n        <td>{props.nombre}</td>\r\n        <td style={{ textAlign: 'right' }}>\r\n            <EditarRol add={props.add} key={'editRol' + props.id} open={open} title={\"EDITAR ROL: \" + props.nombre} rol={props} close={() => { setOpen(false) }} />\r\n            <ReactTooltip />\r\n            <Button variant='primary' data-tip=\"EDITAR\" onClick={() => { setOpen(true) }}>\r\n                <i className=\"fa fa-edit\"></i>\r\n            </Button>\r\n        </td>\r\n    </tr>\r\n\r\n}\r\nfunction Titulo({ actualizar }: { actualizar: () => void }) {\r\n    const [open, setOpen] = useState(false);\r\n    return <>\r\n        <NewRol actualizar={actualizar} open={open} close={() => { setOpen(false) }} />\r\n        <h4 className='mr-auto'>LISTA DE ROLES</h4>\r\n        <Button onClick={() => { setOpen(true) }} variant='primary'>\r\n            <span className=\"glyphicon glyphicon-plus\"></span> NUEVO ROL\r\n        </Button>\r\n    </>\r\n\r\n}","import React from \"react\";\r\nimport { Accordion, ButtonGroup, Card } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\ninterface Props {\r\n    p: string[]\r\n    permiso: string\r\n    to: string\r\n    children: any\r\n    P?: string[]\r\n}\r\nexport function Menus({ title, children }: { title: string, children: any }) {\r\n    return <Card as={Accordion}>\r\n        <Card.Header as={Accordion.Toggle} eventKey='1' className='bg-info'>\r\n            <h6>{title}</h6>\r\n        </Card.Header>\r\n        <Accordion.Collapse eventKey='1'>\r\n            <ButtonGroup vertical style={{ width: '100%' }}>\r\n                {children}\r\n            </ButtonGroup>\r\n        </Accordion.Collapse>\r\n    </Card>\r\n}\r\n\r\nexport function MenuIten({ p, permiso, to, children }: Props) {\r\n    if (p.some(p => p === permiso))\r\n        return <Link className='btn btn-default' to={to}>\r\n            {children}\r\n        </Link>\r\n    return <></>;\r\n}","import React, { useContext } from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport { Route, Link } from \"react-router-dom\"\r\nimport Ventas from '../App/Config/Ventas';\r\nimport Region from '../App/Config/Region';\r\nimport Factura from '../App/Config/Impreciones/Factura';\r\nimport Empresa from '../App/Config/Empresa';\r\nimport ListDepartamento from '../App/Departamento';\r\nimport ListTipo from '../App/Tipos';\r\nimport ListUnidad from '../App/Unidad';\r\nimport ListMoneda from '../App/Moneda';\r\nimport Orden from '../App/Config/Impreciones/Orden';\r\nimport Compra from '../App/Config/Impreciones/Compra';\r\nimport Cotizacion from '../App/Config/Impreciones/Cotizacion';\r\nimport Nota from '../App/Config/Impreciones/Nota';\r\nimport Reporte from '../App/Config/Impreciones/Reporte';\r\nimport Ajuste from '../App/Config/Impreciones/Ajuste';\r\nimport Costos from '../App/Config/Costos';\r\nimport Utilidades from '../App/Config/Utilidades';\r\nimport ListaRoles from '../App/Rol';\r\nimport { Menus, MenuIten } from '../Utiles/Componentes/Menus';\r\nimport { SeccionContext } from '../Context/Seccion'\r\nimport UnAutorization from '../Utiles/Componentes/UnAutorization';\r\n\r\nexport default function MasterConfig() {\r\n    const context = useContext(SeccionContext);\r\n    let p: string[] = []\r\n    if (context !== null)\r\n        p = context.data.Permisos;\r\n    if (context?.data.Permisos.some(p => p === 'CONFIG'))\r\n        return (<Row style={{ minHeight: \"calc(100vh - 145px)\" }}>\r\n            <Col md={3} style={{ minHeight: \"calc(100vh - 145px)\" }}>\r\n                <Menus title='CONFIGURACIONES GENERALES'>\r\n                    <Link className='btn btn-default' to='/config/empresa'>\r\n                        EMPRESA\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/config/region'>\r\n                        REGION\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/config/ventas'>\r\n                        VENTAS\r\n                    </Link>\r\n                    <MenuIten p={p} to='/config/moneda' permiso='MONEDA' >\r\n                        MONEDAS\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/roles' permiso='USUARIO' >\r\n                        ROLES\r\n                    </MenuIten>\r\n                </Menus>\r\n                <Menus title='CONFIGURACIONES DE IMPRESI√ìN'>\r\n                    <MenuIten p={p} to='/config/orden' permiso='ORDEN' >\r\n                        ORDEN DE COMPRA\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/compra' permiso='COMPRA' >\r\n                        COMPRA\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/cotizacion' permiso='COTIZACION' >\r\n                        COTIZACION\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/nota' permiso='NOTA' >\r\n                        NOTA DE ENTREGA\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/factura' permiso='FACTURA' >\r\n                        FACTURA\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/ajustes' permiso='AJUSTE' >\r\n                        AJUSTE DE INVENTARIO\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/reportes' permiso='REPORTE' >\r\n                        REPORTES\r\n                    </MenuIten>\r\n                </Menus>\r\n                <Menus title='CONFIGURACIONES DE PRODUCTO'>\r\n                    <MenuIten p={p} to='/config/departamentos' permiso='DEPARTAMENTO' >\r\n                        DEPARTAMENTOS\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/tipo_producto' permiso='TIPO' >\r\n                        TIPO DE PRODUCTO\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/unidades' permiso='UNIDAD' >\r\n                        UNIDADES DE MEDIDA\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/costos' permiso='PRODUCTO' >\r\n                        MANEJO DE COSTOS\r\n                    </MenuIten>\r\n                    <MenuIten p={p} to='/config/utilidades' permiso='PRODUCTO' >\r\n                        UTILIDADES DEFAULT\r\n                    </MenuIten>\r\n                </Menus>\r\n            </Col>\r\n            <Col md={9} style={{ minHeight: \"calc(100vh - 145px)\" }}>\r\n                <Route path=\"/config/ventas\" component={Ventas} />\r\n                <Route path=\"/config/region\" component={Region} />\r\n                <Ruta path=\"/config/orden\" component={Orden} permiso='ORDEN' />\r\n                <Ruta path=\"/config/compra\" component={Compra} permiso='COMPRA' />\r\n                <Ruta path=\"/config/cotizacion\" component={Cotizacion} permiso='COTIZACION' />\r\n                <Ruta path=\"/config/nota\" component={Nota} permiso='NOTA' />\r\n                <Ruta path=\"/config/factura\" component={Factura} permiso='FACTURA' />\r\n                <Ruta path=\"/config/ajustes\" component={Ajuste} permiso='AJUSTE' />\r\n                <Ruta path=\"/config/reportes\" component={Reporte} permiso='REPORTE' />\r\n                <Route path=\"/config/empresa\" component={Empresa} />\r\n                <Ruta path=\"/config/departamentos\" component={ListDepartamento} permiso='DEPARTAMENTO' />\r\n                <Ruta path=\"/config/tipo_producto\" component={ListTipo} permiso='TIPO' />\r\n                <Ruta path=\"/config/unidades\" component={ListUnidad} permiso='UNIDAD' />\r\n                <Ruta path=\"/config/moneda\" component={ListMoneda} permiso='MONEDA' />\r\n                <Ruta path=\"/config/costos\" component={Costos} permiso='PRODUCTO' />\r\n                <Ruta path=\"/config/utilidades\" component={Utilidades} permiso='PRODUCTO' />\r\n                <Ruta path=\"/config/roles\" component={ListaRoles} permiso='USUARIO' />\r\n            </Col>\r\n        </Row>)\r\n    return <UnAutorization />\r\n}\r\nfunction Ruta({ component, path, permiso }: { component: any, path: string, permiso: string }) {\r\n    const context = useContext(SeccionContext);\r\n    if (context?.data.Permisos.some(p => p === permiso))\r\n        return <Route path={path} component={component} />\r\n    return <UnAutorization />\r\n\r\n}","import React from \"react\"\r\nimport { Button, Col, InputGroup, Card, Row, FormControl } from \"react-bootstrap\"\r\nimport { InputDate } from \"../../Utiles/Inputs\";\r\ninterface Props {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    setDate: (d: any) => void\r\n}\r\nlet date = new Date();\r\nexport default class Fechas extends React.Component<Props> {\r\n    render() {\r\n        let { aux, date2, date1, setDate } = this.props;\r\n        return <Card>\r\n            <Card.Header className='bg-info'>\r\n                <h6>\r\n                    SELECCIONES RANGO DE TIEMPO\r\n                </h6>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><Button className='pull-left' variant={(aux === \"rango\") ? 'success' : 'default'}\r\n                                style={{ width: '300px' }} onClick={() => {\r\n                                    setDate({\r\n                                        aux: \"rango\",\r\n                                        date1: date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + (date.getDate() + 1),\r\n                                        date2: date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + (date.getDate() + 1)\r\n                                    })\r\n                                }}>\r\n                                POR RANGO DE FECHAS\r\n                            </Button></InputGroup.Prepend>\r\n                            <InputGroup.Prepend><InputGroup.Text>DEL</InputGroup.Text></InputGroup.Prepend>\r\n                            <InputDate disabled={aux !== 'rango'} setData={setDate} update=\"date1\" value={date1} />\r\n                            <InputGroup.Text>AL</InputGroup.Text>\r\n                            <InputDate disabled={aux !== 'rango'} setData={setDate} update=\"date2\" value={date2} />\r\n                        </InputGroup>\r\n                    </Col><br /><br /><br />\r\n                    <Col xs={12}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <Button className='pull-left' variant={(aux === \"mes\") ? 'success' : 'default'}\r\n                                style={{ width: '160px' }} onClick={() => {\r\n                                    setDate({\r\n                                        aux: \"mes\",\r\n                                        date1: date.getFullYear() + '',\r\n                                        date2: (date.getMonth() + 1) + ''\r\n                                    })\r\n                                }}>\r\n                                POR MES\r\n                            </Button>\r\n                            <FormControl as='select' disabled={aux !== 'mes'}  onChange={this.setChangeMont.bind(this)} value={date2}>\r\n                                {(aux === \"mes\") ? <>\r\n                                    <option value='1'>ENERO </option>\r\n                                    <option value='2'>FEBRERO </option>\r\n                                    <option value='3'>MARZO </option>\r\n                                    <option value='4'>ABRIL </option>\r\n                                    <option value='5'>MAYO </option>\r\n                                    <option value='6'>JUNIO </option>\r\n                                    <option value='7'>JULIO </option>\r\n                                    <option value='8'>AGOSTO </option>\r\n                                    <option value='9'>SEPTIEMBRE </option>\r\n                                    <option value='10'>OCTUBRE </option>\r\n                                    <option value='11'>NOVIEMBRE </option>\r\n                                    <option value='12'>DICIEMBRE </option>\r\n                                </> : <></>}\r\n                            </FormControl>\r\n                            <InputGroup.Prepend><InputGroup.Text>DEL</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl as='select' disabled={aux !== 'mes'}  onChange={this.setChangeYear.bind(this)} value={date1}>\r\n                                {(aux === \"mes\") ? <>\r\n                                    {this.getYear()}\r\n                                </> : <></>}\r\n                            </FormControl>\r\n                        </InputGroup>\r\n                    </Col><br /><br /><br />\r\n                    <Col xs={12}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <Button className='pull-left' variant={(aux === \"ano\") ? 'success' : 'default'}\r\n                                style={{ width: '170px' }} onClick={() => {\r\n                                    setDate({\r\n                                        aux: \"ano\",\r\n                                        date1: date.getFullYear() + '',\r\n                                    })\r\n                                }}>\r\n                                POR A√ëO\r\n                            </Button>\r\n                            <FormControl as='select' disabled={aux !== 'ano'}  onChange={this.setChangeYear.bind(this)} value={date1}>\r\n                                {(aux === \"ano\") ? <>\r\n                                    {this.getYear()}\r\n                                </> : <></>}\r\n                            </FormControl>\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Card.Body>\r\n        </Card>\r\n    }\r\n    getYear() {\r\n        let date = new Date();\r\n        let yearActual = date.getFullYear();\r\n        let years: any[] = [];\r\n        for (let i = 2017; i < yearActual; i++) {\r\n            years.push(<option value={i}>{i}</option>);\r\n        }\r\n        years.push(<option value={yearActual}>{yearActual}</option>);\r\n        return years;\r\n    }\r\n    setChangeYear(e: React.ChangeEvent<any>) {\r\n        let date1 = e.currentTarget.value\r\n        this.props.setDate({ date1 })\r\n    }\r\n    setChangeMont(e: React.ChangeEvent<any>) {\r\n        let date2 = e.currentTarget.value\r\n        this.props.setDate({ date2 })\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Ventas extends React.Component<any, State> {\r\n    state = { aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false }\r\n    render() {\r\n        let { aux, date2, date1, modal } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE VENTAS\"} open={modal}\r\n                url={\"/api/Factura/reporte/\" + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE VENTAS</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Compras extends React.Component<any, State> {\r\n    state = { aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false }\r\n    render() {\r\n        let { aux, date2, date1, modal } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE COMPRAS\"} open={modal}\r\n                url={\"/api/Compra/reporte/\" + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE COMPRA</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport UsuarioSelector from '../../Usuarios/Select';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    user: number\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Vendedores extends React.Component<any, State> {\r\n    state = { user: 1, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, user } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE VENDEDORES\"} open={modal}\r\n                url={\"/api/Factura/reporteVendedor/\" + user + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE VENDEDORES</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR USUARIO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <UsuarioSelector change={(user) => { this.setState({ user }) }} defaultValue={user} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, ButtonGroup, Card, InputGroup } from 'react-bootstrap';\r\nimport ModalPrint from '../../Utiles/Componentes/ModalPrint';\r\nimport { InputNumber } from '../../Utiles/Inputs';\r\nimport DepartamentoSelector from '../Departamento/Selector';\r\nimport TipoSelector from '../Tipos/Selector';\r\ninterface State {\r\n    departamento: string\r\n    uso: string\r\n    tipo: number\r\n    min: number\r\n    max: number\r\n    modal: boolean\r\n}\r\nexport default class Inventario extends React.Component<any, State> {\r\n    state = { modal: false, departamento: 'TODO', uso: '2', min: -1, max: -1, tipo: -1 }\r\n    render() {\r\n        let { departamento, uso, min, max, modal, tipo } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE INVENTARIO\"} open={modal}\r\n                url={\"/api/Producto/inventario/\" + departamento + '/' + uso + '/' + tipo + '/' + min + '/' + max}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE INVENTARIO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR DEPARTAMENTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <DepartamentoSelector change={(departamento) => { this.setState({ departamento }) }} defaultValue={departamento} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR USO DE PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <TipoSelector change={(tipo) => { this.setState({ tipo }) }} defaultValue={tipo} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR USO DE PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <ButtonGroup style={{ width: '100%' }}>\r\n                            <Button style={{ width: '33.333333333333%' }} onClick={() => { this.setState({ uso: '2' }) }} variant={uso === '2' ? 'success' : 'default'}>\r\n                                TODOS LO PRODUCTOS\r\n                            </Button>\r\n                            <Button style={{ width: '33.333333333333%' }} onClick={() => { this.setState({ uso: '1' }) }} variant={uso === '1' ? 'success' : 'default'}>\r\n                                PARA LA VENTA\r\n                            </Button>\r\n                            <Button style={{ width: '33.333333333333%' }} onClick={() => { this.setState({ uso: '0' }) }} variant={uso === '0' ? 'success' : 'default'}>\r\n                                PARA USO INTERNO\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR USO DE EXISTENCIA EN INVENTARIO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <InputGroup>\r\n                            <InputGroup.Prepend><InputGroup.Text>DISPONIBILIDAD DESDE</InputGroup.Text></InputGroup.Prepend>\r\n                            <InputNumber min={0} step='0.01' setData={this.setState.bind(this)} value={min} update=\"min\" />\r\n                            <InputGroup.Prepend><InputGroup.Text>HASTA</InputGroup.Text></InputGroup.Prepend>\r\n                            <InputNumber min={0} step='0.01' setData={this.setState.bind(this)} value={max} update=\"max\" />\r\n                        </InputGroup>\r\n                        <p>-1 NO PALICARA EL FILTRO</p>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, InputGroup, Card } from 'react-bootstrap';\r\nimport { Producto, ProductoNull } from '../../Models/Productos';\r\nimport ModalPrint from '../../Utiles/Componentes/ModalPrint';\r\nimport BuscarProducto from '../Productos/BuscarProducto';\r\nimport Fechas from './Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    producto: Producto\r\n    modal: boolean\r\n    modalProductos: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Historico extends React.Component<any, State> {\r\n    state = { producto: ProductoNull, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, producto, modalProductos } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"HISTORICO DE UN PRODUCTO\"} open={modal}\r\n                url={\"/api/Producto/reporte/\" + producto.codigo + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>HISTORICO DE UN PRODUCTO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <BuscarProducto type='Seleccion' open={modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.codigo}\r\n                            </span>\r\n                            <span style={{ width: 'calc(100% - 243px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.descripcion}\r\n                            </span>\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={() => { this.setState({ modalProductos: true }) }} variant=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                            </Button>\r\n                        </InputGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ producto: p, modalProductos: false });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Cotizaciones extends React.Component<any, State> {\r\n    state = { aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false }\r\n    render() {\r\n        let { aux, date2, date1, modal } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE COTIZACIONES\"} open={modal}\r\n                url={\"/api/Cotizacion/reporte/\" + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE COTIZACIONES</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Notas extends React.Component<any, State> {\r\n    state = { aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false }\r\n    render() {\r\n        let { aux, date2, date1, modal } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE NOTAS DE ENTREGA\"} open={modal}\r\n                url={\"/api/Nota/reporte/\" + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE NOTAS DE ENTREGA</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class Ordenes extends React.Component<any, State> {\r\n    state = { aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false }\r\n    render() {\r\n        let { aux, date2, date1, modal } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"REPORTE DE ORDENES DE COMPRA\"} open={modal}\r\n                url={\"/api/Orden/reporte/\" + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>REPORTE DE ORDENES DE COMPRA</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, InputGroup, Card } from 'react-bootstrap';\r\nimport { Producto, ProductoNull } from '../../../Models/Productos';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport BuscarProducto from '../../Productos/BuscarProducto';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    producto: Producto\r\n    modal: boolean\r\n    modalProductos: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class HistoricoCompra extends React.Component<any, State> {\r\n    state = { producto: ProductoNull, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, producto, modalProductos } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"COMPRAS DE UN PRODUCTO\"} open={modal}\r\n                url={\"/api/Compra/de/\" + producto.codigo + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>COMPRAS DE UN PRODUCTO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <BuscarProducto type='Seleccion' open={modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.codigo}\r\n                            </span>\r\n                            <span style={{ width: 'calc(100% - 243px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.descripcion}\r\n                            </span>\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={() => { this.setState({ modalProductos: true }) }} variant=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                            </Button>\r\n                        </InputGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ producto: p, modalProductos: false });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, InputGroup, Card } from 'react-bootstrap';\r\nimport { Producto, ProductoNull } from '../../../Models/Productos';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport BuscarProducto from '../../Productos/BuscarProducto';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    producto: Producto\r\n    modal: boolean\r\n    modalProductos: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class HistoricoFactura extends React.Component<any, State> {\r\n    state = { producto: ProductoNull, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, producto, modalProductos } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"VENTAS DE UN PRODUCTO\"} open={modal}\r\n                url={\"/api/Factura/de/\" + producto.codigo + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>VENTAS DE UN PRODUCTO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <BuscarProducto type='Seleccion' open={modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.codigo}\r\n                            </span>\r\n                            <span style={{ width: 'calc(100% - 243px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.descripcion}\r\n                            </span>\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={() => { this.setState({ modalProductos: true }) }} variant=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                            </Button>\r\n                        </InputGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ producto: p, modalProductos: false });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, InputGroup, Card } from 'react-bootstrap';\r\nimport { Producto, ProductoNull } from '../../../Models/Productos';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport BuscarProducto from '../../Productos/BuscarProducto';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    producto: Producto\r\n    modal: boolean\r\n    modalProductos: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class HistoricoCotizacion extends React.Component<any, State> {\r\n    state = { producto: ProductoNull, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, producto, modalProductos } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"COTIZACIONES DE UN PRODUCTO\"} open={modal}\r\n                url={\"/api/Cotizacion/de/\" + producto.codigo + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>COTIZACIONES DE UN PRODUCTO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <BuscarProducto type='Seleccion' open={modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.codigo}\r\n                            </span>\r\n                            <span style={{ width: 'calc(100% - 243px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.descripcion}\r\n                            </span>\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={() => { this.setState({ modalProductos: true }) }} variant=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                            </Button>\r\n                        </InputGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ producto: p, modalProductos: false });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, InputGroup, Card } from 'react-bootstrap';\r\nimport { Producto, ProductoNull } from '../../../Models/Productos';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport BuscarProducto from '../../Productos/BuscarProducto';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    producto: Producto\r\n    modal: boolean\r\n    modalProductos: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class HistoricoNota extends React.Component<any, State> {\r\n    state = { producto: ProductoNull, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, producto, modalProductos } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"NOTAS DE ENTREGA DE UN PRODUCTO\"} open={modal}\r\n                url={\"/api/Nota/de/\" + producto.codigo + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>NOTAS DE ENTREGA DE UN PRODUCTO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <BuscarProducto type='Seleccion' open={modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.codigo}\r\n                            </span>\r\n                            <span style={{ width: 'calc(100% - 243px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.descripcion}\r\n                            </span>\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={() => { this.setState({ modalProductos: true }) }} variant=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                            </Button>\r\n                        </InputGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ producto: p, modalProductos: false });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, InputGroup, Card } from 'react-bootstrap';\r\nimport { Producto, ProductoNull } from '../../../Models/Productos';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport BuscarProducto from '../../Productos/BuscarProducto';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    producto: Producto\r\n    modal: boolean\r\n    modalProductos: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class HistoricoOrden extends React.Component<any, State> {\r\n    state = { producto: ProductoNull, aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, producto, modalProductos } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"ORDENES DE COMPRA DE UN PRODUCTO\"} open={modal}\r\n                url={\"/api/Orden/de/\" + producto.codigo + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>ORDENES DE COMPRA DE UN PRODUCTO</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>SELECCIONAR PRODUCTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <BuscarProducto type='Seleccion' open={modalProductos} add={this.addProducto.bind(this)} close={() => { this.setState({ modalProductos: false }) }} />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <span style={{ width: '140px', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.codigo}\r\n                            </span>\r\n                            <span style={{ width: 'calc(100% - 243px)', position: 'relative', backgroundColor: \"#eee\" }} className=\"form-control\">\r\n                                {producto.descripcion}\r\n                            </span>\r\n                            <Button style={{ position: 'relative', borderTopLeftRadius: 0, borderBottomLeftRadius: 0 }}\r\n                                onClick={() => { this.setState({ modalProductos: true }) }} variant=\"primary\">\r\n                                <span className=\"glyphicon glyphicon-search\"></span> BUSCAR\r\n                            </Button>\r\n                        </InputGroup>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n    addProducto(p: Producto) {\r\n        this.setState({ producto: p, modalProductos: false });\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport DepartamentoSelector from '../../Departamento/Selector';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    departamento: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class ItensCompra extends React.Component<any, State> {\r\n    state = { departamento: 'TODO', aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, departamento } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"PRODUCTOS EN COMPRAS\"} open={modal}\r\n                url={\"/api/Compra/productos/\" + departamento + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>PRODUCTOS EN COMPRAS</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR DEPARTAMENTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <DepartamentoSelector change={(departamento) => { this.setState({ departamento }) }} defaultValue={departamento} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport DepartamentoSelector from '../../Departamento/Selector';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    departamento: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class ItensCotizacion extends React.Component<any, State> {\r\n    state = { departamento: 'TODO', aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, departamento } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"PRODUCTOS EN COTIZACIONES\"} open={modal}\r\n                url={\"/api/Cotizacion/productos/\" + departamento + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>PRODUCTOS EN COTIZACIONES</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR DEPARTAMENTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <DepartamentoSelector change={(departamento) => { this.setState({ departamento }) }} defaultValue={departamento} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport DepartamentoSelector from '../../Departamento/Selector';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    departamento: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class ItensFactura extends React.Component<any, State> {\r\n    state = { departamento: 'TODO', aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, departamento } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"PRODUCTOS EN VENTAS\"} open={modal}\r\n                url={\"/api/Factura/productos/\" + departamento + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>PRODUCTOS EN VENTAS</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR DEPARTAMENTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <DepartamentoSelector change={(departamento) => { this.setState({ departamento }) }} defaultValue={departamento} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport DepartamentoSelector from '../../Departamento/Selector';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    departamento: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class ItensNota extends React.Component<any, State> {\r\n    state = { departamento: 'TODO', aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, departamento } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"PRODUCTOS EN NOTAS DE ENTREGA\"} open={modal}\r\n                url={\"/api/Nota/productos/\" + departamento + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>PRODUCTOS EN NOTAS DE ENTREGA</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR DEPARTAMENTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <DepartamentoSelector change={(departamento) => { this.setState({ departamento }) }} defaultValue={departamento} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport ModalPrint from '../../../Utiles/Componentes/ModalPrint';\r\nimport DepartamentoSelector from '../../Departamento/Selector';\r\nimport Fechas from '../Fechas';\r\ninterface State {\r\n    date1: string\r\n    date2: string\r\n    aux: string\r\n    departamento: string\r\n    modal: boolean\r\n}\r\n\r\nlet date = new Date();\r\nexport default class ItensOrden extends React.Component<any, State> {\r\n    state = { departamento: 'TODO', aux: \"mes\", date1: date.getFullYear() + '', date2: (date.getMonth() + 1) + '', modal: false, modalProductos: false }\r\n    render() {\r\n        let { aux, date2, date1, modal, departamento } = this.state;\r\n        return (<Card>\r\n            <ModalPrint title={\"PRODUCTOS EN ORDENES DE COMPRA\"} open={modal}\r\n                url={\"/api/Orden/productos/\" + departamento + '/' + aux + '/' + date1 + '/' + date2}\r\n                close={() => { this.setState({ modal: !modal }) }} />\r\n            <Card.Header className='bg-info'>\r\n                <h3>PRODUCTOS EN ORDENES DE COMPRA</h3>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card>\r\n                    <Card.Header className='bg-info'>\r\n                        <h6>FILTRAR POR DEPARTAMENTO</h6>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <DepartamentoSelector change={(departamento) => { this.setState({ departamento }) }} defaultValue={departamento} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <Fechas aux={aux} date2={date2} date1={date1} setDate={this.setState.bind(this)} />\r\n                <Button className=\"float-right\" onClick={() => { this.setState({ modal: !modal }) }} variant='primary'>\r\n                    <span className=\"glyphicon glyphicon-print\"></span> IMPRIMIR\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React from \"react\"\r\nimport { FormControl, InputGroup } from \"react-bootstrap\"\r\n\r\nimport moment from 'moment';\r\ninterface Props {\r\n    year: number\r\n    mont: number\r\n    setData: (d: any) => void\r\n}\r\n\r\nexport default function SetMes({ year, mont, setData }: Props) {\r\n    const setChangeYear = (e: React.ChangeEvent<HTMLInputElement>) => setData({ year: parseInt(e.currentTarget.value) })\r\n    const setChangeMont = (e: React.ChangeEvent<HTMLInputElement>) => setData({ mont: parseInt(e.currentTarget.value) })\r\n    function getYear() {\r\n        let yearActual = parseInt(moment().format(\"YYYY\"));\r\n        let years: any[] = [];\r\n        for (let i = 2017; i < yearActual; i++) {\r\n            years.push(<option value={i}>{i}</option>);\r\n        }\r\n        years.push(<option value={yearActual}>{yearActual}</option>);\r\n        return years;\r\n    }\r\n    return <InputGroup>\r\n        <InputGroup.Prepend>\r\n            <InputGroup.Text>seleccionar mes y a√±o</InputGroup.Text>\r\n            <InputGroup.Text>a√±o</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <FormControl onChange={setChangeYear} as=\"select\" defaultValue={year}>\r\n            {getYear()}\r\n        </FormControl>\r\n        <InputGroup.Append>\r\n            <InputGroup.Text>mes</InputGroup.Text>\r\n            <div />\r\n        </InputGroup.Append>\r\n        <FormControl onChange={setChangeMont} as=\"select\" defaultValue={mont}>\r\n            <option value={0}>Todo el a√±o </option>\r\n            <option value={1}>ENERO </option>\r\n            <option value={2}>FEBRERO </option>\r\n            <option value={3}>MARZO </option>\r\n            <option value={4}>ABRIL </option>\r\n            <option value={5}>MAYO </option>\r\n            <option value={6}>JUNIO </option>\r\n            <option value={7}>JULIO </option>\r\n            <option value={8}>AGOSTO </option>\r\n            <option value={9}>SEPTIEMBRE </option>\r\n            <option value={10}>OCTUBRE </option>\r\n            <option value={11}>NOVIEMBRE </option>\r\n            <option value={12}>DICIEMBRE </option>\r\n        </FormControl>\r\n    </InputGroup>\r\n}","import React from \"react\"\r\nimport Tortas, { PieProps } from \"../../../../Utiles/Charts/Torta\";\r\nexport interface rank {\r\n    cantidad: number,\r\n    estatus: number\r\n}\r\nexport default class TortasMaster extends React.Component<{ lugar: string, rango: string, no: string }, PieProps>{\r\n    estados = ['CANCELADO', 'PENDIENTE', 'PROCESADA'];\r\n    api = 'Cotizacion';\r\n    title = '';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { title: '', values: this.estados.map((s) => [s, 0]) };\r\n    }\r\n    render() {\r\n        const { title, values } = this.state;\r\n        return <div className={'center ' + this.props.lugar}>\r\n            <div style={{ textAlign: 'center' }}>\r\n                {this.isData() ? <Tortas title={title} values={values} /> :\r\n                    <div style={{ gridAutoRows: '18rem' }} className='center'>\r\n                        <div style={{ gridAutoRows: '12rem' }} className='no-data bg-black center'>\r\n                            <b>SIN REGISTROS<br /> EN EL {this.props.no}</b>\r\n                        </div>\r\n                    </div>}\r\n                <h5>{this.title}</h5>\r\n            </div>\r\n        </div>\r\n    }\r\n    isData() {\r\n\r\n        if (this.state.values.some(d => d[1] > 0)) return true;\r\n        return false;\r\n    }\r\n    componentDidMount() {\r\n        this.send();\r\n    }\r\n    componentDidUpdate({ rango }: any) {\r\n        if (rango !== this.props.rango)\r\n            this.send();\r\n    }\r\n    async send() {\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/' + this.api + '/torta/' + this.props.rango, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let datos: rank[] = await response.json();\r\n            this.setState({\r\n                values: this.estados.map((s, i) => {\r\n                    const d = datos.find(d => d.estatus === i);\r\n                    return [s, d ? d.cantidad : 0]\r\n                })\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ values: [] });\r\n        }\r\n    }\r\n}","import TortasMaster from './Master';\r\nexport default class CompraPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', 'SIN FACTURA', 'FACTURADA'];\r\n    api = 'Compra';\r\n    title='COMPRAS'\r\n}\r\n\r\n","import TortasMaster from './Master';\r\n\r\nexport default class CotizacionPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', 'PENDIENTE', 'PROCESADA'];\r\n    api = 'Cotizacion';\r\n    title='COTIZACIONES'\r\n}\r\n\r\n\r\n","import TortasMaster from './Master';\r\nexport default class NotaPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', 'ENTREGADA', 'FACTURADA'];\r\n    api = 'Nota';\r\n    title='NOTAS DE ENTREGA'\r\n}","import TortasMaster from './Master';\r\nexport default class FacturaPie extends TortasMaster {\r\n    state = { title: '', values: [] };\r\n    estados = ['CANCELADO', '', 'FACTURADA'];\r\n    api = 'Factura';\r\n    title='FACTURAS'\r\n}","import React from \"react\"\r\nimport Area from \"../../../Utiles/Charts/Area\";\r\nexport default class VentasMes extends React.Component<{ rango: string }, { dias: number[][] }>{\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { dias: [] };\r\n    }\r\n    render() {\r\n        return <div className=\"ventas\" style={{ width: '100%' }}>\r\n            <Area label={['DIA', 'VENTAS']} values={this.get()} title=\"VENTAS DEL MES\" hAxisTitle=\"DIA DEL MES\" />\r\n        </div>\r\n    }\r\n    get() {\r\n        return this.state.dias.sort((a, b) => a[0] - b[0]);\r\n    }\r\n    async send() {\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Factura/linea/' + this.props.rango, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let dias = await response.json();\r\n            this.setState({ dias });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ dias: [] });\r\n        }\r\n    }\r\n    componentDidMount() { this.send() }\r\n}","import React from \"react\"\r\nimport Area from \"../../../Utiles/Charts/Barras\";\r\nexport default class VentasAno extends React.Component<{ rango: string }, { dias: number[][] }>{\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { dias: [] };\r\n    }\r\n    render() {\r\n        return <div className=\"ventas\"  style={{ width: '100%' }}>\r\n            <Area label={['MES', 'VENTAS', 'EQUILIBRIO']} values={this.get()} title=\"VENTAS DEL A√ëO\" />\r\n        </div>\r\n    }\r\n    get() {\r\n        return this.state.dias.sort((a, b) => a[0] - b[0]).map(d => [d[0] + '', d[1], d[2]]);\r\n    }\r\n    async send() {\r\n        try {\r\n            let token = localStorage.getItem('Authorization');\r\n            let response = await fetch('/api/Factura/linea/' + this.props.rango, { headers: { 'Authorization': 'Bearer ' + token } });\r\n            let dias = await response.json();\r\n            this.setState({ dias });\r\n        } catch (error) {\r\n            console.log(error);\r\n            this.setState({ dias: [] });\r\n        }\r\n    }\r\n    componentDidMount() { this.send() }\r\n}","import React from \"react\";\r\nimport { Card, Row } from \"react-bootstrap\";\r\nimport { SeccionContext, SeccionType } from \"../../../Context/Seccion\";\r\nimport SetMes from \"./SetMes\";\r\nimport CompraPie from \"./tortas/Compra\";\r\nimport CotizacionPie from \"./tortas/Cotizacion\";\r\nimport NotaPie from \"./tortas/Nota\";\r\nimport FacturaPie from \"./tortas/Factura\";\r\nimport VentasMes from \"./ventasMes\";\r\nimport VentasAno from \"./ventasAno\";\r\n\r\ninterface State {\r\n    mont: number\r\n    year: number\r\n}\r\nclass Graficas extends React.Component<any, State> {\r\n    constructor(p: any) {\r\n        super(p);\r\n        let date = new Date();\r\n        let a√±o = date.getFullYear(),\r\n            mes = date.getMonth() + 1;\r\n        this.state = { year: a√±o, mont: mes };\r\n    }\r\n    render() {\r\n        let context = this.context as SeccionType;\r\n        let p = context.data.Permisos;\r\n        let { year, mont } = this.state;\r\n        let url = '/ano/' + year, no = 'A√ëO'\r\n        if (mont > 0) {\r\n            no = 'MES'\r\n            url = '/mes/' + year + '/' + mont;\r\n        }\r\n        return <Card>\r\n            <Card.Header>\r\n                <SetMes mont={mont} year={year} setData={this.setState.bind(this)} />\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Row>\r\n                    {p.some(d => d !== 'ORDEN') ? <>\r\n                        <CompraPie ref={'Compra' + url} lugar='col-3' rango={url} no={no} />\r\n                    </> : <></>}\r\n                    {p.some(d => d !== 'COTIZACION') ? <>\r\n                        <CotizacionPie ref={'Cotizacion' + url} lugar='col-3' rango={url} no={no} />\r\n                    </> : <></>}\r\n                    {p.some(d => d !== 'NOTA') ? <>\r\n                        <NotaPie ref={'Nota' + url} lugar='col-3' rango={url} no={no} />\r\n                    </> : <></>}\r\n                    {p.some(d => d !== 'FACTURA') ? <>\r\n                        <FacturaPie ref={'Factura' + url} lugar='col-3' rango={url} no={no} />\r\n                    </> : <></>}\r\n                </Row>\r\n                <Row>\r\n                    {no === 'MES' ? <VentasMes rango={url} /> : <VentasAno rango={url} />}\r\n                </Row>\r\n            </Card.Body>\r\n        </Card >\r\n    }\r\n}\r\nGraficas.contextType = SeccionContext;\r\nexport default Graficas;","import React, { useContext } from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport { Route, Link } from \"react-router-dom\"\r\nimport Ventas from '../App/Reportes/Ventas/reportes';\r\nimport Compras from '../App/Reportes/Compras/Reportes';\r\nimport Vendedores from '../App/Reportes/Ventas/Vendedores';\r\nimport Inventario from '../App/Reportes/Inventario';\r\nimport Historico from '../App/Reportes/Historico';\r\nimport Cotizaciones from '../App/Reportes/Cotizacion/reporte';\r\nimport Notas from '../App/Reportes/Notas/reporte';\r\nimport Ordenes from '../App/Reportes/Orden/reporte';\r\nimport HistoricoCompra from '../App/Reportes/Compras/Historico';\r\nimport HistoricoFactura from '../App/Reportes/Ventas/Historico';\r\nimport HistoricoCotizacion from '../App/Reportes/Cotizacion/Historico';\r\nimport HistoricoNota from '../App/Reportes/Notas/Historico';\r\nimport HistoricoOrden from '../App/Reportes/Orden/Historico';\r\nimport ItensCompra from '../App/Reportes/Compras/Itens';\r\nimport ItensCotizacion from '../App/Reportes/Cotizacion/Itens';\r\nimport ItensFactura from '../App/Reportes/Ventas/Itens';\r\nimport ItensNota from '../App/Reportes/Notas/Itens';\r\nimport ItensOrden from '../App/Reportes/Orden/Itens';\r\nimport Graficas from '../App/Reportes/Graficas';\r\nimport { Menus } from '../Utiles/Componentes/Menus';\r\nimport { SeccionContext } from '../Context/Seccion';\r\nexport default function MasterReportes() {\r\n    const context = useContext(SeccionContext);\r\n    let p: string[] = []\r\n    if (context !== null)\r\n        p = context.data.Permisos;\r\n    return (<Row style={{ minHeight: \"calc(100vh - 145px)\" }}>\r\n        <Col md={3} style={{ minHeight: \"calc(100vh - 145px)\" }}>\r\n            {p.some(d => d === 'FACTURA') ?\r\n                <Menus title='REPORTES DE VENTAS' >\r\n                    <Link className='btn btn-default' to='/reporte/ventas'>\r\n                        VENTAS\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/ventas/vendedor'>\r\n                        VENDEDORES\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/ventas/de'>\r\n                        VENTAS DE UN PORDUCTO\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/ventas/productos'>\r\n                        PRODUCTOS POR VENTAS\r\n                    </Link>\r\n                </Menus> : <></>}\r\n            {p.some(d => d === 'NOTA') ?\r\n                <Menus title='REPORTES DE NOTAS DE ENTREGA' >\r\n                    <Link className='btn btn-default' to='/reporte/notas'>\r\n                        NOTAS DE ENTREGA\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/notas/de'>\r\n                        N.E DE UN PORDUCTO\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/notas/productos'>\r\n                        PRODUCTOS POR N.E\r\n                    </Link>\r\n                </Menus> : <></>}\r\n            {p.some(d => d === 'COTIZACION') ?\r\n                <Menus title='REPORTES DE COTIZACIONES' >\r\n                    <Link className='btn btn-default' to='/reporte/cotizacion'>\r\n                        COTIZACIONES\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/cotizacion/de'>\r\n                        COTIZACIONES DE UN PORDUCTO\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/cotizacion/productos'>\r\n                        PRODUCTOS POR COTIZACIONES\r\n                    </Link>\r\n                </Menus> : <></>}\r\n            {p.some(d => d === 'FACTURA') ?\r\n                <Menus title='REPORTES DE COMPRAS' >\r\n                    <Link className='btn btn-default' to='/reporte/compras'>\r\n                        COMPRAS\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/compras/de'>\r\n                        COMPRAS DE UN PORDUCTO\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/compras/productos'>\r\n                        PRODUCTOS POR COMPRAS\r\n                    </Link>\r\n                </Menus> : <></>}\r\n            {p.some(d => d === 'COMPRA') ?\r\n                <Menus title='REPORTES DE ORDENES DE COMPRA' >\r\n                    <Link className='btn btn-default' to='/reporte/ordenes'>\r\n                        ORDENES DE COMPRA\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/ordenes/de'>\r\n                        O.C DE UN PORDUCTO\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/ordenes/productos'>\r\n                        PRODUCTOS POR O.C\r\n                    </Link>\r\n                </Menus> : <></>}\r\n            {p.some(d => d === 'PRODUCTO') ?\r\n                <Menus title='REPORTES DE INVENTARIO' >\r\n                    <Link className='btn btn-default' to='/reporte/inventario'>\r\n                        INVENTARIO\r\n                    </Link>\r\n                    <Link className='btn btn-default' to='/reporte/inventario/historico'>\r\n                        HISTORICO\r\n                    </Link>\r\n                </Menus> : <></>}\r\n        </Col>\r\n        <Col md={9} style={{ minHeight: \"calc(100vh - 145px)\" }}>\r\n            <Route exact path=\"/reporte\" component={Graficas} />\r\n            {/* reportes de ventas */}\r\n            <Route exact path=\"/reporte/ventas\" component={Ventas} />\r\n            <Route path=\"/reporte/ventas/vendedor\" component={Vendedores} />\r\n            <Route path=\"/reporte/ventas/de\" component={HistoricoFactura} />\r\n            <Route path=\"/reporte/ventas/productos\" component={ItensFactura} />\r\n            {/* reportes de notas */}\r\n            <Route exact path=\"/reporte/notas\" component={Notas} />\r\n            <Route path=\"/reporte/notas/de\" component={HistoricoNota} />\r\n            <Route path=\"/reporte/notas/productos\" component={ItensNota} />\r\n            {/* reportes de cotizaciones */}\r\n            <Route exact path=\"/reporte/cotizacion\" component={Cotizaciones} />\r\n            <Route path=\"/reporte/cotizacion/de\" component={HistoricoCotizacion} />\r\n            <Route path=\"/reporte/cotizacion/productos\" component={ItensCotizacion} />\r\n            {/* reportes de cotizaciones */}\r\n            <Route exact path=\"/reporte/compras\" component={Compras} />\r\n            <Route path=\"/reporte/compras/de\" component={HistoricoCompra} />\r\n            <Route path=\"/reporte/compras/productos\" component={ItensCompra} />\r\n            {/* reportes de ordenes */}\r\n            <Route exact path=\"/reporte/ordenes\" component={Ordenes} />\r\n            <Route path=\"/reporte/ordenes/de\" component={HistoricoOrden} />\r\n            <Route path=\"/reporte/ordenes/productos\" component={ItensOrden} />\r\n            {/* reportes de ordenes */}\r\n            <Route exact path=\"/reporte/inventario\" component={Inventario} />\r\n            <Route path=\"/reporte/inventario/historico\" component={Historico} />\r\n        </Col>\r\n    </Row>)\r\n}","import React, { useState } from 'react';\r\nimport { Button, Col, InputGroup, Row, Table } from 'react-bootstrap';\r\nimport BuscarProducto from '../../App/Productos/BuscarProducto';\r\nimport UsuarioSelector from '../../App/Usuarios/Select';\r\nimport { Producto } from '../../Models/Productos';\r\nimport { InputDate } from '../../Utiles/Inputs';\r\ntype es = string | undefined\r\nexport interface AvanzadosProps {\r\n    setData: (d: any) => void\r\n    fecha_init: string\r\n    fecha_fin: string\r\n    productos: Producto[]\r\n    estatus: es[]\r\n    status: number\r\n    user: number\r\n    tipo: '' | 'SALIDA' | 'ENTRADA' | 'COSTO' | 'UTILIDAD'\r\n}\r\nexport default function Avanzado({ fecha_init, fecha_fin, status, user, estatus, productos, tipo, setData }: AvanzadosProps) {\r\n    const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => setData({ status: parseInt(e.currentTarget.value) });\r\n    const setTipo = (e: React.ChangeEvent<HTMLSelectElement>) => setData({ tipo: e.currentTarget.value });\r\n    const removeProducto = (cod: String) => setData({ productos: productos.filter(p => p.codigo !== cod) })\r\n    const limpiarFechas = () => { setData({ fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa' }) };\r\n    const addProducto = (p: Producto) => setData({ productos: [...productos, p] })\r\n    const [open, setOpen] = useState(false);\r\n    return <Row className=\"form\">\r\n        <BuscarProducto type='Seleccion' open={open} add={addProducto} close={() => { setOpen(false) }} />\r\n        <Col md={12}>\r\n            <InputGroup>\r\n                <InputGroup.Prepend><InputGroup.Text>RANGO DE FECHAS DEL</InputGroup.Text></InputGroup.Prepend>\r\n                <InputDate value={fecha_init} setData={setData} update='fecha_init' />\r\n                <InputGroup.Prepend><InputGroup.Text>AL</InputGroup.Text></InputGroup.Prepend>\r\n                <InputDate value={fecha_fin} setData={setData} update='fecha_fin' />\r\n                <Button onClick={limpiarFechas} data-tip=\"LIMPIAR FECHAS\" variant=\"danger\"\r\n                ><i className=\"fa fa-ban\"></i></Button>\r\n            </InputGroup>\r\n        </Col>\r\n        <Col md={6}><br />\r\n            <select data-tip=\"FILTRAR POR TIPO DE AJUSTE\" onChange={setTipo} className=\"form-control\" value={tipo}>\r\n                <option value=''>TODOS LOS TIPOS DE AJUSTE</option>\r\n                <option value='SALIDA'>AJUSTE DE SALIDA</option>\r\n                <option value='ENTRADA'>AJUSTE DE ENTRADA</option>\r\n                <option value='COSTO'>AJUSTE DE COSTO</option>\r\n                <option value='UTILIDAD'>AJUSTE DE UTILIDAD</option>\r\n            </select>\r\n        </Col>\r\n        <Col md={6}><br />\r\n            <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={setStatus} className=\"form-control\" value={status}>\r\n                <option value={-1}>TODOS LOS AJUSTES</option>\r\n                {estatus[0] ? <option value={0}>{estatus[0]}</option> : <></>}\r\n                {estatus[1] ? <option value={1}>{estatus[1]}</option> : <></>}\r\n                {estatus[2] ? <option value={2}>{estatus[2]}</option> : <></>}\r\n            </select>\r\n        </Col>\r\n        <Col data-tip=\"FILTRAR POR USUARIO QUE REALIZO LA OPERACION\" md={9}><br />\r\n            <UsuarioSelector change={(u: number) => { setData({ user: u }) }} defaultValue={user} />\r\n        </Col>\r\n        <Col md={3} style={{ textAlign: 'center' }}><br />\r\n            <Button data-tip=\"FILTRAR POR LOS PRODUCTOS SELECCIONADOS\" block onClick={() => { setOpen(true) }}\r\n            ><i className=\"fa fa-search\" /> BUSCAR PRODUCTOS</Button>\r\n        </Col>\r\n        <Col md={12}><br />\r\n            <Table striped hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{ width: \"10%\" }} className=\"text-center\">CODIGO</th>\r\n                        <th style={{ width: \"80%\" }} >DESCRIPCION</th>\r\n                        <th style={{ width: \"10%\" }} >QUITAR</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {productos.map((iten) => {\r\n                        return (<tr>\r\n                            <td className=\"text-center\">{iten.codigo}</td>\r\n                            <td>{iten.descripcion}</td>\r\n                            <td className=\"text-center\">\r\n                                <Button variant=\"danger\" onClick={() => { removeProducto(iten.codigo) }}>\r\n                                    <i className=\"fa fa-ban\"></i>\r\n                                </Button>\r\n                            </td>\r\n                        </tr>);\r\n                    })}\r\n                </tbody>\r\n            </Table>\r\n        </Col>\r\n    </Row >\r\n}","import { Conexion } from \"../Config/Coneccion\";\r\nimport { Detalles, GeneralData, GeneralFila, generalNull } from \"./General\";\r\n\r\nexport default interface Ajuste extends GeneralData {\r\n    status: 0 | 1,\r\n    tipo: \"\" | 'SALIDA' | 'ENTRADA' | 'COSTO' | 'UTILIDAD'\r\n    detalles: DetallesAjuste[]\r\n}\r\nexport interface Costo {\r\n    costo: number\r\n    tasa: number\r\n}\r\ninterface UtilidadDetalle {\r\n    precio1: number\r\n    precio2: number\r\n    precio3: number\r\n}\r\nexport interface Utilidad {\r\n    previo: UtilidadDetalle\r\n    actual: UtilidadDetalle\r\n}\r\nexport interface DetallesAjuste extends Detalles {\r\n    data: Costo | Utilidad\r\n}\r\nexport interface AjusteFila extends GeneralFila {\r\n    tipo: string\r\n}\r\n\r\nexport const AjusteNull: Ajuste = {\r\n    ...generalNull,\r\n    tipo: '',\r\n    status: 0,\r\n    detalles: [],\r\n}\r\nclass AjusteConexion extends Conexion {\r\n    clase = 'Ajuste';\r\n    persistencia = 1000;\r\n}\r\n\r\nfunction detallesSend({ unidades, precio, precio1, precio2, precio3, codigo, comentario }: Detalles, tipo: \"\" | 'SALIDA' | 'ENTRADA' | 'COSTO' | 'UTILIDAD') {\r\n    switch (tipo) {\r\n        case 'COSTO':\r\n            return { codigo, precio, comentario };\r\n        case 'UTILIDAD':\r\n            return { codigo, precio1, precio2, precio3, comentario };\r\n        default:\r\n            return { codigo, unidades, comentario };\r\n    }\r\n}\r\nexport function ajusteSend({ detalles, nota, tipo }: Ajuste) {\r\n    return { nota, tipo, detalles: detalles.map(d => { return detallesSend(d, tipo) }) }\r\n}\r\nexport function conAjuste() {\r\n    return new AjusteConexion();\r\n}","import React from 'react'\r\nimport { Col, Modal, Row, Table } from 'react-bootstrap';\r\nimport Ajuste, { AjusteNull, conAjuste, DetallesAjuste, Costo, Utilidad } from '../../Models/Ajuste';\r\nimport { numberFormat } from '../../Utiles/Formatos';\r\ninterface Props {\r\n    id: number\r\n    open: boolean,\r\n    close: () => void,\r\n    titulo: string\r\n}\r\nexport default class ModalDetalle extends React.Component<Props, Ajuste> {\r\n    con = conAjuste();\r\n    state = { ...AjusteNull };\r\n    render() {\r\n        let { detalles } = this.state;\r\n        if (detalles === undefined)\r\n            return <></>\r\n        return <Modal size='xl' centered dialogClassName=\"modal-detalle\" animation show={this.props.open} onHide={this.props.close}>\r\n            <Modal.Header closeButton>\r\n                <h6 className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n                    <span><b>{this.props.titulo}</b></span>\r\n                </h6>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs='12'>\r\n                        <b>TIPO DE AJUSTE:</b> {this.state.tipo}\r\n                    </Col>\r\n                    <Col xs='12'>\r\n                        <b>NOTA:</b> {this.state.nota}\r\n                    </Col>\r\n                    <Table striped hover>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: \"100px\" }}>CODE</th>\r\n                                <th>DESCRIPCION</th>\r\n                                {this.th()}\r\n                                <th>NOTA</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {detalles.map((s) => {\r\n                                switch (this.state.tipo) {\r\n                                    case 'ENTRADA':\r\n                                    case 'SALIDA':\r\n                                        return <RowES d={s} />\r\n                                    case 'COSTO':\r\n                                        return <RowCosto d={s} />\r\n                                    case 'UTILIDAD':\r\n                                        return <RowUtilidad d={s} />\r\n                                }\r\n                                return <></>\r\n                            })}\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n            </Modal.Body>\r\n        </Modal>\r\n    }\r\n    th() {\r\n        switch (this.state.tipo) {\r\n            case 'ENTRADA':\r\n            case 'SALIDA':\r\n                return <th style={{ width: \"60px\", textAlign: \"right\" }}>CANT</th>\r\n            case 'COSTO':\r\n            case 'UTILIDAD':\r\n                return <>\r\n                    <th style={{ width: \"100px\", textAlign: \"right\" }}>ANTERIOR</th>\r\n                    <th style={{ width: \"100px\", textAlign: \"right\" }}>ACTUAL</th>\r\n                    <th style={{ width: \"100px\", textAlign: \"right\" }}>VIGENTE</th>\r\n                </>\r\n        }\r\n        return <></>\r\n    }\r\n    dialog() {\r\n        return <Modal.Dialog style={{ width: \"90%\" }} />\r\n    }\r\n    componentDidMount() {\r\n        this.set();\r\n    }\r\n    set() {\r\n        this.con.detalle(this.props.id, this.setState.bind(this));\r\n    }\r\n}\r\n\r\nfunction RowES({ d: { codigo, descripcion, unidades, comentario } }: { d: DetallesAjuste }) {\r\n    return <tr>\r\n        <td style={{ width: \"100px\" }}>{codigo}</td>\r\n        <td>{descripcion}</td>\r\n        <td style={{ width: \"60px\", textAlign: \"right\" }}>{numberFormat(unidades)}</td>\r\n        <td>{comentario}</td>\r\n    </tr>\r\n}\r\nfunction RowCosto({ d: { codigo, descripcion, data, unidades, costo, tasa, comentario } }: { d: DetallesAjuste }) {\r\n    let d = data as Costo;\r\n    const vig = () => {\r\n        if (unidades !== costo) return false;\r\n        return true;\r\n    }\r\n    return <tr>\r\n        <td style={{ width: \"100px\" }}>{codigo}</td>\r\n        <td>{descripcion}</td>\r\n        <td style={{ width: \"100px\", textAlign: \"right\" }}>{numberFormat(d.costo)}</td>\r\n        <td style={{ width: \"100px\", textAlign: \"right\" }}>{numberFormat(unidades)}</td>\r\n        <td style={{ width: \"100px\", textAlign: \"right\" }}>{vig() ? 'SI' : 'NO'}</td>\r\n        <td>{comentario}</td>\r\n    </tr>\r\n}\r\nfunction RowUtilidad({ d: { codigo, descripcion, data, comentario } }: { d: DetallesAjuste }) {\r\n    let { actual, previo } = data as Utilidad;\r\n    const vig = () => {\r\n        if (previo.precio1 !== actual.precio1) return false;\r\n        if (previo.precio2 !== actual.precio2) return false;\r\n        if (previo.precio3 !== actual.precio3) return false;\r\n        return true;\r\n    }\r\n    return <tr>\r\n        <td style={{ width: \"100px\" }}>{codigo}</td>\r\n        <td>{descripcion}</td>\r\n        <td style={{ width: \"100px\", textAlign: \"right\" }}>\r\n            {numberFormat(previo.precio1)}<br />\r\n            {numberFormat(previo.precio2)}<br />\r\n            {numberFormat(previo.precio3)}<br />\r\n        </td>\r\n        <td style={{ width: \"100px\", textAlign: \"right\" }}>\r\n            {numberFormat(actual.precio1)}<br />\r\n            {numberFormat(actual.precio2)}<br />\r\n            {numberFormat(actual.precio3)}<br />\r\n        </td>\r\n        <td style={{ width: \"100px\", textAlign: \"right\" }}>{vig() ? 'SI' : 'NO'}</td>\r\n        <td>{comentario}</td>\r\n    </tr>\r\n}","\r\nimport React from 'react';\r\nimport { conAjuste, AjusteFila } from '../../Models/Ajuste';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport { formatoFecha, zfill } from '../../Utiles/Formatos';\r\nimport ModalAlert from '../../Utiles/Componentes/ModalAlert';\r\nimport Detalles from './Detalles';\r\nimport THFila from '../../Utiles/Componentes/THFila';\r\nimport ModalPrint from '../../Utiles/Componentes/ModalPrint';\r\n\r\n\r\n\r\ninterface Props {\r\n    data: AjusteFila\r\n    update?: () => void\r\n}\r\ninterface State {\r\n    print: boolean\r\n    detalles: boolean\r\n    aux: boolean\r\n    eliminar: boolean\r\n}\r\nexport default class FilaAjuste extends React.Component<Props, State>{\r\n    con = conAjuste();\r\n    state = { print: false, detalles: false, aux: false, eliminar: false };\r\n    render() {\r\n        let cot = this.props.data;\r\n        return <tr >\r\n            <th style={{ width: '100px' }}>\r\n                <Button data-tip=\"VER DETALLEA\" onClick={() => { this.setState({ detalles: true }) }} variant=\"link\" >\r\n                    {zfill(cot.codigo)}\r\n                </Button>\r\n            </th>\r\n            <THFila width=\"120px\" align='center'>{formatoFecha(cot.fecha)}</THFila>\r\n            <THFila width=\"auto\" align='left'>{cot.nombre}</THFila>\r\n            <THFila width=\"100px\" align='center'>{cot.tipo}</THFila>\r\n            <THFila width=\"100px\" align='center'>{(cot.status === 1) ?\r\n                <span className=\"badge badge-success\">REALIZADO</span>\r\n                : <span className=\"badge badge-danger\">REVERTIDO</span>}</THFila>\r\n            <th style={{ width: '70px' }}>\r\n                {this.getModal()}\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"VER IMPRESION\" variant=\"primary\"\r\n                        onClick={() => { this.setState({ print: true }) }}>\r\n                        <i className=\"fa fa-download\"></i>\r\n                    </Button>\r\n                    {(cot.status === 1) ?\r\n                        <Button data-tip=\"REVERTIR\" variant=\"danger\"\r\n                            onClick={() => { this.setState({ eliminar: true }) }} >\r\n                            <i className=\"fa fa fa-ban\"></i>\r\n                        </Button> : <></>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getModal() {\r\n        let cot = this.props.data;\r\n        return <>\r\n            <ModalAlert title={\"REVERTIR EL AJUSTE N¬∞ \" + zfill(cot.codigo)}\r\n                key={'ModalAlert' + cot.tipo + zfill(cot.codigo)}\r\n                msn={\"ESTA SEGURO QUE REVERITRA LA EL AJUSTE N¬∞\" + zfill(cot.codigo) + \"?\"}\r\n                open={this.state.eliminar} close={this.close.bind(this)} accion={this.cancelar.bind(this)} />\r\n            <Detalles titulo={\"DETALLES EL AJUSTE N¬∞ \" + zfill(cot.codigo)}\r\n                key={'ModalDetalles' + cot.tipo + zfill(cot.codigo)} id={cot.codigo}\r\n                open={this.state.detalles} close={this.close.bind(this)} />\r\n            <ModalPrint title={\"IMPRIMIR AJUSTE N¬∞ \" + zfill(cot.codigo)}\r\n                url={\"/api/Ajuste/PDF/\" + cot.codigo} key={'ModalPrint' + cot.tipo + cot.codigo}\r\n                open={this.state.print} close={this.close.bind(this)} />\r\n        </>;\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.status === 1)\r\n            return <span className=\"badge badge-success\">ACTIVA</span>\r\n        return <span className=\"badge badge-danger\">CANCELADA</span>\r\n    }\r\n    getButtons() {\r\n        return\r\n    }\r\n    close() {\r\n        this.setState({ print: false, detalles: false, aux: false, eliminar: false });\r\n    }\r\n    cancelar() {\r\n        this.con.cancelar(this.props.data.codigo, this.props.update)\r\n        this.close();\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Avanzado, { AvanzadosProps } from './Avanzado';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport { Producto } from '../../Models/Productos';\r\nimport FilaAjuste from './FilaAjuste';\r\nimport { conAjuste, AjusteFila } from '../../Models/Ajuste';\r\nimport { EstadoNull } from '../../Models/General';\r\nimport { formatoHora } from '../../Utiles/Formatos';\r\nexport default class ListAjustes extends CardBuscador {\r\n    permiso = 'AJUSTE';\r\n    estado = EstadoNull;\r\n    con = conAjuste();\r\n    placeholder = \"BUSCAR AJUSTE\";\r\n    buscarEn = [\"codigo\", \"nombre\", 'fecha'];\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    productos: Producto[] = []\r\n    status = -1;\r\n    user = -1;\r\n    tipo: '' | 'SALIDA' | 'ENTRADA' | 'COSTO' | 'UTILIDAD' = '';\r\n    Avansado() {\r\n        const { tipo, fecha_init, fecha_fin, status, user, productos, setAvanzados } = this;\r\n        return <Avanzado setData={setAvanzados.bind(this)}\r\n            estatus={['AJUSTES REVERTIDOS', 'AJUSTES REALIZADOS']} tipo={tipo}\r\n            fecha_init={fecha_init} fecha_fin={fecha_fin}\r\n            status={status} user={user} productos={productos} />\r\n    }\r\n    setAvanzados({ fecha_init, fecha_fin, status, user, productos, tipo }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (user) this.user = user;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (tipo) this.tipo = tipo;\r\n        if (productos) this.productos = productos;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { tipo, fecha_init, fecha_fin, status, user, productos, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: AjusteFila) => {\r\n            if (c.status !== status && status !== -1) return false;\r\n            if (c.usuario !== user && user !== -1) return false;\r\n            if (c.tipo !== tipo && tipo !== '') return false;\r\n            const creacion = datetonomber(c.fecha);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            if (!productos.every(p => c.detalles.some(d => p.codigo === d))) return false;\r\n            return true;\r\n        });\r\n    }\r\n    Title() {\r\n        return <>\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR AJUSTE</h4>\r\n            <Link to=\"/producto/ajuste/nuevo\" className=\"btn btn-primary\"><span className=\"fa fa-plus\"></span> NUEVO AJUSTE</Link>\r\n        </>\r\n    }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='100px'>N¬∞</Th>\r\n            <Th label='fecha' width='90px'>FECHA</Th>\r\n            <Th label='nombre' width='calc(100% - 470px)'>USUARIO</Th>\r\n            <Th width='100px'>TIPO</Th>\r\n            <Th width='100px'>ESTADO</Th>\r\n            <Th width='70px'>{undefined}</Th>\r\n        </tr>\r\n    }\r\n    Row(p: AjusteFila) {\r\n        return <FilaAjuste update={this.set.bind(this)} key={\"cot\" + p.codigo + p.status} data={p} />\r\n    }\r\n    getEstado() {\r\n        return this.estado;\r\n    }\r\n    set() {\r\n        this.estado = { status: 2, hora: '...ACTUALIZANDO' };\r\n        this.con.cargarListaCache((itens) => this.setState({ itens: this.arrayToAjuste(itens) }));\r\n        this.con.cargarListaWeb((itens) => {\r\n            this.estado = { status: 3, hora: formatoHora(undefined) };\r\n            this.setState({ itens: this.arrayToAjuste(itens) });\r\n        })\r\n    }\r\n    arrayToAjuste(a: any[]): AjusteFila[] {\r\n        return a.map(a => {\r\n            return {\r\n                codigo: a[0],\r\n                usuario: a[1],\r\n                nombre: a[2],\r\n                tipo: a[3],\r\n                fecha: a[4],\r\n                nota: a[5],\r\n                status: a[6],\r\n                detalles: a[7],\r\n                monto: 0,\r\n                rif: '',\r\n                tasa: 0\r\n            }\r\n        })\r\n    }\r\n}\r\n","\r\nimport React from 'react'\r\nimport { Button, ButtonGroup } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { ControlText } from '../../../Utiles/FormControl'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nexport default class FilaEntrada extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, descripcion, codigo, open, comentario } = this.state\r\n        return <>\r\n            <tr>\r\n                <THFila width='90px'>{codigo}</THFila>\r\n                <THFila width='auto'>{descripcion}</THFila>\r\n                <THInput width='120px'><InputNumber min={.01} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n                <THInput width='110px'>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"fa fa-edit\"></span>\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <ControlText maxLength={250} before=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","\r\nimport React from 'react'\r\nimport { Button, FormControl, ButtonGroup } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { numberFormat } from '../../../Utiles/Formatos'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { ControlText } from '../../../Utiles/FormControl'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nexport default class FilaSalida extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { unidades, cantidad, descripcion, codigo, open, comentario } = this.state\r\n        return <>\r\n            <tr>\r\n                <THFila width='90px'>{codigo}</THFila>\r\n                <THFila width='auto'>{descripcion}</THFila>\r\n                <THInput width='120px'><InputNumber min={.01} step='0.01' setData={this.setState} value={unidades} update=\"unidades\" /></THInput>\r\n                <THInput width='120px'><FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(cantidad)} /></THInput>\r\n                <THInput width='110px'>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"fa fa-edit\"></span>\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <ControlText maxLength={250} before=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.unidades !== this.state.unidades || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","\r\nimport React from 'react'\r\nimport { Button, ButtonGroup } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { ControlText } from '../../../Utiles/FormControl'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    open: boolean,\r\n}\r\nexport default class FilaPrecio extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, open: false }\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n    render() {\r\n        let { precio, descripcion, codigo, open, comentario } = this.state\r\n        return <>\r\n            <tr>\r\n                <THFila width='90px'>{codigo}</THFila>\r\n                <THFila width='auto'>{descripcion}</THFila>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={this.setState} value={precio} update=\"precio\" /></THInput>\r\n                <THInput width='110px'>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"DEJAR NOTA\">\r\n                            <span className=\"fa fa-edit\"></span>\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <ControlText maxLength={250} before=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio !== this.state.precio || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","\r\nimport React from 'react'\r\nimport { Button, ButtonGroup } from 'react-bootstrap'\r\nimport { Detalles } from '../../../Models/General'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { ControlText } from '../../../Utiles/FormControl'\r\nimport { numberFormat } from '../../../Utiles/Formatos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\n\r\ninterface Props {\r\n    producto: Detalles,\r\n    edit: (iten: Detalles) => void,\r\n    remove: (iten: Detalles) => void\r\n}\r\ninterface State extends Detalles {\r\n    monto_1: number,\r\n    monto_2: number,\r\n    monto_3: number\r\n    open: boolean\r\n}\r\nexport default class FilaUtilidad extends React.Component<Props, State>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { ...p.producto, monto_1: 1, monto_2: 1, monto_3: 1, open: false }\r\n        this.setState = this.setState.bind(this)\r\n        this.setPrecio = this.setPrecio.bind(this)\r\n        this.setUtilidad = this.setUtilidad.bind(this)\r\n    }\r\n    render() {\r\n        let {\r\n            state: { codigo, descripcion, precio1, precio2, precio3, open, comentario, costo },\r\n            setPrecio, setUtilidad, } = this;\r\n        return <>\r\n            <tr>\r\n                <THFila width='90px'>{codigo}</THFila>\r\n                <THFila width='auto'>{descripcion}</THFila>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={setUtilidad} value={precio1} update=\"precio1\" /></THInput>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={setUtilidad} value={precio2} update=\"precio2\" /></THInput>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={setUtilidad} value={precio3} update=\"precio3\" /></THInput>\r\n                <THInput width='110px'>\r\n                    <ButtonGroup>\r\n                        <Button variant=\"info\" onClick={() => { this.setState({ open: !this.state.open }) }} data-tip=\"MOSTRAR MAS\">\r\n                            <span className=\"fa fa-edit\"></span>\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => { this.props.remove(this.state) }} data-tip=\"QUITAR PRODUCTO\">\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={2}>\r\n                    <ControlText setData={() => { }} before='COSTO' style={{ textAlign: 'right' }} disabled value={numberFormat(costo)} />\r\n                </td>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={setPrecio} value={this.getPrecio(precio1)} update=\"monto_1\" /></THInput>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={setPrecio} value={this.getPrecio(precio2)} update=\"monto_2\" /></THInput>\r\n                <THInput width='180px'><InputNumber min={.01} step='0.01' setData={setPrecio} value={this.getPrecio(precio3)} update=\"monto_3\" /></THInput>\r\n            </tr>\r\n            <tr style={{ display: open ? '' : 'none' }}>\r\n                <td colSpan={7}>\r\n                    <ControlText maxLength={250} before=\"NOTA INTERNA\" setData={this.setState} value={comentario} update=\"comentario\" />\r\n                </td>\r\n            </tr>\r\n        </>\r\n    }\r\n    getPrecio(price: number) {\r\n        let utilidad = (price / 100) + 1\r\n        return this.state.costo * utilidad;\r\n    }\r\n    setPrecio(d: { monto_1?: number, monto_2?: number, monto_3?: number }) {\r\n        if (d.monto_1)\r\n            this.setState({ monto_1: d.monto_1, precio1: this.getUtilidad(d.monto_1) });\r\n        if (d.monto_2)\r\n            this.setState({ monto_2: d.monto_2, precio2: this.getUtilidad(d.monto_2) });\r\n        if (d.monto_3)\r\n            this.setState({ monto_3: d.monto_3, precio3: this.getUtilidad(d.monto_3) });\r\n    }\r\n    getUtilidad(price: number) {\r\n        let utilidad = ((price / this.state.costo) - 1) * 100\r\n        return parseFloat(utilidad.toFixed(2));\r\n    }\r\n    setUtilidad(d: { precio1?: number, precio2?: number, precio3?: number }) {\r\n        if (d.precio1)\r\n            this.setState({ monto_1: this.getPrecio(d.precio1), precio1: d.precio1 });\r\n        if (d.precio2)\r\n            this.setState({ monto_2: this.getPrecio(d.precio2), precio2: d.precio2 });\r\n        if (d.precio3)\r\n            this.setState({ monto_3: this.getPrecio(d.precio3), precio3: d.precio3 });\r\n    }\r\n    componentWillUpdate(p: Props, s: State) {\r\n        if (s.precio1 !== this.state.precio1 || s.precio2 !== this.state.precio2 || s.precio3 !== this.state.precio3 || s.comentario !== this.state.comentario)\r\n            this.props.edit(s)\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\nimport { Departamento } from '../../../Models/Productos'\r\nimport { toast } from 'react-toastify'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\n\r\ninterface Props {\r\n    departamento: Departamento,\r\n    add: (iten: { codigo: string, precio: number, operacion: string }) => void\r\n}\r\nexport default class FilaPrecio extends React.Component<Props, { precio: number, operacion: string }>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { precio: 1, operacion: 'mas' };\r\n        this.setState = this.setState.bind(this);\r\n        this.Estados = this.Estados.bind(this);\r\n    }\r\n    render() {\r\n        let { state: { precio, operacion }, props: { departamento: { codigo, descripcion } }, Estados } = this;\r\n        return <tr className={codigo === 'AAAA' ? 'bg-warning' : ''}>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='auto'>{descripcion}</THFila>\r\n            <THInput width='150px'><Estados /></THInput>\r\n            <THInput width='180px'><InputNumber min={.01} step='0.01' setData={this.setState} value={precio} update=\"precio\" /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"PLICAR A LA CATEGORIA\" onClick={() => this.add(codigo, precio, operacion)} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    Estados() {\r\n        const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => this.setState({ operacion: e.currentTarget.value })\r\n        return <select onChange={setStatus} className=\"form-control\" value={this.state.operacion} >\r\n            <option value='mas'>SUMAR</option>\r\n            <option value='menos'>RESTAR</option>\r\n            <option value='por'>MULTIPLICAR</option>\r\n            <option value='entre'>DIVIDIR</option>\r\n        </select >\r\n    }\r\n    add(codigo: string, precio: number, operacion: string) {\r\n        if (precio !== 0) this.props.add({ codigo, precio, operacion })\r\n        else toast('DEBE UNGRESAR UN VALOR A LA OPERACION', { type: toast.TYPE.ERROR });\r\n    }\r\n\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { ProductosContext, ProductosType } from '../../../Context/Producto'\r\nimport { Departamento } from '../../../Models/Productos'\r\nimport THFila, { THInput } from '../../../Utiles/Componentes/THFila'\r\nimport { InputNumber } from '../../../Utiles/Inputs'\r\n\r\ninterface Props {\r\n    departamento: Departamento,\r\n    add: (d: { precio1: number, precio2: number, precio3: number, codigo: string }) => void\r\n}\r\nclass FilaUtilidad extends React.Component<Props, { precio1: number, precio2: number, precio3: number }>{\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = { precio1: 10, precio2: 20, precio3: 30 };\r\n        this.setState = this.setState.bind(this);\r\n    }\r\n    render() {\r\n        let { state: { precio1, precio2, precio3 }, props: { departamento: { codigo, descripcion } }, setState } = this;\r\n        return <tr className={codigo === 'AAAA' ? 'bg-warning' : ''}>\r\n            <THFila width='90px'>{codigo}</THFila>\r\n            <THFila width='calc(100% - 610px)'>{descripcion}</THFila>\r\n            <THInput width='150px'><InputNumber min={.01} step='0.01' setData={setState} value={precio1} update=\"precio1\" /></THInput>\r\n            <THInput width='150px'><InputNumber min={.01} step='0.01' setData={setState} value={precio2} update=\"precio2\" /></THInput>\r\n            <THInput width='150px'><InputNumber min={.01} step='0.01' setData={setState} value={precio3} update=\"precio3\" /></THInput>\r\n            <THInput width='70px'>\r\n                <Button data-tip=\"PLICAR A LA CATEGORIA\" onClick={() => { this.props.add({ codigo, precio1, precio2, precio3 }) }} variant=\"primary\">\r\n                    <i className=\"fa fa-plus\" />\r\n                </Button>\r\n            </THInput>\r\n        </tr>\r\n    }\r\n    componentDidMount() {\r\n        let { precio1, precio2, precio3 } = this.context as ProductosType;\r\n        this.setState({ precio1, precio2, precio3 })\r\n    }\r\n}\r\nFilaUtilidad.contextType = ProductosContext;\r\nexport default FilaUtilidad","import React from 'react';\r\nimport { Detalles } from '../../../Models/General';\r\nimport { Departamento, Producto } from '../../../Models/Productos';\r\nimport FilaPrecio from './FilaPrecio';\r\nimport FilaUtilidad from './FilaUtilidad';\r\nimport ModalBusqueda from '../../../Utiles/Buscadores/Modal';\r\nimport { ProductosContext } from '../../../Context/Producto';\r\ninterface Props {\r\n    type: 'COSTO' | 'UTILIDAD';\r\n    add: (p: Detalles[]) => void\r\n}\r\nclass CategoriaBuscar extends ModalBusqueda<Props> {\r\n    variant = 'bg-warning';\r\n    buscarEn = ['codigo', 'descripcion'];\r\n    Title() { return <h4 className='mr-auto'>BUSCAR DEPARTAMENTO</h4> }\r\n    Header() {\r\n        const { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th label='codigo' width='90px'>COD</Th>\r\n            <Th label='descripcion' width='auto'>DESCRIPCION</Th>\r\n            {this.head()}\r\n            <Th width='70px'> </Th>\r\n        </tr>\r\n    }\r\n    Row(c: Departamento) {\r\n        switch (this.props.type) {\r\n            case 'COSTO':\r\n                return <FilaPrecio key={c.codigo + 'COSTO'} departamento={c} add={this.addPrecio.bind(this)} />;\r\n            case 'UTILIDAD':\r\n                return <FilaUtilidad key={c.codigo + 'UTILIDAD'} departamento={c} add={this.addUtilidad.bind(this)} />;\r\n        }\r\n    }\r\n    filter() {\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: Producto) => {\r\n            if (c.estatus === 0) return false;\r\n            return true;\r\n        });\r\n    }\r\n    head() {\r\n        const { Th } = this;\r\n        switch (this.props.type) {\r\n            case 'COSTO':\r\n                return <>\r\n                    <Th width='150px'>OPERACION</Th>\r\n                    <Th width='180px'>COSTO</Th>\r\n                </>;\r\n            case 'UTILIDAD':\r\n                return <>\r\n                    <Th width='150px'>% UTILIDAD 1</Th>\r\n                    <Th width='150px'>% UTILIDAD 2</Th>\r\n                    <Th width='150px'>% UTILIDAD 3</Th>\r\n                </>;\r\n        }\r\n    }\r\n    addPrecio({ codigo, precio, operacion }: { codigo: string, precio: number, operacion: string }) {\r\n        let d: Detalles[] = [];\r\n        this.props.close();\r\n        this.context.estProducto.forEach((c: Producto) => {\r\n            if (codigo === 'AAAA' || c.departamento === codigo) {\r\n                let costo = c.costo;\r\n                switch (operacion) {\r\n                    case 'mas': costo += precio; break;\r\n                    case 'menos': costo -= precio; break;\r\n                    case 'por': costo *= precio; break;\r\n                    case 'entre': costo /= precio; break;\r\n                }\r\n                let k: Detalles = { ...c, precio: costo, unidades: 1, comentario: '' };\r\n                d.push(k);\r\n            }\r\n        });\r\n        this.props.add(d);\r\n    }\r\n    addUtilidad({ codigo, precio1, precio2, precio3 }: { codigo: string, precio1: number, precio2: number, precio3: number }) {\r\n        let d: Detalles[] = [];\r\n        this.props.close();\r\n        this.context.Productos.forEach((c: Producto) => {\r\n            if (codigo === 'AAAA' || c.departamento === codigo) {\r\n                let k: Detalles = { ...c, precio: c.costo, unidades: 1, comentario: '' };\r\n                k.precio1 = precio1;\r\n                k.precio2 = precio2;\r\n                k.precio3 = precio3;\r\n                d.push(k);\r\n            };\r\n        });\r\n        this.props.add(d);\r\n    }\r\n    getItens() { return [{ codigo: 'AAAA', descripcion: 'TODOS LO PRODUCTOS EN EL INVENTARIO', estatus: 1 }, ...this.context.Departamentos]; }\r\n    set() { this.context.actDepartamento(); }\r\n    getEstado() { return this.context.estDepartamentos; }\r\n}\r\nCategoriaBuscar.contextType = ProductosContext;\r\nexport default CategoriaBuscar;","import React from 'react'\r\nimport { Col, Button } from 'react-bootstrap';\r\nimport Ajuste from '../../../Models/Ajuste';\r\nimport { Detalles } from '../../../Models/General';\r\nimport AuxiliarNuevo, { ProductosModal } from '../../../Utiles/Prototipos/AuxiliarNuevo';\r\nimport FilaEntrada from './FilaEntrada';\r\nimport FilaSalida from './FilaSalida';\r\nimport FilaPrecio from './FilaPrecio';\r\nimport FilaUtilidad from './FilaUtilidad';\r\nimport CategoriaBuscar from '../../Departamento/CategoriaBuscar';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nexport default class AuxiliarAjuste extends AuxiliarNuevo {\r\n    Row({ data }: { data: Detalles }) {\r\n        const { tipo } = this.props.data as Ajuste;\r\n        switch (tipo) {\r\n            case 'ENTRADA':\r\n                return <FilaEntrada key={'USD' + data.codigo} producto={data} edit={this.addProductos.bind(this)} remove={this.removeProductos.bind(this)} />;\r\n            case 'SALIDA':\r\n                return <FilaSalida key={'USD' + data.codigo} producto={data} edit={this.addProductos.bind(this)} remove={this.removeProductos.bind(this)} />;\r\n            case 'COSTO':\r\n                return <FilaPrecio key={'USD' + data.codigo} producto={data} edit={this.addProductos.bind(this)} remove={this.removeProductos.bind(this)} />;\r\n            case 'UTILIDAD':\r\n                return <FilaUtilidad key={'USD' + data.codigo} producto={data} edit={this.addProductos.bind(this)} remove={this.removeProductos.bind(this)} />;\r\n        }\r\n        return <></>\r\n    }\r\n    BotonesLeft() {\r\n        const { tipo } = this.props.data as Ajuste;\r\n        if (tipo !== '') return <Col md={6}><b>TIPO DE AJUSTE: </b> {tipo}</Col>\r\n        return <Col md={6}>\r\n            <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={this.setStatus.bind(this)} className=\"form-control\" value={tipo}>\r\n                <option>SELECCIONE TIPO DE AJUSTE</option>\r\n                <option>ENTRADA</option>\r\n                <option>SALIDA</option>\r\n                <option>COSTO</option>\r\n                <option>UTILIDAD</option>\r\n            </select>\r\n        </Col>\r\n    }\r\n    BotonesRight() {\r\n        const { tipo } = this.props.data as Ajuste;\r\n        if (tipo === '') return <></>;\r\n        return <Col xs={6} style={{ textAlign: 'right' }} className=\"float-right\">\r\n            <ReactTooltip />\r\n            <Button data-tip=\"PROCESAR\" style={{ marginRight: \"15px\" }} variant=\"success\"\r\n                className=\"float-right\" onClick={() => this.setData({ procesar: true })} >\r\n                <span className=\"fa fa-print\" />\r\n            </Button>\r\n            {(tipo === 'COSTO' || tipo === 'UTILIDAD') ? <>\r\n                <CategoriaBuscar type={tipo} open={this.state.aux} add={this.addGrup.bind(this)} close={this.close.bind(this)} />\r\n                <Button style={{ marginRight: \"15px\" }} data-tip=\"APLICAR A DEPARTAMENTO\"\r\n                    onClick={() => { this.setState({ aux: true }) }}\r\n                    variant=\"warning\" className=\"float-right\" >\r\n                    <i className=\"fa fa-university\"></i>\r\n                </Button>\r\n            </> : <></>\r\n            }\r\n            <Button style={{ marginRight: \"15px\" }} data-tip=\"BUSCAR PRODUCTO\"\r\n                onClick={() => { this.setState({ buscarProducto: true }) }}\r\n                variant=\"primary\" className=\"float-right\" >\r\n                <span className=\"fa fa-search\"></span>\r\n            </Button>\r\n        </Col >\r\n    }\r\n    THead() {\r\n        return <tr className='info'>\r\n            <th style={{ width: \"100px\", textAlign: 'center' }}>CODIGO</th>\r\n            <th style={{ textAlign: 'center' }}>DESCRIPCI√ìN</th>\r\n            {this.Th()}\r\n            <th style={{ width: \"110px\", textAlign: 'center' }}>ACCIONES</th>\r\n        </tr>\r\n    }\r\n    Th() {\r\n        const { tipo } = this.props.data as Ajuste;\r\n        switch (tipo) {\r\n            case 'ENTRADA':\r\n                return <>\r\n                    <th style={{ width: \"100px\", textAlign: 'center' }}>CANTIDAD</th>\r\n                </>;\r\n            case 'SALIDA':\r\n                return <>\r\n                    <th style={{ width: \"100px\", textAlign: 'center' }}>CANTIDAD</th>\r\n                    <th style={{ width: \"150px\", textAlign: 'center' }}>DISPONIBLE</th>\r\n                </>;\r\n            case 'COSTO':\r\n                return <>\r\n                    <th style={{ width: \"300px\", textAlign: 'center' }}>COSTO</th>\r\n                </>;\r\n            case 'UTILIDAD':\r\n                return <>\r\n                    <th style={{ width: \"200px\", textAlign: 'center' }}>% UTILIDAD 1</th>\r\n                    <th style={{ width: \"200px\", textAlign: 'center' }}>% UTILIDAD 2</th>\r\n                    <th style={{ width: \"200px\", textAlign: 'center' }}>% UTILIDAD 3</th>\r\n                </>;\r\n        }\r\n        return <></>\r\n    }\r\n    setStatus(e: React.ChangeEvent<HTMLSelectElement>) {\r\n        this.setData({ tipo: e.currentTarget.value })\r\n    }\r\n    Calcular() { return <></> }\r\n    addGrup(pr: Detalles[]) {\r\n        let { props: { data: { detalles } } } = this;\r\n        let data = detalles.filter(p => pr.some(d => p.codigo !== d.codigo));\r\n        this.setData({ detalles: [...data, ...pr] });\r\n    }\r\n    componentWillReceiveProps(p: any) {\r\n        const { tipo } = p.data as Ajuste;\r\n        if (this.productos !== tipo) this.productos = tipo as ProductosModal;\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ProductosContext } from \"../../../Context/Producto\";\r\nimport  { AjusteNull, ajusteSend, conAjuste } from \"../../../Models/Ajuste\";\r\nimport { InputArea } from \"../../../Utiles/Inputs\";\r\nimport CreateOperacion from \"../../../Utiles/Componentes/CreateOperacion\";\r\nimport AuxiliarAjuste from \"./AuxiliarAjuste\";\r\nclass NuevaAjuste extends CreateOperacion {\r\n    con = conAjuste();\r\n    tipo = 'Ajuste';\r\n    title = 'OPERACION DE INVENTARIO'\r\n    msn = 'LA OPERACION DE INVENTARIO';\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { ...AjusteNull, procesar: false };\r\n    }\r\n    Top() {\r\n        return <>\r\n        <b>NOTA</b>\r\n        <InputArea rows={4} maxLength={600} value={this.state.nota} setData={this.setState} update=\"nota\" />\r\n        </>\r\n    }\r\n    Productos() {\r\n        return <AuxiliarAjuste setData={this.setState} data={this.state} />\r\n    }\r\n    Procesar() {\r\n        const data:any = this.state;\r\n        let procesar = true;\r\n        if (this.state.nota === '') {\r\n            toast('DEBE AGREGAR UNA NOTA', { type: toast.TYPE.ERROR });\r\n            procesar = false;\r\n        }procesar = this.validacionGenerica();\r\n        if (procesar)\r\n            this.con.nuevo(ajusteSend(data), data => this.setState({ codigo: data.codigo }));\r\n    }\r\n}\r\nNuevaAjuste.contextType = ProductosContext;\r\nexport default NuevaAjuste;","import React from 'react';\r\nimport { Button, Col, InputGroup } from 'react-bootstrap';\r\nimport { InputDate, InputNumber } from '../../Utiles/Inputs';\r\nimport DepartamentoSelector from '../Departamento/Selector';\r\nexport interface AvanzadosProps {\r\n    setData: (d: any) => void\r\n    fecha_init: string\r\n    fecha_fin: string\r\n    min: number\r\n    max: number\r\n    departamento: string\r\n    status: number\r\n}\r\nexport default function Avanzados({ fecha_init, fecha_fin, min, max, departamento,status, setData }: AvanzadosProps) {\r\n    const limpiarFechas = () => { setData({ fecha_ini: 'dd/mm/aaaa', fecha_fin: 'dd/mm/aaaa' }) };\r\n    const limpiarstock = () => { setData({ min: 0, max: 0 }) };\r\n    const setDepartamento = (departamento: string) => { setData({ departamento }) };\r\n    const setStatus = (e: React.ChangeEvent<HTMLSelectElement>) => { setData({ status: parseInt(e.currentTarget.value) }) };\r\n    return <div className='row'>\r\n        <Col xs={12} className='RangoFechas' >\r\n            <InputGroup>\r\n                <InputGroup.Prepend><InputGroup.Text>TIEMPO DE CREACION</InputGroup.Text></InputGroup.Prepend>\r\n                <InputDate value={fecha_init} setData={setData} update='fecha_init' />\r\n                <InputDate value={fecha_fin} setData={setData} update='fecha_fin' />\r\n                <Button onClick={limpiarFechas} data-tip=\"LIMPIAR FECHAS\" variant=\"danger\"><i className=\"fa fa fa-check-circle-o\"></i></Button>\r\n            </InputGroup>\r\n        </Col>\r\n        <Col xs={12} className='productoStock'><br />\r\n            <InputGroup>\r\n                <InputGroup.Prepend><InputGroup.Text>INVENTARIO DISPONIBLE DESDE</InputGroup.Text></InputGroup.Prepend>\r\n                <InputNumber value={min} setData={setData} update='min' />\r\n                <InputGroup.Prepend><InputGroup.Text>HASTA</InputGroup.Text></InputGroup.Prepend>\r\n                <InputNumber value={max} setData={setData} update='max' />\r\n                <Button onClick={limpiarstock} data-tip=\"LIMPIAR STOCK\" variant=\"danger\"><i className=\"fa fa fa-check-circle-o\"></i></Button>\r\n            </InputGroup>\r\n        </Col>\r\n        <Col data-tip=\"FILTRAR POR DEPARTAMENTO\" xs={12} style={{ minWidth: '320px' }} className='RangoFechas'><br />\r\n            <DepartamentoSelector change={setDepartamento} defaultValue={departamento} />\r\n        </Col>\r\n        <Col style={{ minWidth: '230px' }} xs={12} className='productoStock'><br />\r\n            <select data-tip=\"FILTRAR POR EL ESTADO\" onChange={setStatus} className=\"form-control\" value={status}>\r\n                <option value={-1}>TODOS LOS ESTADOS</option>\r\n                <option value={0}>INACTIVO</option>\r\n                <option value={1}>ACTIVO</option>\r\n            </select>\r\n        </Col>\r\n    </div >\r\n}","import React from 'react'\r\nimport { Button, Modal, Row, Col, InputGroup, FormControl } from 'react-bootstrap';\r\nimport { conDepartamento, conProducto, conTipo, Producto } from '../../Models/Productos';\r\nimport UnidadesSelector from '../Unidad/Selector';\r\nimport { toast } from 'react-toastify';\r\nimport { InputArea } from '../../Utiles/Inputs';\r\nimport { numberFormat } from '../../Utiles/Formatos';\r\ninterface Props {\r\n    open: boolean\r\n    close: () => void\r\n    add: (p: Producto) => void\r\n    producto: Producto;\r\n}\r\ninterface State extends Producto {\r\n    cateName?: string\r\n}\r\nexport default class EditProductos extends React.Component<Props, State>{\r\n    con = conProducto();\r\n    departamento = '';\r\n    tipo = '';\r\n    constructor(p: Props) {\r\n        super(p)\r\n        this.state = p.producto;\r\n        this.setState = this.setState.bind(this)\r\n    }\r\n\r\n    setUnidad(unidad: number) {\r\n        this.setState({ unidad })\r\n    }\r\n\r\n    render() {\r\n        let { setState, state: { descripcion, codigo, unidad, precio1, precio2, precio3, costo, enser,exento }, props: { open, close }, tipo, departamento } = this;\r\n        return <Modal  size=\"xl\" animation show={open} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <h4 className='mr-auto'><i className=\"fa fa-edit\"></i> EDITAR PRODUCTO</h4>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Col xs={4}>\r\n                        <InputGroup style={{ width: '100%' }}>\r\n                            <InputGroup.Prepend><InputGroup.Text>CODIGO</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl disabled value={codigo} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={8}>\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>DEPARTAMENTO</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl disabled value={departamento} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={12}><br />\r\n                        <b>DESCRIPCI√ìN</b>\r\n                        <InputArea rows={3} maxLength={300} value={descripcion} setData={setState} update=\"descripcion\" />\r\n                    </Col>\r\n                    <Col md={4} style={{ height: 54 }}><br />\r\n                        <Button block onClick={() => { this.setState({ enser: enser === 1 ? 0 : 1 }) }} variant={enser === 0 ? 'success' : 'danger'}>\r\n                            PARA LA VENTA: {enser === 0 ? 'SI' : 'NO'}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <UnidadesSelector defaultValue={unidad} change={this.setUnidad.bind(this)} />\r\n                    </Col>\r\n                    <Col xs={4} style={{ height: 54 }}><br />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>TIPO</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl disabled value={tipo} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col md={4}><br />\r\n                        <Button block onClick={() => { this.setState({ exento: !exento }) }} variant={exento ? 'success' : 'primary'}>\r\n                            EXENTO: {exento ? 'SI' : 'NO'}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col xs={8} style={{ height: 54 }}><br />\r\n                        <InputGroup style={{ width: '100%' }} className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>COSTO</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(costo)} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    {/* utilidades de venta */}\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>UTILIDAD 1</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(precio1)} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>UTILIDAD 2</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(precio2)} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>UTILIDAD 3</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(precio3)} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    {/* precios de venta */}\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>PRECIO 1</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(this.getPrecio(precio1))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>PRECIO 2</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(this.getPrecio(precio2))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs={4}><br />\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend><InputGroup.Text>PRECIO 3</InputGroup.Text></InputGroup.Prepend>\r\n                            <FormControl style={{ textAlign: 'right' }} disabled value={numberFormat(this.getPrecio(precio3))} />\r\n                        </InputGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button onClick={this.actualizar.bind(this)} variant=\"primary\">\r\n                    <span className=\"fa fa-floppy-disk\" /> Guardar\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal >\r\n    }\r\n    actualizar() {\r\n        let { descripcion, unidad } = this.state;\r\n        if (descripcion === '') {\r\n            toast('DEBE COLOCAR UNA DESCRIPCION', { type: toast.TYPE.ERROR })\r\n        } else if (unidad === -1) {\r\n            toast('DEBA SELECCIONAR UNA UNIDAD DE MEDIDA', { type: toast.TYPE.ERROR })\r\n        } else {\r\n            this.con.actualizar(this.state.codigo, this.state,\r\n                data => { this.props.add(data); this.props.close(); });\r\n        }\r\n    }\r\n    getPrecio(price: number) {\r\n        let utilidad = (price / 100) + 1\r\n        return this.state.costo * utilidad;\r\n    }\r\n    componentDidMount() {\r\n        let { departamento, tipo, } = this.props.producto;\r\n        conDepartamento().detalle(departamento, data => {\r\n            this.departamento = data.descripcion; this.forceUpdate();\r\n        });\r\n        conTipo().detalle(tipo, data => {\r\n            this.tipo = data.descripcion; this.forceUpdate();\r\n        });\r\n    }\r\n}\r\n","\r\nimport React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { conProducto, Producto } from '../../Models/Productos';\r\nimport THFila from '../../Utiles/Componentes/THFila';\r\nimport { numberFormat } from '../../Utiles/Formatos';\r\nimport EditProductos from './EditProducto';\r\n\r\ninterface Props {\r\n    data: Producto\r\n    update: () => void\r\n}\r\ninterface State {\r\n    edit: boolean\r\n}\r\nexport default class FilaProducto extends React.Component<Props, State>{\r\n    constructor(p: any) {\r\n        super(p);\r\n        this.state = { edit: false };\r\n    }\r\n    render() {\r\n        const { codigo, descripcion, cantidad, inventario, costo } = this.props.data;\r\n        return <tr >\r\n            <THFila width='90px'>\r\n                {codigo}\r\n            </THFila>\r\n            <THFila width='calc(100% - 500px)'>\r\n                {descripcion}\r\n            </THFila>\r\n            <THFila width='160px' align='right'>\r\n                {(inventario !== 1) ? numberFormat(cantidad) : 'NO APLICA'}\r\n            </THFila>\r\n            <THFila width='250px' align='right'>\r\n                {numberFormat(costo)}\r\n            </THFila>\r\n            <THFila width='100px' align='right'>\r\n                {this.getStatus()}\r\n            </THFila>\r\n            <th style={{ minWidth: \"135px\", maxWidth: \"135px\" }}>\r\n                <ButtonGroup className=\"float-right\">\r\n                    <Button data-tip=\"EDITAR\" variant=\"primary\"\r\n                        onClick={() => { this.setState({ edit: true }) }}>\r\n                        <i className=\"fa fa-edit\"></i>\r\n                    </Button>\r\n                    <ReactTooltip />\r\n                    <EditProductos open={this.state.edit}\r\n                        producto={this.props.data} key={'edit' + codigo}\r\n                        close={() => { this.setState({ edit: false }) }}\r\n                        add={this.props.update} />\r\n                    {(this.props.data.estatus === 1) ?\r\n                        <Button data-tip=\"ELIMINAR\" variant=\"danger\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-ban\"></i>\r\n                        </Button> : <Button data-tip=\"ACTIVAR\" variant=\"success\"\r\n                            onClick={this.cancelar.bind(this)} >\r\n                            <i className=\"fa fa-check-circle-o\"></i>\r\n                        </Button>}\r\n                </ButtonGroup>\r\n            </th>\r\n        </tr >\r\n    }\r\n    getStatus() {\r\n        if (this.props.data.estatus === 1)\r\n            return <span className=\"badge badge-success\">ACTIVO</span>\r\n        return <span className=\"badge badge-danger\">INACTIVO</span>\r\n    }\r\n    close() {\r\n        this.setState({ edit: false });\r\n    }\r\n    cancelar() {\r\n        this.close();\r\n        conProducto().cancelar(this.props.data.codigo, this.props.update);\r\n    }\r\n}","import React from 'react'\r\nimport { Button } from 'react-bootstrap';\r\nimport { ProductosContext } from '../../Context/Producto';\r\nimport { conProducto, Producto } from '../../Models/Productos';\r\nimport CardBuscador from '../../Utiles/Buscadores/Card';\r\nimport Avanzados, { AvanzadosProps } from './Avanzados';\r\nimport FilaProducto from './Fila';\r\nimport FormProductos from './FormProductos';\r\n\r\nclass ListaProductos extends CardBuscador {\r\n    con = conProducto();\r\n    placeholder = \"BUSCAR PRODUCTO\";\r\n    fecha_init = 'dd/mm/aaaa';\r\n    fecha_fin = 'dd/mm/aaaa';\r\n    departamento = 'TODO';\r\n    max = 0;\r\n    min = 0;\r\n    status = -1;\r\n    buscarEn = ['codigo', 'descripcion'];\r\n    Title() {\r\n        const { setState, set, state: { modal } } = this;\r\n        return <>\r\n            <FormProductos\r\n                open={modal}\r\n                close={() => { setState({ modal: false }) }}\r\n                add={set.bind(this)} />\r\n            <h4 className='mr-auto'><i className=\"fa fa-search\"></i> BUSCAR PRODUCTO</h4>\r\n            <Button onClick={() => { setState({ modal: true }) }} variant='primary'>\r\n                <span className=\"fa fa-plus\"></span> NUEVO PRODUCTO\r\n            </Button>\r\n        </>\r\n    }\r\n    Avansado() {\r\n        const { fecha_fin, fecha_init, status, departamento, min, max, setAvansados } = this;\r\n        return <Avanzados fecha_fin={fecha_fin} fecha_init={fecha_init} status={status}\r\n            departamento={departamento} min={min} max={max} setData={setAvansados.bind(this)} />\r\n    }\r\n    Row(d: Producto) {\r\n        return <FilaProducto data={d} update={this.set.bind(this)} />\r\n    }\r\n    Header() {\r\n        let { Th } = this;\r\n        return <tr className=\"info\">\r\n            <Th width='90px' label='codigo'>COD</Th>\r\n            <Th width='calc(100% - 500px)' label='descripcion'>DESCRIPCION</Th>\r\n            <Th width='160px' label='100px'>CANTIDAD</Th>\r\n            <Th width='250px' label='100px'>COSTO</Th>\r\n            <Th width='100px'>ESTATUS</Th>\r\n            <Th width='150px'>ACCIONES</Th>\r\n        </tr>\r\n    }\r\n    setAvansados({ fecha_init, fecha_fin, min, max, departamento, status }: AvanzadosProps) {\r\n        if (fecha_init) this.fecha_init = fecha_init;\r\n        if (fecha_fin) this.fecha_fin = fecha_fin;\r\n        if (departamento) this.departamento = departamento;\r\n        if (status) this.status = status;\r\n        if (status === 0) this.status = status;\r\n        if (max) this.max = max;\r\n        if (max === 0) this.max = max;\r\n        if (min) this.min = min;\r\n        if (min === 0) this.min = min;\r\n        this.forceUpdate()\r\n    }\r\n    filter() {\r\n        const { fecha_fin, fecha_init, status, departamento, min, max, datetonomber } = this;\r\n        let itens = this.ordenar();\r\n        return itens.filter((c: Producto) => {\r\n            if (c.cantidad < min) return false;\r\n            if (c.cantidad > max && max !== 0) return false;\r\n            if (c.estatus !== status && status !== -1) return false;\r\n            if (departamento !== 'TODO' && c.departamento !== departamento) return false;\r\n            const creacion = datetonomber(c.fecha_creacion);\r\n            if (fecha_fin !== 'dd/mm/aaaa' && creacion > datetonomber(fecha_fin)) return false;\r\n            if (fecha_init !== 'dd/mm/aaaa' && creacion < datetonomber(fecha_init)) return false;\r\n            return true;\r\n        });\r\n    }\r\n    getItens() { return this.context.Productos; }\r\n    set() { this.context.actProducto(); }\r\n    getEstado() { return this.context.estProducto }\r\n}\r\nListaProductos.contextType = ProductosContext;\r\nexport default ListaProductos;\r\n","import React, { useContext } from 'react';\r\nimport { Route } from \"react-router-dom\"\r\nimport ListAjustes from '../App/Ajustes';\r\nimport NuevaAjuste from '../App/Ajustes/Nuevo';\r\nimport ListaProductos from '../App/Productos';\r\nimport ProductosProvider from '../Context/Producto';\r\nimport { SeccionContext } from '../Context/Seccion';\r\nimport UnAutorization from '../Utiles/Componentes/UnAutorization';\r\nexport default function MasterProductos() {\r\n    return (<ProductosProvider>\r\n        <Route path=\"/producto\" exact component={Productos} />\r\n        <Route path=\"/producto/ajuste\" component={Ajuste} />\r\n    </ProductosProvider>);\r\n}\r\nfunction Productos() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'PRODUCTO'))\r\n        return <ListaProductos />\r\n    return <UnAutorization />\r\n}\r\nfunction Ajuste() {\r\n    const contex = useContext(SeccionContext);\r\n    if (contex?.data.Permisos.some(p => p === 'AJUSTE'))\r\n        return <>\r\n            <Route path=\"/producto/ajuste/lista\" component={ListAjustes} />\r\n            <Route path=\"/producto/ajuste/nuevo\" component={NuevaAjuste} />\r\n        </>\r\n    return <UnAutorization />\r\n}","import React from 'react';\r\nimport { Row, Spinner } from 'react-bootstrap';\r\nexport default function Cargando() {\r\n    return <Row style={{ fontSize: \"300%\" }} className=\"d-flex justify-content-center\">\r\n        <Spinner style={{ width: \"15rem\", height: \"15rem\" }} variant=\"primary\" animation=\"border\" />\r\n        <h4 style={{ position: \"absolute\" }} className=\"m-0 font-weight-bold text-primary mr-auto align-self-center\">\r\n            Cargando....\r\n        </h4>\r\n    </Row>\r\n}","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Header from './Template/Header';\r\nimport Menu from './Template/Menu';\r\nimport Footer from './Template/Footer';\r\nimport ListaUsuarios from './App/Usuarios'; \r\nimport Panel from './App/Panel';\r\nimport Login from './App/Login';\r\nimport { SeccionContext } from './Context/Seccion'\r\nimport ProductosProvider from './Context/Producto'\r\nimport MasterVentas from './Masters/Ventas';\r\nimport MasterCompras from './Masters/Compras';\r\nimport MasterConfig from './Masters/Config';\r\nimport MasterReportes from './Masters/Reporte';\r\nimport MasterProductos from './Masters/Productos';\r\nimport { Card } from 'react-bootstrap';\r\nimport Cargando from './Utiles/Componentes/Cargando';\r\nimport './Utiles/Noti.css';\r\nclass App extends React.Component {\r\n  render() {\r\n    if (!this.context.data.seccion)\r\n      return <Login update={this.forceUpdate.bind(this)} />\r\n    let data = localStorage.getItem('menu');\r\n    if (!data) { data = \"open\"; localStorage.setItem('menu', 'open'); }\r\n    let styles: any = { minHeight: \"calc(100vh - 300px)\", marginRight: '15px', transition: 'width 2s' };\r\n    if (data === 'cerrado') styles.marginLeft = \"90px\";\r\n    else styles.marginLeft = \"270px\";\r\n    return (<Router>\r\n      <ProductosProvider>\r\n        <Header update={this.forceUpdate.bind(this)} key='headerBar' />\r\n        <Menu key='MenuAside' />\r\n        <section style={styles} className=\"content\">\r\n          <ToastContainer position='bottom-right' />\r\n          <br />\r\n          {(this.context.data.cargando) ?\r\n            <Card style={{ height: 'calc(100vh - 200px)', padding: '20% 20% 20% 20%' }}>\r\n              <Cargando />\r\n            </Card>\r\n            : <Switch>\r\n              <Route path=\"/\" exact component={Panel} />\r\n              <Route path={[\"/cotizacion\", \"/factura\", \"/nota\", \"/clientes\",]} component={MasterVentas} />\r\n              <Route path={[\"/orden\", \"/compra\", \"/proveedores\",]} component={MasterCompras} />\r\n              <Route path='/producto' component={MasterProductos} />\r\n              <Route path=\"/usuarios\" component={ListaUsuarios} />\r\n              <Route path='/config' component={MasterConfig} />\r\n              <Route path='/reporte' component={MasterReportes} />\r\n            </Switch>}\r\n        </section>\r\n        <Footer />\r\n      </ProductosProvider>\r\n    </Router >);\r\n  }\r\n  componentDidMount() {\r\n    let body = document.getElementsByTagName('body')[0];\r\n    let data = localStorage.getItem('menu');\r\n    if (!data) {\r\n      data = \"open\";\r\n      localStorage.setItem('menu', 'open')\r\n    }\r\n    if (body) {\r\n      if (data === 'cerrado')\r\n        body.classList.add('sidebar-collapse')\r\n      else\r\n        body.classList.remove('sidebar-collapse')\r\n    }\r\n  }\r\n}\r\nApp.contextType = SeccionContext;\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { SeccionProvider } from './Context/Seccion';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <SeccionProvider>\r\n      <App />\r\n    </SeccionProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}